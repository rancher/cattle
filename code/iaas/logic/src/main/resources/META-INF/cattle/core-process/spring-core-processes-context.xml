<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:aop="http://www.springframework.org/schema/aop"
    xmlns:task="http://www.springframework.org/schema/task"
    xmlns:process="http://cattle.io/schemas/spring/process/generic-process"
    xmlns:p="http://www.springframework.org/schema/p"
    xsi:schemaLocation="http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
		http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
        http://cattle.io/schemas/spring/process/generic-process http://cattle.io/schemas/spring/process/generic-process-1.0.xsd">

    <bean class="io.cattle.platform.process.common.spring.GenericResourceProcessDefinitionCollector" />
    <bean id="processFactory" abstract="true" class="io.cattle.platform.process.common.spring.GenericProcessFactory" />

    <!-- 
        <process:defaultProcesses resourceType="agent" />

        The above XML is the equivalent as doing the below, 
        refer to cattle/code/iaas/logic-common/src/main/resources/META-INF/cattle/process/defaults.properties for the definitive list

        <process:process name="agent.create" resourceType="agent" start="requested" transitioning="registering" done="inactive" delegate="agent.activate" />
        <process:process name="agent.activate" resourceType="agent" start="inactive,registering" transitioning="activating" done="active" />
        <process:process name="agent.deactivate" resourceType="agent" start="active,activating,updating-active,updating-inactive" transitioning="deactivating" done="inactive" delegate="agent.remove" />
        <process:process name="agent.remove" resourceType="agent" start="requested,inactive,activating,deactivating,registering,updating-active,updating-inactive" transitioning="removing" done="removed" />
        <process:process name="agent.purge" resourceType="agent" start="removed" transitioning="purging" done="purged" />
        <process:process name="agent.update" resourceType="agent" start="inactive,active" transitioning="inactive=updating-inactive,active=updating-active" done="updating-inactive=inactive,updating-active=active" />
        <process:process name="agent.restore" resourceType="agent" start="removed" transitioning="restoring" done="inactive" />
    -->


    <process:defaultProcesses resourceType="agentgroup" />
    <process:defaultProcesses resourceType="account" />
    <process:defaultProcesses resourceType="credential" />
    <process:defaultProcesses resourceType="credentialInstanceMap" />
    <process:defaultProcesses resourceType="genericObject" />
    <process:defaultProcesses resourceType="host" />
    <process:defaultProcesses resourceType="hostIpAddressMap" />
    <process:defaultProcesses resourceType="hostVnetMap" />
    <process:defaultProcesses resourceType="image" />
    <process:defaultProcesses resourceType="imageStoragePoolMap" />
    <process:defaultProcesses resourceType="instanceHostMap" />
    <process:defaultProcesses resourceType="instanceLink" />
    <process:defaultProcesses resourceType="ipAddressNicMap" />
    <process:defaultProcesses resourceType="ipAssociation" />
    <process:defaultProcesses resourceType="ipPool" />
    <process:defaultProcesses resourceType="network" />
    <process:defaultProcesses resourceType="networkService" />
    <process:defaultProcesses resourceType="networkServiceProvider" />
    <process:defaultProcesses resourceType="networkServiceProviderInstanceMap" />
    <process:defaultProcesses resourceType="nic" />
    <process:defaultProcesses resourceType="port" />
    <process:defaultProcesses resourceType="storagePool" />
    <process:defaultProcesses resourceType="storagePoolHostMap" />
    <process:defaultProcesses resourceType="subnet" />
    <process:defaultProcesses resourceType="subnetVnetMap" />
    <process:defaultProcesses resourceType="vnet" />
    <process:defaultProcesses resourceType="volumeStoragePoolMap" />
    <process:defaultProcesses resourceType="zone" />
    <process:defaultProcesses resourceType="mount" />

    <!-- IP Address -->
    <process:defaultProcesses resourceType="ipAddress" />
    <process:process name="ipaddress.associate" resourceType="ipAddress" start="active" transitioning="associating" done="associated" />
    <process:process name="ipaddress.disassociate" resourceType="ipAddress" start="associating,associated" transitioning="disassociating" done="active" />

    <!-- Agent -->
    <process:defaultProcesses resourceType="agent" exclude="agent.deactivate" />
    <process:process name="agent.deactivate" resourceType="agent" start="active,activating,reconnecting,updating-active,updating-inactive" 
                                            transitioning="deactivating" done="inactive" delegate="agent.remove" />
    <process:process name="agent.reconnect" resourceType="agent" start="active,activating" transitioning="reconnecting" done="active" />

    <!-- Instance -->
    <process:defaultProcesses resourceType="instance"
        renames="
            registering=creating,
            inactive=stopped,
            activating=starting,
            active=running,
            updating-active=updating-running,
            deactivating=stopping,
            updating-inactive=updating-stopped"
        processRenames="
            instance.activate=instance.start,
            instance.deactivate=instance.stop"
        />
    <process:process name="instance.migrate" resourceType="instance" start="running" transitioning="migrating" done="running" />
    <process:process name="instance.allocate" resourceType="instance" stateField="allocationState" start="inactive" transitioning="activating" done="active" />
    <process:process name="instance.deallocate" resourceType="instance" stateField="allocationState" start="activating,active" transitioning="deactivating" done="inactive" />
    <process:process name="instance.restart" resourceType="instance" start="running" transitioning="restarting" done="running" />

    <!-- Volume -->
    <process:defaultProcesses resourceType="volume" />
    <process:process name="volume.allocate" resourceType="volume" stateField="allocationState" start="inactive" transitioning="activating" done="active" />
    <process:process name="volume.deallocate" resourceType="volume" stateField="allocationState" start="activating,active" transitioning="deactivating" done="inactive" />

    <!-- Load Balancer Listener -->
    <process:process name="loadbalancerlistener.create" resourceType="loadBalancerListener" start="requested" transitioning="activating" done="active" />
    <process:process name="loadbalancerlistener.remove" resourceType="loadBalancerListener" start="active,activating" transitioning="removing" done="removed" />

    <!-- Load Balancer Config -->
    <process:process name="loadbalancerconfig.create" resourceType="loadBalancerConfig" start="requested" transitioning="activating" done="active" />
    <process:process name="loadbalancerconfig.remove" resourceType="loadBalancerConfig" start="active,activating,updating-active" transitioning="removing" done="removed" />
    <process:process name="loadbalancerconfig.addlistener" resourceType="loadBalancerConfig" start="active" transitioning="updating-active" done="active" />
    <process:process name="loadbalancerconfig.removelistener" resourceType="loadBalancerConfig" start="active" transitioning="updating-active" done="active" />
    <process:process name="loadbalancerconfig.setlisteners" resourceType="loadBalancerConfig" start="active" transitioning="updating-active" done="active" />
    <process:process name="loadbalancerconfig.update" resourceType="loadBalancerConfig" start="active" transitioning="updating-active" done="active" />

    <!-- Load Balancer Config Listener Map -->
    <process:process name="loadbalancerconfiglistenermap.create" resourceType="loadBalancerConfigListeneMap" start="requested" transitioning="activating" done="active" />
    <process:process name="loadbalancerconfiglistenermap.remove" resourceType="loadBalancerConfigListeneMap" start="active,activating" transitioning="removing" done="removed" />

    <!-- Global Load Balancer -->
    <process:process name="globalloadbalancer.create" resourceType="globalLoadBalancer" start="requested" transitioning="activating" done="active" />
    <process:process name="globalloadbalancer.remove" resourceType="globalLoadBalancer" start="active, activating, updating-active" transitioning="removing" done="removed" />
    <process:process name="globalloadbalancer.addloadbalancer" resourceType="globalLoadBalancer" start="active" transitioning="updating-active" done="active" />
    <process:process name="globalloadbalancer.removeloadbalancer" resourceType="globalLoadBalancer" start="active" transitioning="updating-active" done="active" />

    <!-- Load Balancer -->
    <process:process name="loadbalancer.create" resourceType="loadBalancer" start="requested" transitioning="activating" done="active" />
    <process:process name="loadbalancer.remove" resourceType="loadBalancer" start="active, activating, updating-active" transitioning="removing" done="removed" />
    <process:process name="loadbalancer.addtarget" resourceType="loadBalancer" start="active" transitioning="updating-active" done="active" />
    <process:process name="loadbalancer.removetarget" resourceType="loadBalancer" start="active" transitioning="updating-active" done="active" />
    <process:process name="loadbalancer.settargets" resourceType="loadBalancer" start="active" transitioning="updating-active" done="active" />
    <process:process name="loadbalancer.addhost" resourceType="loadBalancer" start="active" transitioning="updating-active" done="active" />
    <process:process name="loadbalancer.removehost" resourceType="loadBalancer" start="active" transitioning="updating-active" done="active" />
    <process:process name="loadbalancer.update" resourceType="loadBalancer" start="active" transitioning="updating-active" done="active" />
    <process:process name="loadbalancer.sethosts" resourceType="loadBalancer" start="active" transitioning="updating-active" done="active" />

    <!-- Load Balancer Target -->
    <process:process name="loadbalancertarget.create" resourceType="loadBalancerTarget" start="requested" transitioning="activating" done="active" />
    <process:process name="loadbalancertarget.remove" resourceType="loadBalancerTarget" start="active,activating" transitioning="removing" done="removed" />

    <!-- Load Balancer Host Map -->
    <process:process name="loadbalancerhostmap.create" resourceType="LoadBalancerHostMap" start="requested" transitioning="activating" done="active" />
    <process:process name="loadbalancerhostmap.remove" resourceType="LoadBalancerHostMap" start="active,activating" transitioning="removing" done="removed" />

    <!-- Physical Host -->  
    <process:process name="physicalhost.create" resourceType="physicalHost" start="requested" transitioning="creating" done="created" delegate="physicalhost.bootstrap" />
    <process:process name="physicalhost.bootstrap" resourceType="physicalHost" start="created,creating" transitioning="bootstrapping" done="active" />
    <process:process name="physicalhost.remove" resourceType="physicalHost" start="active,requested,bootstrapping,creating,updating,error,erroring" transitioning="removing" done="removed" />
    <process:process name="physicalhost.update" resourceType="physicalHost" start="active" transitioning="updating" done="active" />
    <process:process name="physicalhost.error" resourceType="physicalHost" start="creating, bootstrapping, updating" transitioning="erroring" done="error" />

    <!-- Cluster host map -->
    <process:process name="clusterhostmap.create" resourceType="clusterHostMap" start="requested" transitioning="creating" done="created" />
    <process:process name="clusterhostmap.remove" resourceType="clusterHostMap" start="created,creating" transitioning="removing" done="removed" />

    <!-- Service Discovery Environment -->
    <process:process name="environment.create" resourceType="environment" start="requested" transitioning="activating" done="active" />
    <process:process name="environment.remove" resourceType="environment" start="active, activating" transitioning="removing" done="removed" />
    
    <!-- Service Discovery Service -->
    <process:process name="service.create" resourceType="service" start="requested" transitioning="registering" done="inactive" />
    <process:process name="service.activate" resourceType="service" start="inactive" transitioning="activating" done="active" />
    <process:process name="service.deactivate" resourceType="service" start="active,activating" transitioning="deactivating" done="inactive" />
    <process:process name="service.remove" resourceType="service" start="inactive, registering, active,activating" transitioning="removing" done="removed" />
    
    <!-- Service Discovery Service/Instance map -->
    <process:process name="serviceexposemap.create" resourceType="serviceExposeMap" start="requested" transitioning="activating" done="active" />
    <process:process name="serviceexposemap.remove" resourceType="serviceExposeMap" start="active,activating" transitioning="removing" done="removed" />
    
    <!-- Service Discovery Service/Service map -->
    <process:process name="serviceconsumemap.create" resourceType="serviceConsumeMap" start="requested" transitioning="activating" done="active" />
    <process:process name="serviceconsumemap.remove" resourceType="serviceConsumeMap" start="active,activating" transitioning="removing" done="removed" />
    
</beans>
