<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Test Results &mdash; py.test in core</title>
<style type="text/css">
          html {
            height: 100%
          }

          body {
            margin: 0 auto;
            padding: 0;
            text-align: left;
            height: 100%;
            font-family: myriad, arial, tahoma, verdana, sans-serif;
            color: #151515;
            font-size: 90%;
            line-height: 1.3em;
            background-color: #fff;
          }

          * {
            margin: 0;
            padding: 0
          }

          .clr {
            clear: both;
            overflow: hidden;
          }

          img {
            border: none
          }

          a {
            color: #0046b0;
            text-decoration: none;
          }

          a:hover {
            text-decoration: none;
          }

          a:focus, a:active {
            outline: none
          }

          .noborder {
            border: none
          }

          h1 {
            color: #151515;
            font-size: 180%;
            line-height: 1.1em;
            font-weight: bold;
          }

          h2 {
            color: #393D42;
            font-size: 160%;
            font-weight: normal
          }

          h3 {
            font-size: 120%;
            font-weight: bold;
            margin-bottom: .5em
          }

          h4 {
            font-size: 110%;
          }

          h5 {
            font-size: 110%;
          }

          span.failed {
            color: #ff0000
          }

          span.error {
            color: #ff0000
          }

          span.passed {
            color: #1d9d01
          }

          span.ignored {
            color: #fff600
          }

          span.skipped {
            color: #fff600
          }

          hr {
            background-color: blue
          }

          #container {
            min-width: 30em;
          }

          #header {
            padding: 0;
            position: fixed;
            width: 100%;
            z-index: 10;
            background-color: #c7ceda;
          }

          #header h1 {
            margin: 1em 3em 1em 1.7em;
          }

          #header h1 strong {
            white-space: nowrap;
          }

          #header .time {
            margin-top: 2.2em;
            margin-right: 3.4em;
            float: right;
          }

          #treecontrol {
            margin: 0;
            padding: .5em 3em .5em 0;
            text-align: right;
            background-color: #fff;
          }

          #treecontrol ul li {
            display: inline;
            list-style: none;
            color: #666;
          }

          #content {
            padding: 0 2.5em 2em 1.7em;
          }

          #content ul {
            margin: .4em 0 .1em 2em;
            list-style: none;
          }

          #content ul li.level {
            cursor: pointer;
          }

          #content ul li.level span {
            display: block;
            font-weight: bold;
          }

          #content ul li.level.top {
            margin-bottom: .3em;
          }

          #content ul li.level.top > span {
            padding: .5em 0 .5em 1em;
            font-size: 120%;
            color: #151515;
            background-color: #f2f2f2;
            border-left: solid 10px #93e078;
          }

          #content ul li.level.top.failed > span {
            border-left: solid 10px #f02525;
          }

          #content ul li.level.top.ignored > span {
            border-left: solid 10px #f8d216;
          }

          #content ul li.level.suite > span {
            margin-bottom: .8em;
            padding: 0 0 0 .8em;
            display: block;
            font-size: 110%;
            line-height: 1em;
            color: #151515;
            border-left: solid 15px #93e078;
          }

          #content ul li.level.suite.failed > span {
            border-left: solid 15px #f02525;
          }

          #content ul li.level.suite.ignored > span {
            border-left: solid 15px #f8d216;
          }

          #content ul li.level.suite > ul {
            margin-bottom: 1.5em;
          }

          #content ul li.level.test > span {
            padding: .3em 0 .3em 1em;
            color: #0046b0;
            font-size: 100%;
            border-left: solid 6px #93e078;
            border-bottom: solid 1px #dbdbdb;
          }

          #content ul li.level.test.failed > span {
            border-left: solid 6px #f02525;
          }

          #content ul li.level.test.ignored > span {
            border-left: solid 6px #f8d216;
          }

          #content ul li.text p, #content ul li.text span {
            margin-bottom: 1.5em;
            color: #151515 !important;
            font-size: 90% !important;
            font-weight: normal !important;
            overflow-x: auto;
            cursor: auto !important;
            background: none !important;
            border: none !important;
          }

          #content ul li.text span {
            margin-bottom: 0;
            display: block;
          }

          #content ul li.text span.stderr {
            color: #8b0000 !important;
          }

          #content ul li .time {
            margin-right: .5em;
            width: 5em;
            text-align: right;
            font-size: 13px;
            color: #151515;
            font-style: normal;
            font-weight: normal;
            float: right;
          }

          #content ul li span .status {
            width: 6em;
            font-size: 90%;
            color: #1d9d01;
            font-style: normal;
            font-weight: normal;
            float: right;
            text-align: right;
          }

          #content ul li.failed > span .status {
            color: #ff0000;
          }

          #content ul li.ignored > span .status {
            color: #d6b000;
          }

          #footer {
              height: 2em;
              background-color: #c7ceda;
          }
          #footer p {
              padding: .4em 0 0 3.6em;
              font-size: 80%;
          }
        </style>

<script type="text/javascript">
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(G(){9(1n E!="11")H w=E;H E=17.16=G(a,c){9(17==6||!6.4K)I 1q E(a,c);I 6.4K(a,c)};9(1n $!="11")H D=$;17.$=E;H u=/^[^<]*(<(.|\\s)+>)[^>]*$|^#(\\w+)$/;E.1b=E.3x={4K:G(a,c){a=a||U;9(1n a=="1M"){H m=u.2L(a);9(m&&(m[1]||!c)){9(m[1])a=E.4I([m[1]],c);J{H b=U.42(m[3]);9(b)9(b.1T!=m[3])I E().1X(a);J{6[0]=b;6.L=1;I 6}J a=[]}}J I 1q E(c).1X(a)}J 9(E.1p(a))I 1q E(U)[E.1b.2d?"2d":"37"](a);I 6.6u(a.1d==1C&&a||(a.4d||a.L&&a!=17&&!a.1z&&a[0]!=11&&a[0].1z)&&E.2h(a)||[a])},4d:"1.2",82:G(){I 6.L},L:0,28:G(a){I a==11?E.2h(6):6[a]},2v:G(a){H b=E(a);b.4Y=6;I b},6u:G(a){6.L=0;1C.3x.1a.15(6,a);I 6},O:G(a,b){I E.O(6,a,b)},4J:G(a){H b=-1;6.O(G(i){9(6==a)b=i});I b},1y:G(f,d,e){H c=f;9(f.1d==3T)9(d==11)I 6.L&&E[e||"1y"](6[0],f)||11;J{c={};c[f]=d}I 6.O(G(a){M(H b 1j c)E.1y(e?6.R:6,b,E.1c(6,c[b],e,a,b))})},18:G(b,a){I 6.1y(b,a,"3O")},2t:G(e){9(1n e!="5w"&&e!=S)I 6.4o().3e(U.6F(e));H t="";E.O(e||6,G(){E.O(6.2X,G(){9(6.1z!=8)t+=6.1z!=1?6.6x:E.1b.2t([6])})});I t},5l:G(b){9(6[0])E(b,6[0].3N).6t().38(6[0]).1W(G(){H a=6;1Y(a.1t)a=a.1t;I a}).3e(6);I 6},8p:G(a){I 6.O(G(){E(6).6p().5l(a)})},8h:G(a){I 6.O(G(){E(6).5l(a)})},3e:G(){I 6.3s(1k,Q,1,G(a){6.57(a)})},6k:G(){I 6.3s(1k,Q,-1,G(a){6.38(a,6.1t)})},6g:G(){I 6.3s(1k,P,1,G(a){6.14.38(a,6)})},53:G(){I 6.3s(1k,P,-1,G(a){6.14.38(a,6.2i)})},1B:G(){I 6.4Y||E([])},1X:G(t){H b=E.1W(6,G(a){I E.1X(t,a)});I 6.2v(/[^+>] [^+>]/.12(t)||t.1e("..")>-1?E.4V(b):b)},6t:G(e){H f=6.1W(G(){I 6.66?E(6.66)[0]:6.4S(Q)});9(e===Q){H d=f.1X("*").4Q();6.1X("*").4Q().O(G(i){H c=E.K(6,"2A");M(H a 1j c)M(H b 1j c[a])E.1h.1f(d[i],a,c[a][b],c[a][b].K)})}I f},1A:G(t){I 6.2v(E.1p(t)&&E.2T(6,G(b,a){I t.15(b,[a])})||E.3G(t,6))},5T:G(t){I 6.2v(t.1d==3T&&E.3G(t,6,Q)||E.2T(6,G(a){I(t.1d==1C||t.4d)?E.2S(a,t)<0:a!=t}))},1f:G(t){I 6.2v(E.1S(6.28(),t.1d==3T?E(t).28():t.L!=11&&(!t.Y||t.Y=="7t")?t:[t]))},3j:G(a){I a?E.3G(a,6).L>0:P},7g:G(a){I 6.3j("."+a)},2V:G(b){9(b==11){9(6.L){H c=6[0];9(E.Y(c,"24")){H e=c.4z,a=[],W=c.W,2P=c.N=="24-2P";9(e<0)I S;M(H i=2P?e:0,2Y=2P?e+1:W.L;i<2Y;i++){H d=W[i];9(d.29){H b=E.V.1g&&!d.70["1N"].9U?d.2t:d.1N;9(2P)I b;a.1a(b)}}I a}J I 6[0].1N.1o(/\\r/g,"")}}J I 6.O(G(){9(b.1d==1C&&/4s|5u/.12(6.N))6.2K=(E.2S(6.1N,b)>=0||E.2S(6.2J,b)>=0);J 9(E.Y(6,"24")){H a=b.1d==1C?b:[b];E("9m",6).O(G(){6.29=(E.2S(6.1N,a)>=0||E.2S(6.2t,a)>=0)});9(!a.L)6.4z=-1}J 6.1N=b})},4n:G(a){I a==11?(6.L?6[0].3D:S):6.4o().3e(a)},6H:G(a){I 6.53(a).2e()},2s:G(){I 6.2v(1C.3x.2s.15(6,1k))},1W:G(b){I 6.2v(E.1W(6,G(a,i){I b.3c(a,i,a)}))},4Q:G(){I 6.1f(6.4Y)},3s:G(f,d,g,e){H c=6.L>1,a;I 6.O(G(){9(!a){a=E.4I(f,6.3N);9(g<0)a.91()}H b=6;9(d&&E.Y(6,"1F")&&E.Y(a[0],"4k"))b=6.4q("1J")[0]||6.57(U.5r("1J"));E.O(a,G(){9(E.Y(6,"1P")){9(6.3g)E.3w({1u:6.3g,3h:P,1Z:"1P"});J E.5h(6.2t||6.6s||6.3D||"")}J e.15(b,[c?6.4S(Q):6])})})}};E.1i=E.1b.1i=G(){H c=1k[0]||{},a=1,2g=1k.L,5e=P;9(c.1d==8v){5e=c;c=1k[1]||{}}9(2g==1){c=6;a=0}H b;M(;a<2g;a++)9((b=1k[a])!=S)M(H i 1j b){9(c==b[i])6r;9(5e&&1n b[i]==\'5w\'&&c[i])E.1i(c[i],b[i]);J 9(b[i]!=11)c[i]=b[i]}I c};H F="16"+(1q 3v()).3u(),6q=0,5d={};E.1i({8k:G(a){17.$=D;9(a)17.16=w;I E},1p:G(a){I!!a&&1n a!="1M"&&!a.Y&&a.1d!=1C&&/G/i.12(a+"")},4a:G(a){I a.35&&!a.1K||a.34&&a.3N&&!a.3N.1K},5h:G(a){a=E.33(a);9(a){9(17.6o)17.6o(a);J 9(E.V.1H)17.58(a,0);J 3p.3c(17,a)}},Y:G(b,a){I b.Y&&b.Y.26()==a.26()},1I:{},K:G(c,d,b){c=c==17?5d:c;H a=c[F];9(!a)a=c[F]=++6q;9(d&&!E.1I[a])E.1I[a]={};9(b!=11)E.1I[a][d]=b;I d?E.1I[a][d]:a},30:G(c,b){c=c==17?5d:c;H a=c[F];9(b){9(E.1I[a]){2G E.1I[a][b];b="";M(b 1j E.1I[a])22;9(!b)E.30(c)}}J{2c{2G c[F]}27(e){9(c.54)c.54(F)}2G E.1I[a]}},O:G(a,b,c){9(c){9(a.L==11)M(H i 1j a)b.15(a[i],c);J M(H i=0,45=a.L;i<45;i++)9(b.15(a[i],c)===P)22}J{9(a.L==11)M(H i 1j a)b.3c(a[i],i,a[i]);J M(H i=0,45=a.L,2V=a[0];i<45&&b.3c(2V,i,2V)!==P;2V=a[++i]){}}I a},1c:G(c,b,d,e,a){9(E.1p(b))b=b.3c(c,[e]);H f=/z-?4J|7T-?7S|1v|69|7Q-?1G/i;I b&&b.1d==4X&&d=="3O"&&!f.12(a)?b+"2I":b},1m:{1f:G(b,c){E.O((c||"").2p(/\\s+/),G(i,a){9(!E.1m.3t(b.1m,a))b.1m+=(b.1m?" ":"")+a})},2e:G(b,c){b.1m=c!=11?E.2T(b.1m.2p(/\\s+/),G(a){I!E.1m.3t(c,a)}).65(" "):""},3t:G(t,c){I E.2S(c,(t.1m||t).3z().2p(/\\s+/))>-1}},2q:G(e,o,f){M(H i 1j o){e.R["3C"+i]=e.R[i];e.R[i]=o[i]}f.15(e,[]);M(H i 1j o)e.R[i]=e.R["3C"+i]},18:G(e,p){9(p=="1G"||p=="2E"){H b={},3Z,3Y,d=["7L","7K","7J","7G"];E.O(d,G(){b["7F"+6]=0;b["7D"+6+"61"]=0});E.2q(e,b,G(){9(E(e).3j(\':3X\')){3Z=e.7A;3Y=e.7z}J{e=E(e.4S(Q)).1X(":4s").5X("2K").1B().18({4v:"1O",2W:"4D",19:"2U",7w:"0",1R:"0"}).5P(e.14)[0];H a=E.18(e.14,"2W")||"3V";9(a=="3V")e.14.R.2W="7k";3Z=e.7h;3Y=e.7f;9(a=="3V")e.14.R.2W="3V";e.14.3k(e)}});I p=="1G"?3Z:3Y}I E.3O(e,p)},3O:G(h,j,i){H g,2u=[],2q=[];G 3l(a){9(!E.V.1H)I P;H b=U.3M.3P(a,S);I!b||b.4y("3l")==""}9(j=="1v"&&E.V.1g){g=E.1y(h.R,"1v");I g==""?"1":g}9(j.1U(/4r/i))j=y;9(!i&&h.R[j])g=h.R[j];J 9(U.3M&&U.3M.3P){9(j.1U(/4r/i))j="4r";j=j.1o(/([A-Z])/g,"-$1").2F();H d=U.3M.3P(h,S);9(d&&!3l(h))g=d.4y(j);J{M(H a=h;a&&3l(a);a=a.14)2u.4Z(a);M(a=0;a<2u.L;a++)9(3l(2u[a])){2q[a]=2u[a].R.19;2u[a].R.19="2U"}g=j=="19"&&2q[2u.L-1]!=S?"2j":U.3M.3P(h,S).4y(j)||"";M(a=0;a<2q.L;a++)9(2q[a]!=S)2u[a].R.19=2q[a]}9(j=="1v"&&g=="")g="1"}J 9(h.43){H f=j.1o(/\\-(\\w)/g,G(m,c){I c.26()});g=h.43[j]||h.43[f];9(!/^\\d+(2I)?$/i.12(g)&&/^\\d/.12(g)){H k=h.R.1R;H e=h.4t.1R;h.4t.1R=h.43.1R;h.R.1R=g||0;g=h.R.74+"2I";h.R.1R=k;h.4t.1R=e}}I g},4I:G(a,e){H r=[];e=e||U;E.O(a,G(i,d){9(!d)I;9(d.1d==4X)d=d.3z();9(1n d=="1M"){d=d.1o(/(<(\\w+)[^>]*?)\\/>/g,G(m,a,b){I b.1U(/^(71|6Z|5D|6Y|49|9S|9P|3f|9K|9I)$/i)?m:a+"></"+b+">"});H s=E.33(d).2F(),1r=e.5r("1r"),2x=[];H c=!s.1e("<9D")&&[1,"<24>","</24>"]||!s.1e("<9A")&&[1,"<6S>","</6S>"]||s.1U(/^<(9x|1J|9u|9t|9s)/)&&[1,"<1F>","</1F>"]||!s.1e("<4k")&&[2,"<1F><1J>","</1J></1F>"]||(!s.1e("<9r")||!s.1e("<9q"))&&[3,"<1F><1J><4k>","</4k></1J></1F>"]||!s.1e("<5D")&&[2,"<1F><1J></1J><6L>","</6L></1F>"]||E.V.1g&&[1,"1r<1r>","</1r>"]||[0,"",""];1r.3D=c[1]+d+c[2];1Y(c[0]--)1r=1r.5k;9(E.V.1g){9(!s.1e("<1F")&&s.1e("<1J")<0)2x=1r.1t&&1r.1t.2X;J 9(c[1]=="<1F>"&&s.1e("<1J")<0)2x=1r.2X;M(H n=2x.L-1;n>=0;--n)9(E.Y(2x[n],"1J")&&!2x[n].2X.L)2x[n].14.3k(2x[n]);9(/^\\s/.12(d))1r.38(e.6F(d.1U(/^\\s*/)[0]),1r.1t)}d=E.2h(1r.2X)}9(0===d.L&&(!E.Y(d,"3B")&&!E.Y(d,"24")))I;9(d[0]==11||E.Y(d,"3B")||d.W)r.1a(d);J r=E.1S(r,d)});I r},1y:G(c,d,a){H e=E.4a(c)?{}:E.5o;9(d=="29"&&E.V.1H)c.14.4z;9(e[d]){9(a!=11)c[e[d]]=a;I c[e[d]]}J 9(E.V.1g&&d=="R")I E.1y(c.R,"9g",a);J 9(a==11&&E.V.1g&&E.Y(c,"3B")&&(d=="9e"||d=="9d"))I c.9b(d).6x;J 9(c.34){9(a!=11){9(d=="N"&&E.Y(c,"49")&&c.14)6E"N 96 94\'t 93 92";c.90(d,a)}9(E.V.1g&&/6B|3g/.12(d)&&!E.4a(c))I c.4l(d,2);I c.4l(d)}J{9(d=="1v"&&E.V.1g){9(a!=11){c.69=1;c.1A=(c.1A||"").1o(/6A\\([^)]*\\)/,"")+(3K(a).3z()=="8V"?"":"6A(1v="+a*6z+")")}I c.1A?(3K(c.1A.1U(/1v=([^)]*)/)[1])/6z).3z():""}d=d.1o(/-([a-z])/8T,G(z,b){I b.26()});9(a!=11)c[d]=a;I c[d]}},33:G(t){I(t||"").1o(/^\\s+|\\s+$/g,"")},2h:G(a){H r=[];9(1n a!="8Q")M(H i=0,2g=a.L;i<2g;i++)r.1a(a[i]);J r=a.2s(0);I r},2S:G(b,a){M(H i=0,2g=a.L;i<2g;i++)9(a[i]==b)I i;I-1},1S:G(a,b){9(E.V.1g){M(H i=0;b[i];i++)9(b[i].1z!=8)a.1a(b[i])}J M(H i=0;b[i];i++)a.1a(b[i]);I a},4V:G(b){H r=[],2f={};2c{M(H i=0,6P=b.L;i<6P;i++){H a=E.K(b[i]);9(!2f[a]){2f[a]=Q;r.1a(b[i])}}}27(e){r=b}I r},2T:G(b,a,c){9(1n a=="1M")a=3p("P||G(a,i){I "+a+"}");H d=[];M(H i=0,4m=b.L;i<4m;i++)9(!c&&a(b[i],i)||c&&!a(b[i],i))d.1a(b[i]);I d},1W:G(c,b){9(1n b=="1M")b=3p("P||G(a){I "+b+"}");H d=[];M(H i=0,4m=c.L;i<4m;i++){H a=b(c[i],i);9(a!==S&&a!=11){9(a.1d!=1C)a=[a];d=d.8O(a)}}I d}});H v=8M.8K.2F();E.V={4f:(v.1U(/.+(?:8I|8H|8F|8E)[\\/: ]([\\d.]+)/)||[])[1],1H:/6T/.12(v),3a:/3a/.12(v),1g:/1g/.12(v)&&!/3a/.12(v),39:/39/.12(v)&&!/(8B|6T)/.12(v)};H y=E.V.1g?"4h":"5g";E.1i({5f:!E.V.1g||U.8A=="8z",4h:E.V.1g?"4h":"5g",5o:{"M":"8y","8x":"1m","4r":y,5g:y,4h:y,3D:"3D",1m:"1m",1N:"1N",36:"36",2K:"2K",8w:"8u",29:"29",8t:"8s"}});E.O({1D:"a.14",8r:"16.4e(a,\'14\')",8q:"16.2R(a,2,\'2i\')",8o:"16.2R(a,2,\'4c\')",8n:"16.4e(a,\'2i\')",8m:"16.4e(a,\'4c\')",8l:"16.5c(a.14.1t,a)",8j:"16.5c(a.1t)",6p:"16.Y(a,\'8i\')?a.8f||a.8e.U:16.2h(a.2X)"},G(i,n){E.1b[i]=G(a){H b=E.1W(6,n);9(a&&1n a=="1M")b=E.3G(a,b);I 6.2v(E.4V(b))}});E.O({5P:"3e",8d:"6k",38:"6g",8c:"53",8b:"6H"},G(i,n){E.1b[i]=G(){H a=1k;I 6.O(G(){M(H j=0,2g=a.L;j<2g;j++)E(a[j])[n](6)})}});E.O({5X:G(a){E.1y(6,a,"");6.54(a)},8a:G(c){E.1m.1f(6,c)},89:G(c){E.1m.2e(6,c)},88:G(c){E.1m[E.1m.3t(6,c)?"2e":"1f"](6,c)},2e:G(a){9(!a||E.1A(a,[6]).r.L){E.30(6);6.14.3k(6)}},4o:G(){E("*",6).O(G(){E.30(6)});1Y(6.1t)6.3k(6.1t)}},G(i,n){E.1b[i]=G(){I 6.O(n,1k)}});E.O(["87","61"],G(i,a){H n=a.2F();E.1b[n]=G(h){I 6[0]==17?E.V.1H&&3r["86"+a]||E.5f&&32.2Y(U.35["59"+a],U.1K["59"+a])||U.1K["59"+a]:6[0]==U?32.2Y(U.1K["6n"+a],U.1K["6m"+a]):h==11?(6.L?E.18(6[0],n):S):6.18(n,h.1d==3T?h:h+"2I")}});H C=E.V.1H&&3q(E.V.4f)<85?"(?:[\\\\w*56-]|\\\\\\\\.)":"(?:[\\\\w\\84-\\83*56-]|\\\\\\\\.)",6j=1q 47("^>\\\\s*("+C+"+)"),6i=1q 47("^("+C+"+)(#)("+C+"+)"),6h=1q 47("^([#.]?)("+C+"*)");E.1i({55:{"":"m[2]==\'*\'||16.Y(a,m[2])","#":"a.4l(\'1T\')==m[2]",":":{81:"i<m[3]-0",7Z:"i>m[3]-0",2R:"m[3]-0==i",7Y:"m[3]-0==i",3o:"i==0",3n:"i==r.L-1",6f:"i%2==0",6d:"i%2","3o-46":"a.14.4q(\'*\')[0]==a","3n-46":"16.2R(a.14.5k,1,\'4c\')==a","7X-46":"!16.2R(a.14.5k,2,\'4c\')",1D:"a.1t",4o:"!a.1t",7W:"(a.6s||a.7V||\'\').1e(m[3])>=0",3X:\'"1O"!=a.N&&16.18(a,"19")!="2j"&&16.18(a,"4v")!="1O"\',1O:\'"1O"==a.N||16.18(a,"19")=="2j"||16.18(a,"4v")=="1O"\',7U:"!a.36",36:"a.36",2K:"a.2K",29:"a.29||16.1y(a,\'29\')",2t:"\'2t\'==a.N",4s:"\'4s\'==a.N",5u:"\'5u\'==a.N",52:"\'52\'==a.N",51:"\'51\'==a.N",50:"\'50\'==a.N",6c:"\'6c\'==a.N",6b:"\'6b\'==a.N",2y:\'"2y"==a.N||16.Y(a,"2y")\',49:"/49|24|6a|2y/i.12(a.Y)",3t:"16.1X(m[3],a).L",7R:"/h\\\\d/i.12(a.Y)",7P:"16.2T(16.2Z,G(1b){I a==1b.T;}).L"}},68:[/^(\\[) *@?([\\w-]+) *([!*$^~=]*) *(\'?"?)(.*?)\\4 *\\]/,/^(:)([\\w-]+)\\("?\'?(.*?(\\(.*?\\))?[^(]*?)"?\'?\\)/,1q 47("^([:.#]*)("+C+"+)")],3G:G(a,c,b){H d,2b=[];1Y(a&&a!=d){d=a;H f=E.1A(a,c,b);a=f.t.1o(/^\\s*,\\s*/,"");2b=b?c=f.r:E.1S(2b,f.r)}I 2b},1X:G(t,o){9(1n t!="1M")I[t];9(o&&!o.1z)o=S;o=o||U;H d=[o],2f=[],3n;1Y(t&&3n!=t){H r=[];3n=t;t=E.33(t);H l=P;H g=6j;H m=g.2L(t);9(m){H p=m[1].26();M(H i=0;d[i];i++)M(H c=d[i].1t;c;c=c.2i)9(c.1z==1&&(p=="*"||c.Y.26()==p.26()))r.1a(c);d=r;t=t.1o(g,"");9(t.1e(" ")==0)6r;l=Q}J{g=/^([>+~])\\s*(\\w*)/i;9((m=g.2L(t))!=S){r=[];H p=m[2],1S={};m=m[1];M(H j=0,31=d.L;j<31;j++){H n=m=="~"||m=="+"?d[j].2i:d[j].1t;M(;n;n=n.2i)9(n.1z==1){H h=E.K(n);9(m=="~"&&1S[h])22;9(!p||n.Y.26()==p.26()){9(m=="~")1S[h]=Q;r.1a(n)}9(m=="+")22}}d=r;t=E.33(t.1o(g,""));l=Q}}9(t&&!l){9(!t.1e(",")){9(o==d[0])d.44();2f=E.1S(2f,d);r=d=[o];t=" "+t.67(1,t.L)}J{H k=6i;H m=k.2L(t);9(m){m=[0,m[2],m[3],m[1]]}J{k=6h;m=k.2L(t)}m[2]=m[2].1o(/\\\\/g,"");H f=d[d.L-1];9(m[1]=="#"&&f&&f.42&&!E.4a(f)){H q=f.42(m[2]);9((E.V.1g||E.V.3a)&&q&&1n q.1T=="1M"&&q.1T!=m[2])q=E(\'[@1T="\'+m[2]+\'"]\',f)[0];d=r=q&&(!m[3]||E.Y(q,m[3]))?[q]:[]}J{M(H i=0;d[i];i++){H a=m[1]=="#"&&m[3]?m[3]:m[1]!=""||m[0]==""?"*":m[2];9(a=="*"&&d[i].Y.2F()=="5w")a="3f";r=E.1S(r,d[i].4q(a))}9(m[1]==".")r=E.4W(r,m[2]);9(m[1]=="#"){H e=[];M(H i=0;r[i];i++)9(r[i].4l("1T")==m[2]){e=[r[i]];22}r=e}d=r}t=t.1o(k,"")}}9(t){H b=E.1A(t,r);d=r=b.r;t=E.33(b.t)}}9(t)d=[];9(d&&o==d[0])d.44();2f=E.1S(2f,d);I 2f},4W:G(r,m,a){m=" "+m+" ";H c=[];M(H i=0;r[i];i++){H b=(" "+r[i].1m+" ").1e(m)>=0;9(!a&&b||a&&!b)c.1a(r[i])}I c},1A:G(t,r,h){H d;1Y(t&&t!=d){d=t;H p=E.68,m;M(H i=0;p[i];i++){m=p[i].2L(t);9(m){t=t.7O(m[0].L);m[2]=m[2].1o(/\\\\/g,"");22}}9(!m)22;9(m[1]==":"&&m[2]=="5T")r=E.1A(m[3],r,Q).r;J 9(m[1]==".")r=E.4W(r,m[2],h);J 9(m[1]=="["){H g=[],N=m[3];M(H i=0,31=r.L;i<31;i++){H a=r[i],z=a[E.5o[m[2]]||m[2]];9(z==S||/6B|3g|29/.12(m[2]))z=E.1y(a,m[2])||\'\';9((N==""&&!!z||N=="="&&z==m[5]||N=="!="&&z!=m[5]||N=="^="&&z&&!z.1e(m[5])||N=="$="&&z.67(z.L-m[5].L)==m[5]||(N=="*="||N=="~=")&&z.1e(m[5])>=0)^h)g.1a(a)}r=g}J 9(m[1]==":"&&m[2]=="2R-46"){H e={},g=[],12=/(\\d*)n\\+?(\\d*)/.2L(m[3]=="6f"&&"2n"||m[3]=="6d"&&"2n+1"||!/\\D/.12(m[3])&&"n+"+m[3]||m[3]),3o=(12[1]||1)-0,d=12[2]-0;M(H i=0,31=r.L;i<31;i++){H j=r[i],14=j.14,1T=E.K(14);9(!e[1T]){H c=1;M(H n=14.1t;n;n=n.2i)9(n.1z==1)n.4U=c++;e[1T]=Q}H b=P;9(3o==1){9(d==0||j.4U==d)b=Q}J 9((j.4U+d)%3o==0)b=Q;9(b^h)g.1a(j)}r=g}J{H f=E.55[m[1]];9(1n f!="1M")f=E.55[m[1]][m[2]];f=3p("P||G(a,i){I "+f+"}");r=E.2T(r,f,h)}}I{r:r,t:t}},4e:G(b,c){H d=[];H a=b[c];1Y(a&&a!=U){9(a.1z==1)d.1a(a);a=a[c]}I d},2R:G(a,e,c,b){e=e||1;H d=0;M(;a;a=a[c])9(a.1z==1&&++d==e)22;I a},5c:G(n,a){H r=[];M(;n;n=n.2i){9(n.1z==1&&(!a||n!=a))r.1a(n)}I r}});E.1h={1f:G(g,e,c,h){9(E.V.1g&&g.41!=11)g=17;9(!c.2r)c.2r=6.2r++;9(h!=11){H d=c;c=G(){I d.15(6,1k)};c.K=h;c.2r=d.2r}H i=e.2p(".");e=i[0];c.N=i[1];H b=E.K(g,"2A")||E.K(g,"2A",{});H f=E.K(g,"2m",G(){H a;9(1n E=="11"||E.1h.4T)I a;a=E.1h.2m.15(g,1k);I a});H j=b[e];9(!j){j=b[e]={};9(g.4R)g.4R(e,f,P);J g.7N("40"+e,f)}j[c.2r]=c;6.23[e]=Q},2r:1,23:{},2e:G(d,c,b){H e=E.K(d,"2A"),2O,4J;9(1n c=="1M"){H a=c.2p(".");c=a[0]}9(e){9(c&&c.N){b=c.4P;c=c.N}9(!c){M(c 1j e)6.2e(d,c)}J 9(e[c]){9(b)2G e[c][b.2r];J M(b 1j e[c])9(!a[1]||e[c][b].N==a[1])2G e[c][b];M(2O 1j e[c])22;9(!2O){9(d.4O)d.4O(c,E.K(d,"2m"),P);J d.7M("40"+c,E.K(d,"2m"));2O=S;2G e[c]}}M(2O 1j e)22;9(!2O){E.30(d,"2A");E.30(d,"2m")}}},1L:G(d,b,e,c,f){b=E.2h(b||[]);9(!e){9(6.23[d])E("*").1f([17,U]).1L(d,b)}J{H a,2O,1b=E.1p(e[d]||S),4N=!b[0]||!b[0].2B;9(4N)b.4Z(6.4M({N:d,2o:e}));9(E.1p(E.K(e,"2m")))a=E.K(e,"2m").15(e,b);9(!1b&&e["40"+d]&&e["40"+d].15(e,b)===P)a=P;9(4N)b.44();9(f&&f.15(e,b)===P)a=P;9(1b&&c!==P&&a!==P&&!(E.Y(e,\'a\')&&d=="4L")){6.4T=Q;e[d]()}6.4T=P}I a},2m:G(d){H a;d=E.1h.4M(d||17.1h||{});H b=d.N.2p(".");d.N=b[0];H c=E.K(6,"2A")&&E.K(6,"2A")[d.N],3m=1C.3x.2s.3c(1k,1);3m.4Z(d);M(H j 1j c){3m[0].4P=c[j];3m[0].K=c[j].K;9(!b[1]||c[j].N==b[1]){H e=c[j].15(6,3m);9(a!==P)a=e;9(e===P){d.2B();d.3L()}}}9(E.V.1g)d.2o=d.2B=d.3L=d.4P=d.K=S;I a},4M:G(c){H a=c;c=E.1i({},a);c.2B=G(){9(a.2B)a.2B();a.7I=P};c.3L=G(){9(a.3L)a.3L();a.7H=Q};9(!c.2o&&c.64)c.2o=c.64;9(E.V.1H&&c.2o.1z==3)c.2o=a.2o.14;9(!c.4H&&c.4G)c.4H=c.4G==c.2o?c.7E:c.4G;9(c.63==S&&c.62!=S){H e=U.35,b=U.1K;c.63=c.62+(e&&e.2D||b.2D||0);c.7C=c.7B+(e&&e.2z||b.2z||0)}9(!c.3R&&(c.60||c.5Z))c.3R=c.60||c.5Z;9(!c.5Y&&c.5W)c.5Y=c.5W;9(!c.3R&&c.2y)c.3R=(c.2y&1?1:(c.2y&2?3:(c.2y&4?2:0)));I c}};E.1b.1i({3Q:G(c,a,b){I c=="5V"?6.2P(c,a,b):6.O(G(){E.1h.1f(6,c,b||a,b&&a)})},2P:G(d,b,c){I 6.O(G(){E.1h.1f(6,d,G(a){E(6).5U(a);I(c||b).15(6,1k)},c&&b)})},5U:G(a,b){I 6.O(G(){E.1h.2e(6,a,b)})},1L:G(c,a,b){I 6.O(G(){E.1h.1L(c,a,6,Q,b)})},7y:G(c,a,b){9(6[0])I E.1h.1L(c,a,6[0],P,b)},25:G(){H a=1k;I 6.4L(G(e){6.4E=0==6.4E?1:0;e.2B();I a[6.4E].15(6,[e])||P})},7x:G(f,g){G 4x(e){H p=e.4H;1Y(p&&p!=6)2c{p=p.14}27(e){p=6};9(p==6)I P;I(e.N=="4w"?f:g).15(6,[e])}I 6.4w(4x).5S(4x)},2d:G(f){5R();9(E.3W)f.15(U,[E]);J E.3i.1a(G(){I f.15(6,[E])});I 6}});E.1i({3W:P,3i:[],2d:G(){9(!E.3W){E.3W=Q;9(E.3i){E.O(E.3i,G(){6.15(U)});E.3i=S}9(E.V.39||E.V.3a)U.4O("5Q",E.2d,P);9(!17.7v.L)E(17).37(G(){E("#4C").2e()})}}});E.O(("7u,7o,37,7n,6n,5V,4L,7m,"+"7l,7j,7i,4w,5S,7p,24,"+"50,7q,7r,7s,3U").2p(","),G(i,o){E.1b[o]=G(f){I f?6.3Q(o,f):6.1L(o)}});H x=P;G 5R(){9(x)I;x=Q;9(E.V.39||E.V.3a)U.4R("5Q",E.2d,P);J 9(E.V.1g){U.7e("<7d"+"7c 1T=4C 7b=Q "+"3g=//:><\\/1P>");H a=U.42("4C");9(a)a.5O=G(){9(6.2C!="1l")I;E.2d()};a=S}J 9(E.V.1H)E.4B=41(G(){9(U.2C=="5N"||U.2C=="1l"){4A(E.4B);E.4B=S;E.2d()}},10);E.1h.1f(17,"37",E.2d)}E.1b.1i({37:G(g,d,c){9(E.1p(g))I 6.3Q("37",g);H e=g.1e(" ");9(e>=0){H i=g.2s(e,g.L);g=g.2s(0,e)}c=c||G(){};H f="4F";9(d)9(E.1p(d)){c=d;d=S}J{d=E.3f(d);f="5M"}H h=6;E.3w({1u:g,N:f,K:d,1l:G(a,b){9(b=="1E"||b=="5L")h.4n(i?E("<1r/>").3e(a.4p.1o(/<1P(.|\\s)*?\\/1P>/g,"")).1X(i):a.4p);58(G(){h.O(c,[a.4p,b,a])},13)}});I 6},7a:G(){I E.3f(6.5K())},5K:G(){I 6.1W(G(){I E.Y(6,"3B")?E.2h(6.79):6}).1A(G(){I 6.2J&&!6.36&&(6.2K||/24|6a/i.12(6.Y)||/2t|1O|51/i.12(6.N))}).1W(G(i,c){H b=E(6).2V();I b==S?S:b.1d==1C?E.1W(b,G(i,a){I{2J:c.2J,1N:a}}):{2J:c.2J,1N:b}}).28()}});E.O("5J,5I,5H,6e,5G,5F".2p(","),G(i,o){E.1b[o]=G(f){I 6.3Q(o,f)}});H B=(1q 3v).3u();E.1i({28:G(d,b,a,c){9(E.1p(b)){a=b;b=S}I E.3w({N:"4F",1u:d,K:b,1E:a,1Z:c})},78:G(b,a){I E.28(b,S,a,"1P")},77:G(c,b,a){I E.28(c,b,a,"3S")},76:G(d,b,a,c){9(E.1p(b)){a=b;b={}}I E.3w({N:"5M",1u:d,K:b,1E:a,1Z:c})},80:G(a){E.1i(E.4u,a)},4u:{23:Q,N:"4F",2H:0,5E:"75/x-73-3B-72",6l:Q,3h:Q,K:S},4b:{},3w:G(s){H f,48=/=(\\?|%3F)/g,1s,K;s=E.1i(Q,s,E.1i(Q,{},E.4u,s));9(s.K&&s.6l&&1n s.K!="1M")s.K=E.3f(s.K);H q=s.1u.1e("?");9(q>-1){s.K=(s.K?s.K+"&":"")+s.1u.2s(q+1);s.1u=s.1u.2s(0,q)}9(s.1Z=="5b"){9(!s.K||!s.K.1U(48))s.K=(s.K?s.K+"&":"")+(s.5b||"6X")+"=?";s.1Z="3S"}9(s.1Z=="3S"&&s.K&&s.K.1U(48)){f="5b"+B++;s.K=s.K.1o(48,"="+f);s.1Z="1P";17[f]=G(a){K=a;1E();17[f]=11;2c{2G 17[f]}27(e){}}}9(s.1Z=="1P"&&s.1I==S)s.1I=P;9(s.1I===P&&s.N.2F()=="28")s.K=(s.K?s.K+"&":"")+"56="+(1q 3v()).3u();9(s.K&&s.N.2F()=="28"){s.1u+="?"+s.K;s.K=S}9(s.23&&!E.5a++)E.1h.1L("5J");9(!s.1u.1e("6W")&&s.1Z=="1P"){H h=U.4q("8g")[0];H g=U.5r("1P");g.3g=s.1u;9(!f&&(s.1E||s.1l)){H j=P;g.9Q=g.5O=G(){9(!j&&(!6.2C||6.2C=="5N"||6.2C=="1l")){j=Q;1E();1l();h.3k(g)}}}h.57(g);I}H k=P;H i=17.6V?1q 6V("9O.9N"):1q 6U();i.9M(s.N,s.1u,s.3h);9(s.K)i.5B("9J-9H",s.5E);9(s.5A)i.5B("9G-5z-9F",E.4b[s.1u]||"9E, 9C 9B 9z 5v:5v:5v 9y");i.5B("X-9w-9v","6U");9(s.6R)s.6R(i);9(s.23)E.1h.1L("5F",[i,s]);H c=G(a){9(!k&&i&&(i.2C==4||a=="2H")){k=Q;9(d){4A(d);d=S}1s=a=="2H"&&"2H"||!E.6Q(i)&&"3U"||s.5A&&E.6O(i,s.1u)&&"5L"||"1E";9(1s=="1E"){2c{K=E.6N(i,s.1Z)}27(e){1s="5t"}}9(1s=="1E"){H b;2c{b=i.5i("6M-5z")}27(e){}9(s.5A&&b)E.4b[s.1u]=b;9(!f)1E()}J E.5s(s,i,1s);1l();9(s.3h)i=S}};9(s.3h){H d=41(c,13);9(s.2H>0)58(G(){9(i){i.9p();9(!k)c("2H")}},s.2H)}2c{i.9n(s.K)}27(e){E.5s(s,i,S,e)}9(!s.3h)c();I i;G 1E(){9(s.1E)s.1E(K,1s);9(s.23)E.1h.1L("5G",[i,s])}G 1l(){9(s.1l)s.1l(i,1s);9(s.23)E.1h.1L("5H",[i,s]);9(s.23&&!--E.5a)E.1h.1L("5I")}},5s:G(s,a,b,e){9(s.3U)s.3U(a,b,e);9(s.23)E.1h.1L("6e",[a,s,e])},5a:0,6Q:G(r){2c{I!r.1s&&9l.9k=="52:"||(r.1s>=6K&&r.1s<9j)||r.1s==6J||E.V.1H&&r.1s==11}27(e){}I P},6O:G(a,c){2c{H b=a.5i("6M-5z");I a.1s==6J||b==E.4b[c]||E.V.1H&&a.1s==11}27(e){}I P},6N:G(r,b){H c=r.5i("9i-N");H d=b=="6y"||!b&&c&&c.1e("6y")>=0;H a=d?r.9h:r.4p;9(d&&a.35.34=="5t")6E"5t";9(b=="1P")E.5h(a);9(b=="3S")a=3p("("+a+")");I a},3f:G(a){H s=[];9(a.1d==1C||a.4d)E.O(a,G(){s.1a(3b(6.2J)+"="+3b(6.1N))});J M(H j 1j a)9(a[j]&&a[j].1d==1C)E.O(a[j],G(){s.1a(3b(j)+"="+3b(6))});J s.1a(3b(j)+"="+3b(a[j]));I s.65("&").1o(/%20/g,"+")}});E.1b.1i({1x:G(b,a){I b?6.1V({1G:"1x",2E:"1x",1v:"1x"},b,a):6.1A(":1O").O(G(){6.R.19=6.3d?6.3d:"";9(E.18(6,"19")=="2j")6.R.19="2U"}).1B()},1w:G(b,a){I b?6.1V({1G:"1w",2E:"1w",1v:"1w"},b,a):6.1A(":3X").O(G(){6.3d=6.3d||E.18(6,"19");9(6.3d=="2j")6.3d="2U";6.R.19="2j"}).1B()},6G:E.1b.25,25:G(a,b){I E.1p(a)&&E.1p(b)?6.6G(a,b):a?6.1V({1G:"25",2E:"25",1v:"25"},a,b):6.O(G(){E(6)[E(6).3j(":1O")?"1x":"1w"]()})},9c:G(b,a){I 6.1V({1G:"1x"},b,a)},9a:G(b,a){I 6.1V({1G:"1w"},b,a)},99:G(b,a){I 6.1V({1G:"25"},b,a)},98:G(b,a){I 6.1V({1v:"1x"},b,a)},97:G(b,a){I 6.1V({1v:"1w"},b,a)},95:G(c,a,b){I 6.1V({1v:a},c,b)},1V:G(j,h,g,f){H i=E.6C(h,g,f);I 6[i.3I===P?"O":"3I"](G(){i=E.1i({},i);H d=E(6).3j(":1O"),3r=6;M(H p 1j j){9(j[p]=="1w"&&d||j[p]=="1x"&&!d)I E.1p(i.1l)&&i.1l.15(6);9(p=="1G"||p=="2E"){i.19=E.18(6,"19");i.2N=6.R.2N}}9(i.2N!=S)6.R.2N="1O";i.3H=E.1i({},j);E.O(j,G(c,a){H e=1q E.2w(3r,i,c);9(/25|1x|1w/.12(a))e[a=="25"?d?"1x":"1w":a](j);J{H b=a.3z().1U(/^([+-]?)([\\d.]+)(.*)$/),1Q=e.2b(Q)||0;9(b){1B=3K(b[2]),2k=b[3]||"2I";9(2k!="2I"){3r.R[c]=1B+2k;1Q=(1B/e.2b(Q))*1Q;3r.R[c]=1Q+2k}9(b[1])1B=((b[1]=="-"?-1:1)*1B)+1Q;e.3J(1Q,1B,2k)}J e.3J(1Q,a,"")}});I Q})},3I:G(a,b){9(!b){b=a;a="2w"}9(!1k.L)I A(6[0],a);I 6.O(G(){9(b.1d==1C)A(6,a,b);J{A(6,a).1a(b);9(A(6,a).L==1)b.15(6)}})},9f:G(){H a=E.2Z;I 6.O(G(){M(H i=0;i<a.L;i++)9(a[i].T==6)a.6D(i--,1)}).5p()}});H A=G(b,c,a){9(!b)I;H q=E.K(b,c+"3I");9(!q||a)q=E.K(b,c+"3I",a?E.2h(a):[]);I q};E.1b.5p=G(a){a=a||"2w";I 6.O(G(){H q=A(6,a);q.44();9(q.L)q[0].15(6)})};E.1i({6C:G(b,a,c){H d=b&&b.1d==8Z?b:{1l:c||!c&&a||E.1p(b)&&b,2a:b,3E:c&&a||a&&a.1d!=8Y&&a};d.2a=(d.2a&&d.2a.1d==4X?d.2a:{8X:8W,8U:6K}[d.2a])||9o;d.3C=d.1l;d.1l=G(){E(6).5p();9(E.1p(d.3C))d.3C.15(6)};I d},3E:{6I:G(p,n,b,a){I b+a*p},5q:G(p,n,b,a){I((-32.8S(p*32.8R)/2)+0.5)*a+b}},2Z:[],2w:G(b,c,a){6.W=c;6.T=b;6.1c=a;9(!c.3A)c.3A={}}});E.2w.3x={4j:G(){9(6.W.2M)6.W.2M.15(6.T,[6.2l,6]);(E.2w.2M[6.1c]||E.2w.2M.6w)(6);9(6.1c=="1G"||6.1c=="2E")6.T.R.19="2U"},2b:G(a){9(6.T[6.1c]!=S&&6.T.R[6.1c]==S)I 6.T[6.1c];H r=3K(E.3O(6.T,6.1c,a));I r&&r>-8P?r:3K(E.18(6.T,6.1c))||0},3J:G(c,b,e){6.5n=(1q 3v()).3u();6.1Q=c;6.1B=b;6.2k=e||6.2k||"2I";6.2l=6.1Q;6.4g=6.4i=0;6.4j();H f=6;G t(){I f.2M()}t.T=6.T;E.2Z.1a(t);9(E.2Z.L==1){H d=41(G(){H a=E.2Z;M(H i=0;i<a.L;i++)9(!a[i]())a.6D(i--,1);9(!a.L)4A(d)},13)}},1x:G(){6.W.3A[6.1c]=E.1y(6.T.R,6.1c);6.W.1x=Q;6.3J(0,6.2b());9(6.1c=="2E"||6.1c=="1G")6.T.R[6.1c]="8N";E(6.T).1x()},1w:G(){6.W.3A[6.1c]=E.1y(6.T.R,6.1c);6.W.1w=Q;6.3J(6.2b(),0)},2M:G(){H t=(1q 3v()).3u();9(t>6.W.2a+6.5n){6.2l=6.1B;6.4g=6.4i=1;6.4j();6.W.3H[6.1c]=Q;H a=Q;M(H i 1j 6.W.3H)9(6.W.3H[i]!==Q)a=P;9(a){9(6.W.19!=S){6.T.R.2N=6.W.2N;6.T.R.19=6.W.19;9(E.18(6.T,"19")=="2j")6.T.R.19="2U"}9(6.W.1w)6.T.R.19="2j";9(6.W.1w||6.W.1x)M(H p 1j 6.W.3H)E.1y(6.T.R,p,6.W.3A[p])}9(a&&E.1p(6.W.1l))6.W.1l.15(6.T);I P}J{H n=t-6.5n;6.4i=n/6.W.2a;6.4g=E.3E[6.W.3E||(E.3E.5q?"5q":"6I")](6.4i,n,0,1,6.W.2a);6.2l=6.1Q+((6.1B-6.1Q)*6.4g);6.4j()}I Q}};E.2w.2M={2D:G(a){a.T.2D=a.2l},2z:G(a){a.T.2z=a.2l},1v:G(a){E.1y(a.T.R,"1v",a.2l)},6w:G(a){a.T.R[a.1c]=a.2l+a.2k}};E.1b.6m=G(){H c=0,3y=0,T=6[0],5m;9(T)8L(E.V){H b=E.18(T,"2W")=="4D",1D=T.14,21=T.21,2Q=T.3N,5y=1H&&!b&&3q(4f)<8J;9(T.6v){5x=T.6v();1f(5x.1R+32.2Y(2Q.35.2D,2Q.1K.2D),5x.3y+32.2Y(2Q.35.2z,2Q.1K.2z));9(1g){H d=E("4n").18("9L");d=(d=="8G"||E.5f&&3q(4f)>=7)&&2||d;1f(-d,-d)}}J{1f(T.5j,T.5C);1Y(21){1f(21.5j,21.5C);9(39&&/^t[d|h]$/i.12(1D.34)||!5y)d(21);9(5y&&!b&&E.18(21,"2W")=="4D")b=Q;21=21.21}1Y(1D.34&&/^1K|4n$/i.12(1D.34)){9(/^8D|1F-9R.*$/i.12(E.18(1D,"19")))1f(-1D.2D,-1D.2z);9(39&&E.18(1D,"2N")!="3X")d(1D);1D=1D.14}9(1H&&b)1f(-2Q.1K.5j,-2Q.1K.5C)}5m={3y:3y,1R:c}}I 5m;G d(a){1f(E.18(a,"8C"),E.18(a,"9T"))}G 1f(l,t){c+=3q(l)||0;3y+=3q(t)||0}}})();',62,615,'||||||this|||if|||||||||||||||||||||||||||||||||function|var|return|else|data|length|for|type|each|false|true|style|null|elem|document|browser|options||nodeName|||undefined|test||parentNode|apply|jQuery|window|css|display|push|fn|prop|constructor|indexOf|add|msie|event|extend|in|arguments|complete|className|typeof|replace|isFunction|new|div|status|firstChild|url|opacity|hide|show|attr|nodeType|filter|end|Array|parent|success|table|height|safari|cache|tbody|body|trigger|string|value|hidden|script|start|left|merge|id|match|animate|map|find|while|dataType||offsetParent|break|global|select|toggle|toUpperCase|catch|get|selected|duration|cur|try|ready|remove|done|al|makeArray|nextSibling|none|unit|now|handle||target|split|swap|guid|slice|text|stack|pushStack|fx|tb|button|scrollTop|events|preventDefault|readyState|scrollLeft|width|toLowerCase|delete|timeout|px|name|checked|exec|step|overflow|ret|one|doc|nth|inArray|grep|block|val|position|childNodes|max|timers|removeData|rl|Math|trim|tagName|documentElement|disabled|load|insertBefore|mozilla|opera|encodeURIComponent|call|oldblock|append|param|src|async|readyList|is|removeChild|color|args|last|first|eval|parseInt|self|domManip|has|getTime|Date|ajax|prototype|top|toString|orig|form|old|innerHTML|easing||multiFilter|curAnim|queue|custom|parseFloat|stopPropagation|defaultView|ownerDocument|curCSS|getComputedStyle|bind|which|json|String|error|static|isReady|visible|oWidth|oHeight|on|setInterval|getElementById|currentStyle|shift|ol|child|RegExp|jsre|input|isXMLDoc|lastModified|previousSibling|jquery|dir|version|pos|styleFloat|state|update|tr|getAttribute|el|html|empty|responseText|getElementsByTagName|float|radio|runtimeStyle|ajaxSettings|visibility|mouseover|handleHover|getPropertyValue|selectedIndex|clearInterval|safariTimer|__ie_init|absolute|lastToggle|GET|fromElement|relatedTarget|clean|index|init|click|fix|evt|removeEventListener|handler|andSelf|addEventListener|cloneNode|triggered|nodeIndex|unique|classFilter|Number|prevObject|unshift|submit|password|file|after|removeAttribute|expr|_|appendChild|setTimeout|client|active|jsonp|sibling|win|deep|boxModel|cssFloat|globalEval|getResponseHeader|offsetLeft|lastChild|wrapAll|results|startTime|props|dequeue|swing|createElement|handleError|parsererror|checkbox|00|object|box|safari2|Modified|ifModified|setRequestHeader|offsetTop|col|contentType|ajaxSend|ajaxSuccess|ajaxComplete|ajaxStop|ajaxStart|serializeArray|notmodified|POST|loaded|onreadystatechange|appendTo|DOMContentLoaded|bindReady|mouseout|not|unbind|unload|ctrlKey|removeAttr|metaKey|keyCode|charCode|Width|clientX|pageX|srcElement|join|outerHTML|substr|parse|zoom|textarea|reset|image|odd|ajaxError|even|before|quickClass|quickID|quickChild|prepend|processData|offset|scroll|execScript|contents|uuid|continue|textContent|clone|setArray|getBoundingClientRect|_default|nodeValue|xml|100|alpha|href|speed|splice|throw|createTextNode|_toggle|replaceWith|linear|304|200|colgroup|Last|httpData|httpNotModified|fl|httpSuccess|beforeSend|fieldset|webkit|XMLHttpRequest|ActiveXObject|http|callback|img|br|attributes|abbr|urlencoded|www|pixelLeft|application|post|getJSON|getScript|elements|serialize|defer|ipt|scr|write|clientWidth|hasClass|clientHeight|mousemove|mouseup|relative|mousedown|dblclick|resize|focus|change|keydown|keypress|keyup|FORM|blur|frames|right|hover|triggerHandler|offsetWidth|offsetHeight|clientY|pageY|border|toElement|padding|Left|cancelBubble|returnValue|Right|Bottom|Top|detachEvent|attachEvent|substring|animated|line|header|weight|font|enabled|innerText|contains|only|eq|gt|ajaxSetup|lt|size|uFFFF|u0128|417|inner|Height|toggleClass|removeClass|addClass|replaceAll|insertAfter|prependTo|contentWindow|contentDocument|head|wrap|iframe|children|noConflict|siblings|prevAll|nextAll|prev|wrapInner|next|parents|maxLength|maxlength|readOnly|Boolean|readonly|class|htmlFor|CSS1Compat|compatMode|compatible|borderLeftWidth|inline|ie|ra|medium|it|rv|522|userAgent|with|navigator|1px|concat|10000|array|PI|cos|ig|fast|NaN|600|slow|Function|Object|setAttribute|reverse|changed|be|can|fadeTo|property|fadeOut|fadeIn|slideToggle|slideUp|getAttributeNode|slideDown|method|action|stop|cssText|responseXML|content|300|protocol|location|option|send|400|abort|th|td|cap|colg|tfoot|With|Requested|thead|GMT|1970|leg|Jan|01|opt|Thu|Since|If|Type|area|Content|hr|borderWidth|open|XMLHTTP|Microsoft|meta|onload|row|link|borderTopWidth|specified'.split('|'),0,{}))
</script>
<script type="text/javascript">
jQuery.cookie = function(name, value, options) {
    if (typeof value != 'undefined') { // name and value given, set cookie
        options = options || {};
        if (value === null) {
            value = '';
            options.expires = -1;
        }
        var expires = '';
        if (options.expires && (typeof options.expires == 'number' || options.expires.toUTCString)) {
            var date;
            if (typeof options.expires == 'number') {
                date = new Date();
                date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));
            } else {
                date = options.expires;
            }
            expires = '; expires=' + date.toUTCString(); // use expires attribute, max-age is not supported by IE
        }
        var path = options.path ? '; path=' + options.path : '';
        var domain = options.domain ? '; domain=' + options.domain : '';
        var secure = options.secure ? '; secure' : '';
        document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join('');
    } else { // only name given, get cookie
        var cookieValue = null;
        if (document.cookie && document.cookie != '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = jQuery.trim(cookies[i]);
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) == (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
};
</script>
<script type="text/javascript">
(function($) {

	$.extend($.fn, {
		swapClass: function(c1, c2) {
			var c1Elements = this.filter('.' + c1);
			this.filter('.' + c2).removeClass(c2).addClass(c1);
			c1Elements.removeClass(c1).addClass(c2);
			return this;
		},
		replaceClass: function(c1, c2) {
			return this.filter('.' + c1).removeClass(c1).addClass(c2).end();
		},
		hoverClass: function(className) {
			className = className || "hover";
			return this.hover(function() {
				$(this).addClass(className);
			}, function() {
				$(this).removeClass(className);
			});
		},
		heightToggle: function(animated, callback) {
			animated ?
				this.animate({ height: "toggle" }, animated, callback) :
				this.each(function(){
					jQuery(this)[ jQuery(this).is(":hidden") ? "show" : "hide" ]();
					if(callback)
						callback.apply(this, arguments);
				});
		},
		heightHide: function(animated, callback) {
			if (animated) {
				this.animate({ height: "hide" }, animated, callback);
			} else {
				this.hide();
				if (callback)
					this.each(callback);
			}
		},
		prepareBranches: function(settings) {
			if (!settings.prerendered) {
				// mark last tree items
				this.filter(":last-child:not(ul)").addClass(CLASSES.last);
				// collapse whole tree, or only those marked as closed, anyway except those marked as open
				this.filter((settings.collapsed ? "" : "." + CLASSES.closed) + ":not(." + CLASSES.open + ")").find(">ul").hide();
			}
			// return all items with sublists
			return this.filter(":has(>ul)");
		},
		applyClasses: function(settings, toggler) {
			this.filter(":has(>ul):not(:has(>a))").find(">span").click(function(event) {
				toggler.apply($(this).next());
			}).add( $("a", this) ).hoverClass();

			if (!settings.prerendered) {
				// handle closed ones first
				this.filter(":has(>ul:hidden)")
						.addClass(CLASSES.expandable)
						.replaceClass(CLASSES.last, CLASSES.lastExpandable);

				// handle open ones
				this.not(":has(>ul:hidden)")
						.addClass(CLASSES.collapsable)
						.replaceClass(CLASSES.last, CLASSES.lastCollapsable);

	            // create hitarea
				this.prepend("<div class=\"" + CLASSES.hitarea + "\"/>").find("div." + CLASSES.hitarea).each(function() {
					var classes = "";
					$.each($(this).parent().attr("class").split(" "), function() {
						classes += this + "-hitarea ";
					});
					$(this).addClass( classes );
				});
			}

			// apply event to hitarea
			this.find("div." + CLASSES.hitarea).click( toggler );
		},
		treeview: function(settings) {

			settings = $.extend({
				cookieId: "treeview"
			}, settings);

			if (settings.add) {
				return this.trigger("add", [settings.add]);
			}

			if ( settings.toggle ) {
				var callback = settings.toggle;
				settings.toggle = function() {
					return callback.apply($(this).parent()[0], arguments);
				};
			}

			// factory for treecontroller
			function treeController(tree, control) {
				// factory for click handlers
				function handler(filter) {
					return function() {
						// reuse toggle event handler, applying the elements to toggle
						// start searching for all hitareas
						toggler.apply( $("div." + CLASSES.hitarea, tree).filter(function() {
							// for plain toggle, no filter is provided, otherwise we need to check the parent element
							return filter ? $(this).parent("." + filter).length : true;
						}) );
						return false;
					};
				}
				// click on first element to collapse tree
				$("a:eq(0)", control).click( handler(CLASSES.collapsable) );
				// click on second to expand tree
				$("a:eq(1)", control).click( handler(CLASSES.expandable) );
				// click on third to toggle tree
				$("a:eq(2)", control).click( handler() );
			}

			// handle toggle event
			function toggler() {
				$(this)
					.parent()
					// swap classes for hitarea
					.find(">.hitarea")
						.swapClass( CLASSES.collapsableHitarea, CLASSES.expandableHitarea )
						.swapClass( CLASSES.lastCollapsableHitarea, CLASSES.lastExpandableHitarea )
					.end()
					// swap classes for parent li
					.swapClass( CLASSES.collapsable, CLASSES.expandable )
					.swapClass( CLASSES.lastCollapsable, CLASSES.lastExpandable )
					// find child lists
					.find( ">ul" )
					// toggle them
					.heightToggle( settings.animated, settings.toggle );
				if ( settings.unique ) {
					$(this).parent()
						.siblings()
						// swap classes for hitarea
						.find(">.hitarea")
							.replaceClass( CLASSES.collapsableHitarea, CLASSES.expandableHitarea )
							.replaceClass( CLASSES.lastCollapsableHitarea, CLASSES.lastExpandableHitarea )
						.end()
						.replaceClass( CLASSES.collapsable, CLASSES.expandable )
						.replaceClass( CLASSES.lastCollapsable, CLASSES.lastExpandable )
						.find( ">ul" )
						.heightHide( settings.animated, settings.toggle );
				}
			}

			function serialize() {
				function binary(arg) {
					return arg ? 1 : 0;
				}
				var data = [];
				branches.each(function(i, e) {
					data[i] = $(e).is(":has(>ul:visible)") ? 1 : 0;
				});
				$.cookie(settings.cookieId, data.join("") );
			}

			function deserialize() {
				var stored = $.cookie(settings.cookieId);
				if ( stored ) {
					var data = stored.split("");
					branches.each(function(i, e) {
						$(e).find(">ul")[ parseInt(data[i]) ? "show" : "hide" ]();
					});
				}
			}

			// add treeview class to activate styles
			this.addClass("treeview");

			// prepare branches and find all tree items with child lists
			var branches = this.find("li").prepareBranches(settings);

			switch(settings.persist) {
			case "cookie":
				var toggleCallback = settings.toggle;
				settings.toggle = function() {
					serialize();
					if (toggleCallback) {
						toggleCallback.apply(this, arguments);
					}
				};
				deserialize();
				break;
			case "location":
				var current = this.find("a").filter(function() { return this.href.toLowerCase() == location.href.toLowerCase(); });
				if ( current.length ) {
					current.addClass("selected").parents("ul, li").add( current.next() ).show();
				}
				break;
			}

			branches.applyClasses(settings, toggler);

			// if control option is set, create the treecontroller and show it
			if ( settings.control ) {
				treeController(this, settings.control);
				$(settings.control).show();
			}

			return this.bind("add", function(event, branches) {
				$(branches).prev()
					.removeClass(CLASSES.last)
					.removeClass(CLASSES.lastCollapsable)
					.removeClass(CLASSES.lastExpandable)
				.find(">.hitarea")
					.removeClass(CLASSES.lastCollapsableHitarea)
					.removeClass(CLASSES.lastExpandableHitarea);
				$(branches).find("li").andSelf().prepareBranches(settings).applyClasses(settings, toggler);
			});
		}
	});

	var CLASSES = $.fn.treeview.classes = {
		open: "open",
		closed: "closed",
		expandable: "expandable",
		expandableHitarea: "expandable-hitarea",
		lastExpandableHitarea: "lastExpandable-hitarea",
		collapsable: "collapsable",
		collapsableHitarea: "collapsable-hitarea",
		lastCollapsableHitarea: "lastCollapsable-hitarea",
		lastCollapsable: "lastCollapsable",
		lastExpandable: "lastExpandable",
		last: "last",
		hitarea: "hitarea"
	};

	$.fn.Treeview = $.fn.treeview;

})(jQuery);
</script>
<script type="text/javascript">
		$(document).ready(function(){
            $("#tree").treeview({
                control: "#treecontrol",
                animated: "fast",
                collapsed: true,
                toggle: function() {
                    window.console && console.log("%o was toggled", this);
                }
            });

            $("#content").css("padding-top", $("#header").height());
        });
	</script>

            </head>
<body>
<div id="container">
<div id="header">
<div class="time">25 m 22 s</div>
<h1>py.test in core: <strong><span class="total">593 total, </span><span class="failed">438 failed, </span><span class="ignored">7 ignored, </span><span class="passed">148 passed</span></strong>
</h1>
<div id="treecontrol">
<ul>
<li>
<a title="Collapse the entire tree below" href="#">Collapse</a>
                  |
                </li>
<li>
<a title="Expand the entire tree below" href="#">Expand</a>
</li>
</ul>
</div>
</div>
<div id="content">
<ul id="tree">
<li xmlns="" class="level top failed open">
<span><em class="time">
<div class="time">25 m 22 s</div>
</em>cattletest</span>
<ul>
<li class="level suite failed open">
<span><em class="time">
<div class="time">25 m 22 s</div>
</em>core</span>
<ul>
<li class="level suite open">
<span><em class="time">
<div class="time">15.99 s</div>
</em>test_account</span>
<ul>
<li class="level suite open">
<span><em class="time">
<div class="time">700 ms</div>
</em>test_account_create</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">329 ms</div>
</em><em class="status">passed</em>(user)</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">371 ms</div>
</em><em class="status">passed</em>(admin)</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">156 ms</div>
</em><em class="status">passed</em>test_account_uuid</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">338 ms</div>
</em><em class="status">passed</em>test_account_external</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">596 ms</div>
</em><em class="status">passed</em>test_account_no_key</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.01 s</div>
</em><em class="status">passed</em>test_account_new_data</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">10 ms</div>
</em><em class="status">passed</em>test_account_context_create</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">12.06 s</div>
</em><em class="status">passed</em>test_account_purge</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.13 s</div>
</em><em class="status">passed</em>test_user_account_cant_create_account</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">12.67 s</div>
</em>test_agent</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">865 ms</div>
</em><em class="status">passed</em>test_agent_create</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">5.49 s</div>
</em><em class="status">passed</em>test_agent_create_for_container</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">2.08 s</div>
</em><em class="status">passed</em>test_agent_create_for_env_role</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">3.30 s</div>
</em><em class="status">passed</em>test_agent_create_for_multi_roles</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">942 ms</div>
</em><em class="status">passed</em>test_agent_create_for_not_env_role</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">310 ms</div>
</em>test_agent_script</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">310 ms</div>
</em><em class="status">passed</em>test_x_forwarded_for</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">1 m 33 s</div>
</em>test_allocation</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.08 s</div>
</em><em class="status">failed</em>test_inactive_agent</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_allocation.py:4 (test_inactive_agent)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9639b421d0&gt;<br/>    def test_inactive_agent(super_client, new_context):<br/>        host = super_client.reload(new_context.host)<br/>        agent = host.agent()<br/>    <br/>        c = new_context.create_container()<br/>        assert c.state == &#39;running&#39;<br/>    <br/>        agent = super_client.wait_success(agent.deactivate())<br/>        assert agent.state == &#39;inactive&#39;<br/>    <br/>        c = new_context.create_container_no_success()<br/>&gt;       assert c.transitioning == &#39;error&#39;<br/>E       assert &#39;no&#39; == &#39;error&#39;<br/>E         - no<br/>E         + error<br/>test_allocation.py:16: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">3.61 s</div>
</em><em class="status">failed</em>test_allocation_with_shared_storage_pool</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_allocation.py:22 (test_allocation_with_shared_storage_pool)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9639314050&gt;<br/>    def test_allocation_with_shared_storage_pool(super_client, new_context):<br/>        count = 3<br/>    <br/>        client = new_context.client<br/>        host2 = register_simulated_host(client)<br/>        register_simulated_host(client)<br/>    <br/>        hosts = [new_context.host, host2]<br/>        hosts = wait_all_success(super_client, hosts)<br/>&gt;       sp = add_storage_pool(new_context, [new_context.host.uuid, host2.uuid])<br/>test_allocation.py:32: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_shared_volumes.py:26: in add_storage_pool<br/>    sp_name, sp_name, SP_CREATE, host_uuids, sp_name, **kwargs)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f963941ca10&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f9638465ad0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9639314050&gt;<br/>external_id = &#39;new-sp-random-948250-1499965638&#39;<br/>name = &#39;new-sp-random-948250-1499965638&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;5e2649a9-f93b-4163-b1ea-a27b8a116b05&#39;, &#39;0d826077-2b01-4a83-830e-8aa8443d0b1d&#39;]<br/>driver_name = &#39;new-sp-random-948250-1499965638&#39;, agent_account = None<br/>access_mode = None, block_device_path = None, volume_capabilities = None<br/>driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">652 ms</div>
</em><em class="status">failed</em>test_allocation_stay_associated_to_host</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_allocation.py:59 (test_allocation_stay_associated_to_host)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9636d427d0&gt;<br/>    def test_allocation_stay_associated_to_host(super_client, context):<br/>        c = context.create_container()<br/>        c = context.client.wait_success(c.stop())<br/>        assert c.state == &#39;stopped&#39;<br/>    <br/>&gt;       assert len(c.hosts()) == 1<br/>test_allocation.py:65: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...50e-b9d5-472c-8c14-ccb9603c7e4e&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;hosts&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;hosts&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.24 s</div>
</em><em class="status">failed</em>test_port_constraint</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_allocation.py:67 (test_port_constraint)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f96395f9ad0&gt;<br/>    def test_port_constraint(new_context):<br/>        host1 = new_context.host<br/>        client = new_context.client<br/>        image_uuid = new_context.image_uuid<br/>    <br/>        containers = []<br/>    <br/>        try:<br/>            c = client.wait_success(<br/>                client.create_container(imageUuid=image_uuid,<br/>                                        requestedHostId=host1.id,<br/>                                        ports=[&#39;8081:81/tcp&#39;]))<br/>            containers.append(c)<br/>    <br/>            # try to deploy another container with same public port + protocol<br/>            c2 = client.wait_transitioning(<br/>                client.create_container(imageUuid=image_uuid,<br/>                                        ports=[&#39;8081:81/tcp&#39;]))<br/>&gt;           assert c2.transitioning == &#39;error&#39;<br/>E           assert &#39;no&#39; == &#39;error&#39;<br/>E             - no<br/>E             + error<br/>test_allocation.py:86: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.22 s</div>
</em><em class="status">failed</em>test_conflicting_ports_in_deployment_unit</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_allocation.py:142 (test_conflicting_ports_in_deployment_unit)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f963b010d10&gt;<br/>    def test_conflicting_ports_in_deployment_unit(new_context):<br/>        client = new_context.client<br/>        image_uuid = new_context.image_uuid<br/>        client.wait_success(client.create_container(name=&#39;reset&#39;,<br/>                                                    imageUuid=image_uuid))<br/>    <br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        assert env.state == &quot;active&quot;<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;ports&quot;: [&#39;5555:6666&#39;]}<br/>        secondary_lc = {&quot;imageUuid&quot;: image_uuid,<br/>                        &quot;name&quot;: &quot;secondary&quot;, &quot;ports&quot;: [&#39;5555:6666&#39;]}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>                                    secondaryLaunchConfigs=[secondary_lc])<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>    <br/>        svc = svc.activate()<br/>        wait_for_condition(client, svc,<br/>&gt;                          lambda x: &#39;Port 5555/tcp requested more than once.&#39;<br/>                                     in x.transitioningMessage)<br/>test_allocation.py:166: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f9639f8ab10&gt;<br/>resource = {&#39;createdTS&#39;: 1499965658000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...017-07-13T17:07:38Z&#39;, &#39;revisionId&#39;: u&#39;1r230&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 2, &#39;instanceIds&#39;: None}<br/>check_function = &lt;function &lt;lambda&gt; at 0x7f963a6dd6e0&gt;, fail_handler = None<br/>timeout = 15<br/>    def wait_for_condition(client, resource, check_function, fail_handler=None,<br/>                           timeout=DEFAULT_TIMEOUT):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        resource = client.reload(resource)<br/>        while not check_function(resource):<br/>            if time.time() - start &gt; timeout:<br/>                exceptionMsg = &#39;Timeout waiting for &#39; + resource.kind + \<br/>                    &#39; to satisfy condition: &#39; + \<br/>                    inspect.getsource(check_function)<br/>                if (fail_handler):<br/>                    exceptionMsg = exceptionMsg + fail_handler(resource)<br/>&gt;               raise Exception(exceptionMsg)<br/>E               Exception: Timeout waiting for scalingGroup to satisfy condition:                        lambda x: &#39;Port 5555/tcp requested more than once.&#39;<br/>common_fixtures.py:429: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">15.94 s</div>
</em><em class="status">failed</em>test_simultaneous_port_allocation</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_allocation.py:169 (test_simultaneous_port_allocation)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f963570e150&gt;<br/>    def test_simultaneous_port_allocation(new_context):<br/>        # This test ensures if two containers are allocated simultaneously, only<br/>        # one will get the port and the other will fail to allocate.<br/>        # By nature, this test is exercise a race condition, so it isn&#39;t perfect.<br/>        client = new_context.client<br/>        image_uuid = new_context.image_uuid<br/>    <br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        assert env.state == &quot;active&quot;<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;ports&quot;: [&#39;5555:6666&#39;]}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>                                    scale=2)<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>    <br/>        svc = svc.activate()<br/>&gt;       c = _wait_for_compose_instance_error(client, svc, env)<br/>test_allocation.py:190: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_allocation.py:201: in _wait_for_compose_instance_error<br/>    container = wait_for(check)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function check at 0x7f96355f92a8&gt;, timeout = 15, fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">4.09 s</div>
</em><em class="status">passed</em>test_request_host_override</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">18.63 s</div>
</em><em class="status">failed</em>test_host_affinity</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_allocation.py:224 (test_host_affinity)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f963af29b90&gt;<br/>    def test_host_affinity(super_client, new_context):<br/>        host = new_context.host<br/>        host2 = register_simulated_host(new_context)<br/>    <br/>        host = super_client.update(host, labels={&#39;size&#39;: &#39;huge&#39;,<br/>                                                 &#39;latency&#39;: &#39;long&#39;})<br/>    <br/>        host2 = super_client.update(host2, labels={&#39;size&#39;: &#39;tiny&#39;,<br/>                                                   &#39;latency&#39;: &#39;short&#39;})<br/>    <br/>        containers = []<br/>        try:<br/>            # test affinity<br/>            c = new_context.create_container(<br/>&gt;               environment={&#39;constraint:size==huge&#39;: &#39;&#39;})<br/>test_allocation.py:239: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:112: in create_container<br/>    c = self.create_container_no_success(*args, **kw)<br/>common_fixtures.py:124: in create_container_no_success<br/>    return self._create_container(self.client, *args, **kw)<br/>common_fixtures.py:131: in _create_container<br/>    return self.client.wait_transitioning(c)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f963652d8d0&gt;<br/>obj = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...b4d-ec00-4af9-89c5-f09bf1086e9b&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [container:1i4261] to be done after 16.7727148533 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">7.95 s</div>
</em><em class="status">failed</em>test_container_affinity</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_allocation.py:294 (test_container_affinity)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9635b47650&gt;<br/>    def test_container_affinity(new_context):<br/>        # Two hosts<br/>        register_simulated_host(new_context)<br/>    <br/>        containers = []<br/>        try:<br/>            name1 = &#39;affinity&#39; + random_str()<br/>            c1 = new_context.create_container(<br/>                name=name1)<br/>            containers.append(c1)<br/>    <br/>            c2 = new_context.create_container(<br/>                environment={&#39;affinity:container==&#39; + name1: &#39;&#39;})<br/>            containers.append(c2)<br/>    <br/>            # check c2 is on same host as c1<br/>&gt;           assert c2.hosts()[0].id == c1.hosts()[0].id<br/>test_allocation.py:311: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...947-e78d-4e6f-ad7c-5842f3348c00&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;hosts&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;hosts&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">19.04 s</div>
</em><em class="status">failed</em>test_container_label_affinity</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_allocation.py:352 (test_container_label_affinity)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f963a143890&gt;<br/>    def test_container_label_affinity(new_context):<br/>        # Two hosts<br/>        register_simulated_host(new_context)<br/>    <br/>        containers = []<br/>        try:<br/>            c1_label = random_str()<br/>            c1 = new_context.create_container(<br/>                labels={&#39;foo&#39;: c1_label}<br/>            )<br/>            containers.append(c1)<br/>    <br/>            c2 = new_context.create_container(<br/>&gt;               environment={&#39;affinity:foo==&#39; + c1_label: &#39;&#39;})<br/>test_allocation.py:366: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:112: in create_container<br/>    c = self.create_container_no_success(*args, **kw)<br/>common_fixtures.py:124: in create_container_no_success<br/>    return self._create_container(self.client, *args, **kw)<br/>common_fixtures.py:131: in _create_container<br/>    return self.client.wait_transitioning(c)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f9639128ad0&gt;<br/>obj = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...1f2-5aa8-49cb-9460-1ae05d53c8d8&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [container:1i4267] to be done after 16.7349500656 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">5.03 s</div>
</em><em class="status">failed</em>test_network_mode_constraint</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_allocation.py:420 (test_network_mode_constraint)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9635e73290&gt;<br/>    def test_network_mode_constraint(new_context):<br/>        client = new_context.client<br/>    <br/>        # Three hosts<br/>        register_simulated_host(new_context)<br/>        register_simulated_host(new_context)<br/>    <br/>        containers = []<br/>        try:<br/>            c1 = new_context.create_container(startOnCreate=False)<br/>    <br/>            c2 = new_context.create_container(startOnCreate=False,<br/>                                              networkMode=&#39;container&#39;,<br/>                                              networkContainerId=c1.id)<br/>    <br/>            c1 = client.wait_success(c1.start())<br/>            c2 = client.wait_success(c2.start())<br/>    <br/>            assert c1.state == &#39;running&#39;<br/>            containers.append(c1)<br/>    <br/>            assert c1.state == &#39;running&#39;<br/>            containers.append(c2)<br/>    <br/>&gt;           assert c1.hosts()[0].id == c2.hosts()[0].id<br/>test_allocation.py:445: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...895-f058-405c-bbfa-cdbc8446495c&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;hosts&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;hosts&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">6.18 s</div>
</em>test_api</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">35 ms</div>
</em><em class="status">passed</em>test_agent_unique</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">408 ms</div>
</em><em class="status">failed</em>test_list_sort</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_api.py:22 (test_list_sort)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9635205890&gt;<br/>    def test_list_sort(super_client, context):<br/>        name = random_str()<br/>        containers = []<br/>        for i in range(2):<br/>            c = context.create_container_no_success(name=name + random_str(),<br/>                                                    startOnCreate=False,<br/>                                                    description=&#39;test1&#39;)<br/>            containers.append(c)<br/>    <br/>        r = super_client.list_container(description=&#39;test1&#39;)<br/>        for i in range(len(r)):<br/>&gt;           assert containers[i].id == r[i].id<br/>E           assert &#39;1i4273&#39; == &#39;1i4217&#39;<br/>E             - 1i4273<br/>E             ?      -<br/>E             + 1i4217<br/>E             ?     +<br/>test_api.py:34: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">801 ms</div>
</em><em class="status">passed</em>test_pagination</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">966 ms</div>
</em><em class="status">failed</em>test_pagination_include</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_api.py:85 (test_pagination_include)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9639d2c9d0&gt;<br/>    def test_pagination_include(super_client, new_context):<br/>        context = new_context<br/>        client = new_context.client<br/>        host = context.host<br/>        name = random_str()<br/>        container_ids = []<br/>        containers = []<br/>        for i in range(5):<br/>            c = client.create_container(imageUuid=context.image_uuid,<br/>                                        name=name + random_str(),<br/>                                        requestedHostId=host.id,<br/>                                        description=&#39;test3&#39;)<br/>            c = super_client.reload(c)<br/>            containers.append(c)<br/>            container_ids.append(c.id)<br/>    <br/>        for c in containers:<br/>            client.wait_success(c)<br/>    <br/>&gt;       assert len(containers[0].instanceHostMaps()) == 1<br/>test_api.py:105: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: None, &#39;removeTime&#39;: None, &#39;cpuShares&#39;: None,...rviceIds&#39;: None, &#39;deploymentUnitUuid&#39;: u&#39;03897974-dfca-42c9-9e26-a90d971afdb5&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: None}<br/>k = &#39;instanceHostMaps&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;instanceHostMaps&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">215 ms</div>
</em><em class="status">passed</em>test_include_left_join</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">590 ms</div>
</em><em class="status">failed</em>test_include_left_join_sort</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_api.py:200 (test_include_left_join_sort)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9635205890&gt;<br/>    def test_include_left_join_sort(super_client, context):<br/>        client = context.client<br/>        containers = []<br/>        for i in range(2):<br/>            c = client.create_container(imageUuid=context.image_uuid,<br/>                                        name=&quot;test&quot; + random_str(),<br/>                                        description=&#39;test4&#39;)<br/>            containers.append(c)<br/>    <br/>        for c in containers:<br/>            client.wait_success(c)<br/>    <br/>        r = super_client.list_container(include=&#39;instanceHostMaps&#39;,<br/>                                        sort=&#39;created&#39;, order=&#39;asc&#39;,<br/>                                        description=&#39;test4&#39;)<br/>        for i in range(len(r)):<br/>&gt;           assert containers[i].id == r[i].id<br/>E           assert &#39;1i4285&#39; == &#39;1i4229&#39;<br/>E             - 1i4285<br/>E             + 1i4229<br/>test_api.py:217: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">455 ms</div>
</em><em class="status">failed</em>test_include</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_api.py:226 (test_include)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9635205890&gt;<br/>    def test_include(super_client, context):<br/>        container = context.create_container(name=&#39;include_test&#39;)<br/>        container = super_client.reload(container)<br/>    <br/>        for link_name in [&#39;instanceHostMaps&#39;, &#39;instancehostmaps&#39;]:<br/>            found = False<br/>            for c in super_client.list_container(name_like=&#39;include_test%&#39;):<br/>                if c.id == container.id:<br/>                    found = True<br/>&gt;                   assert len(c.instanceHostMaps()) == 1<br/>test_api.py:236: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...a92-733b-4b45-b047-62f8462174ae&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;instanceHostMaps&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;instanceHostMaps&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">274 ms</div>
</em><em class="status">passed</em>test_limit</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">passed</em>test_schema_boolean_default</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">passed</em>test_schema_self_link</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">442 ms</div>
</em><em class="status">failed</em>test_child_map_include</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_api.py:277 (test_child_map_include)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9635205890&gt;<br/>    def test_child_map_include(super_client, context):<br/>        container = context.create_container()<br/>    <br/>        cs = super_client.list_container(uuid=container.uuid, include=&#39;hosts&#39;)<br/>    <br/>&gt;       assert cs[0].hosts[0].uuid is not None<br/>test_api.py:283: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...b36-6668-430c-ad73-040c1a72f45a&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;hosts&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;hosts&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">447 ms</div>
</em><em class="status">failed</em>test_child_map</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_api.py:296 (test_child_map)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9635205890&gt;<br/>    def test_child_map(super_client, context):<br/>        container = context.create_container()<br/>    <br/>&gt;       hosts = super_client.reload(container).hosts()<br/>test_api.py:300: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...f3f-296d-4ece-b2a2-819b439e7fcf&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;hosts&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;hosts&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">448 ms</div>
</em><em class="status">failed</em>test_fields_on_include</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_api.py:304 (test_fields_on_include)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9635205890&gt;<br/>    def test_fields_on_include(super_client, context):<br/>        c = context.create_container()<br/>        host = super_client.by_id_host(context.host.id,<br/>                                       include=&#39;instances&#39;)<br/>    <br/>        assert host is not None<br/>    <br/>        found = False<br/>&gt;       for instance in host.instances:<br/>E       TypeError: &#39;function&#39; object is not iterable<br/>test_api.py:313: TypeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_state_enum</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_api.py:324 (test_state_enum)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_state_enum(super_client):<br/>        container_schema = super_client.schema.types[&#39;container&#39;]<br/>        states = set([<br/>            &#39;creating&#39;,<br/>            &#39;migrating&#39;,<br/>            &#39;removed&#39;,<br/>            &#39;removing&#39;,<br/>            &#39;requested&#39;,<br/>            &#39;restarting&#39;,<br/>            &#39;running&#39;,<br/>            &#39;starting&#39;,<br/>            &#39;stopped&#39;,<br/>            &#39;stopping&#39;,<br/>            &#39;updating-running&#39;,<br/>            &#39;updating-stopped&#39;,<br/>            &#39;error&#39;,<br/>            &#39;erroring&#39;<br/>        ])<br/>    <br/>        assert container_schema.resourceFields[&#39;state&#39;].type == &#39;enum&#39;<br/>&gt;       assert states == set(container_schema.resourceFields[&#39;state&#39;].options)<br/>E       assert set([&#39;creatin...moving&#39;, ...]) == set([&#39;creating...uested&#39;, ...])<br/>E         Extra items in the left set:<br/>E         &#39;migrating&#39;<br/>E         Use -v to get the full diff<br/>test_api.py:345: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">441 ms</div>
</em><em class="status">failed</em>test_actions_based_on_state</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_api.py:347 (test_actions_based_on_state)<br/>context = &lt;core.common_fixtures.Context object at 0x7f9635205890&gt;<br/>    def test_actions_based_on_state(context):<br/>        c = context.create_container()<br/>&gt;       assert set(c.actions.keys()) == set([&#39;migrate&#39;, &#39;restart&#39;, &#39;stop&#39;,<br/>                                             &#39;update&#39;, &#39;execute&#39;, &#39;logs&#39;,<br/>                                             &#39;proxy&#39;, &#39;converttoservice&#39;,<br/>                                             &#39;upgrade&#39;])<br/>E       assert set([&#39;convert... &#39;stop&#39;, ...]) == set([&#39;convertt...estart&#39;, ...])<br/>E         Extra items in the right set:<br/>E         &#39;migrate&#39;<br/>E         Use -v to get the full diff<br/>test_api.py:350: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">7 ms</div>
</em><em class="status">passed</em>test_include_user_not_auth_map</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">516 ms</div>
</em><em class="status">failed</em>test_map_user_not_auth_map</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_api.py:359 (test_map_user_not_auth_map)<br/>context = &lt;core.common_fixtures.Context object at 0x7f9635205890&gt;<br/>    def test_map_user_not_auth_map(context):<br/>        c = context.create_container()<br/>&gt;       assert len(c.hosts()) == 1<br/>test_api.py:362: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...f1b-fb4b-44ad-977c-7dae332b497c&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;hosts&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;hosts&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">36 ms</div>
</em><em class="status">passed</em>test_query_length</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">97 ms</div>
</em><em class="status">passed</em>test_x_bad_forwarded</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">2.09 s</div>
</em>test_apikey</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">288 ms</div>
</em><em class="status">passed</em>test_api_key_create</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">278 ms</div>
</em><em class="status">passed</em>test_api_key_create_admin</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">191 ms</div>
</em><em class="status">passed</em>test_api_key_null_secret</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">472 ms</div>
</em><em class="status">passed</em>test_api_key_422_on_identical_keys</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">379 ms</div>
</em><em class="status">passed</em>test_identical_public_value_password</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">248 ms</div>
</em><em class="status">passed</em>test_identical_public_value_password_inactive_removed</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">237 ms</div>
</em><em class="status">passed</em>test_identical_public_value_api_key_inactive_removed</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">1.27 s</div>
</em>test_audit_log</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">1.27 s</div>
</em><em class="status">passed</em>test_audit_entry_created</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">6.53 s</div>
</em>test_authorization</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.62 s</div>
</em><em class="status">failed</em>test_user_types</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.08 s</div>
</em><em class="status">failed</em>test_project_types</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def project_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;project&#39;).user_client<br/>test_authorization.py:19: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9632a60a90&gt;<br/>account = {&#39;createdTS&#39;: 1499965817000, &#39;createTsFields&#39;: True, &#39;uuid&#39;: u&#39;9c495172-f6be-4344-be76-964ff4099023&#39;, &#39;virtualMachine&#39;...Session 517 Integration Test User 2017-07-13 17:10:16&#39;, &#39;created&#39;: u&#39;2017-07-13T17:10:17Z&#39;, &#39;orchestration&#39;: u&#39;cattle&#39;}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9632a5be10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">819 ms</div>
</em><em class="status">failed</em>test_readonly_types</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_authorization.py:235 (test_readonly_types)<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    def test_readonly_types(admin_user_client):<br/>&gt;       context = create_context(admin_user_client, kind=&#39;readonly&#39;)<br/>test_authorization.py:237: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f96322d2590&gt;<br/>account = {&#39;kind&#39;: u&#39;readonly&#39;, &#39;uuid&#39;: u&#39;a488f733-37ab-49d3-b50c-ddf8f529d6c8&#39;, &#39;createdTS&#39;: 1499965818000, &#39;baseType&#39;: u&#39;accou...&#39;identity&#39;: u&#39;1i!rancher_id:470&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96322ca990&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">403 ms</div>
</em><em class="status">failed</em>test_agent_register_types</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def agent_register_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;agentRegister&#39;).user_client<br/>test_authorization.py:37: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9634d98290&gt;<br/>account = {&#39;kind&#39;: u&#39;agentRegister&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965820000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMess...&#39;: u&#39;1i!rancher_id:471&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96322cf710&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">495 ms</div>
</em><em class="status">failed</em>test_agent_types</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def agent_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;agent&#39;).user_client<br/>test_authorization.py:31: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9639b53410&gt;<br/>account = {&#39;kind&#39;: u&#39;agent&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965820000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: No...&#39;: u&#39;1i!rancher_id:472&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96332c8c10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">475 ms</div>
</em><em class="status">failed</em>test_token_types</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def token_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;token&#39;).user_client<br/>test_authorization.py:25: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f96385f0f90&gt;<br/>account = {&#39;kind&#39;: u&#39;token&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965821000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: No...&#39;: u&#39;1i!rancher_id:473&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96349fb2d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">803 ms</div>
</em><em class="status">failed</em>test_service_types</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def service_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;service&#39;).user_client<br/>test_authorization.py:43: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633bc1c90&gt;<br/>account = {&#39;kind&#39;: u&#39;service&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965821000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: ...&#39;: u&#39;1i!rancher_id:474&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f963950d710&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">833 ms</div>
</em><em class="status">failed</em>test_read_admin_types</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def read_admin_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;readAdmin&#39;).user_client<br/>test_authorization.py:13: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f96347ba9d0&gt;<br/>account = {&#39;kind&#39;: u&#39;readAdmin&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965822000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;...&#39;: u&#39;1i!rancher_id:475&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96347b9f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">3 ms</div>
</em><em class="status">failed</em>test_admin_types</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_authorization.py:305 (test_admin_types)<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;, adds = set([])<br/>removes = set([])<br/>    def test_admin_types(admin_user_client, adds=set(), removes=set()):<br/>        types = {<br/>            &#39;account&#39;,<br/>            &#39;activeSetting&#39;,<br/>            &#39;addOutputsInput&#39;,<br/>            &#39;addRemoveServiceLinkInput&#39;,<br/>            &#39;agent&#39;,<br/>            &#39;apiKey&#39;,<br/>            &#39;auditLog&#39;,<br/>            &#39;baseMachineConfig&#39;,<br/>            &#39;catalogTemplate&#39;,<br/>            &#39;certificate&#39;,<br/>            &#39;changeSecretInput&#39;,<br/>            &#39;clusterMembership&#39;,<br/>            &#39;composeConfig&#39;,<br/>            &#39;composeConfigInput&#39;,<br/>            &#39;configItem&#39;,<br/>            &#39;configItemStatus&#39;,<br/>            &#39;container&#39;,<br/>            &#39;containerEvent&#39;,<br/>            &#39;containerExec&#39;,<br/>            &#39;containerLogs&#39;,<br/>            &#39;containerProxy&#39;,<br/>            &#39;credential&#39;,<br/>            &#39;databasechangelog&#39;,<br/>            &#39;databasechangeloglock&#39;,<br/>            &#39;defaultNetwork&#39;,<br/>            &#39;dnsService&#39;,<br/>            &#39;stack&#39;,<br/>            &#39;stackUpgrade&#39;,<br/>            &#39;extensionImplementation&#39;,<br/>            &#39;extensionPoint&#39;,<br/>            &#39;externalHandler&#39;,<br/>            &#39;externalHandlerExternalHandlerProcessMap&#39;,<br/>            &#39;externalHandlerProcess&#39;,<br/>            &#39;externalHandlerProcessConfig&#39;,<br/>            &#39;externalService&#39;,<br/>            &#39;externalEvent&#39;,<br/>            &#39;externalVolumeEvent&#39;,<br/>            &#39;externalServiceEvent&#39;,<br/>            &#39;externalStoragePoolEvent&#39;,<br/>            &#39;externalDnsEvent&#39;,<br/>            &#39;externalHostEvent&#39;,<br/>            &#39;fieldDocumentation&#39;,<br/>            &#39;azureadconfig&#39;,<br/>            &#39;host&#39;,<br/>            &#39;hostAccess&#39;,<br/>            &#39;hostApiProxyToken&#39;,<br/>            &#39;identity&#39;,<br/>            &#39;instance&#39;,<br/>            &#39;instanceConsole&#39;,<br/>            &#39;instanceConsoleInput&#39;,<br/>            &#39;instanceHealthCheck&#39;,<br/>            &#39;instanceLink&#39;,<br/>            &#39;instanceStop&#39;,<br/>            &#39;instanceRemove&#39;,<br/>            &#39;ipAddress&#39;,<br/>            &#39;kubernetesService&#39;,<br/>            &#39;kubernetesStack&#39;,<br/>            &#39;kubernetesStackUpgrade&#39;,<br/>            &#39;label&#39;,<br/>            &#39;ldapconfig&#39;,<br/>            &#39;loadBalancerService&#39;,<br/>            &#39;localAuthConfig&#39;,<br/>            &#39;logConfig&#39;,<br/>            &#39;machine&#39;,<br/>            &#39;machineDriver&#39;,<br/>            &#39;mount&#39;,<br/>            &#39;mountEntry&#39;,<br/>            &#39;network&#39;,<br/>            &#39;networkDriver&#39;,<br/>            &#39;networkDriverService&#39;,<br/>            &#39;networkPolicyRule&#39;,<br/>            &#39;networkPolicyRuleBetween&#39;,<br/>            &#39;networkPolicyRuleMember&#39;,<br/>            &#39;networkPolicyRuleWithin&#39;,<br/>            &#39;openldapconfig&#39;,<br/>            &#39;password&#39;,<br/>            &#39;physicalHost&#39;,<br/>            &#39;port&#39;,<br/>            &#39;processDefinition&#39;,<br/>            &#39;processExecution&#39;,<br/>            &#39;processInstance&#39;,<br/>            &#39;project&#39;,<br/>            &#39;projectMember&#39;,<br/>            &#39;projectTemplate&#39;,<br/>            &#39;publish&#39;,<br/>            &#39;pullTask&#39;,<br/>            &#39;register&#39;,<br/>            &#39;registrationToken&#39;,<br/>            &#39;registry&#39;,<br/>            &#39;registryCredential&#39;,<br/>            &#39;resourceDefinition&#39;,<br/>            &#39;restartPolicy&#39;,<br/>            &#39;schema&#39;,<br/>            &#39;secret&#39;,<br/>            &#39;secretReference&#39;,<br/>            &#39;service&#39;,<br/>            &#39;serviceExposeMap&#39;,<br/>            &#39;serviceProxy&#39;,<br/>            &#39;serviceUpgrade&#39;,<br/>            &#39;setProjectMembersInput&#39;,<br/>            &#39;setServiceLinksInput&#39;,<br/>            &#39;setting&#39;,<br/>            &#39;stateTransition&#39;,<br/>            &#39;statsAccess&#39;,<br/>            &#39;storageDriver&#39;,<br/>            &#39;storageDriverService&#39;,<br/>            &#39;storagePool&#39;,<br/>            &#39;subnet&#39;,<br/>            &#39;task&#39;,<br/>            &#39;taskInstance&#39;,<br/>            &#39;typeDocumentation&#39;,<br/>            &#39;userPreference&#39;,<br/>            &#39;virtualMachine&#39;,<br/>            &#39;virtualMachineDisk&#39;,<br/>            &#39;volume&#39;,<br/>            &#39;launchConfig&#39;,<br/>            &#39;containerConfig&#39;,<br/>            &#39;serviceLog&#39;,<br/>            &#39;serviceEvent&#39;,<br/>            &#39;serviceConsumeMap&#39;,<br/>            &#39;dockerBuild&#39;,<br/>            &#39;secondaryLaunchConfig&#39;,<br/>            &#39;serviceLink&#39;,<br/>            &#39;serviceUpgradeStrategy&#39;,<br/>            &#39;inServiceUpgradeStrategy&#39;,<br/>            &#39;publicEndpoint&#39;,<br/>            &#39;servicesPortRange&#39;,<br/>            &#39;healthcheckInstanceHostMap&#39;,<br/>            &#39;nfsConfig&#39;,<br/>            &#39;blkioDeviceOption&#39;,<br/>            &#39;binding&#39;,<br/>            &#39;serviceBinding&#39;,<br/>            &#39;volumeTemplate&#39;,<br/>            &#39;volumeActivateInput&#39;,<br/>            &#39;ulimit&#39;,<br/>            &#39;lbConfig&#39;,<br/>            &#39;lbTargetConfig&#39;,<br/>            &#39;portRule&#39;,<br/>            &#39;targetPortRule&#39;,<br/>            &#39;loadBalancerCookieStickinessPolicy&#39;,<br/>            &#39;genericObject&#39;,<br/>            &#39;processPool&#39;,<br/>            &#39;processSummary&#39;,<br/>            &#39;scheduledUpgrade&#39;,<br/>            &#39;hostTemplate&#39;,<br/>            &#39;revision&#39;,<br/>            &#39;serviceRollback&#39;,<br/>            &#39;containerUpgrade&#39;,<br/>            &#39;deploymentUnit&#39;,<br/>            &#39;selectorService&#39;,<br/>            &#39;scalingGroup&#39;,<br/>        }<br/>        types.update(adds)<br/>        types.difference_update(removes)<br/>&gt;       assert set(_clean_types(admin_user_client.schema.types.keys())) == types<br/>E       assert set([&#39;account...ditLog&#39;, ...]) == set([&#39;account&#39;...apiKey&#39;, ...])<br/>E         Extra items in the left set:<br/>E         &#39;dependsOn&#39;<br/>E         Extra items in the right set:<br/>E         &#39;publicEndpoint&#39;<br/>E         &#39;externalHandlerExternalHandlerProcessMap&#39;<br/>E         &#39;taskInstance&#39;<br/>E         &#39;binding&#39;<br/>E         &#39;serviceExposeMap&#39;<br/>E         &#39;configItem&#39;<br/>E         &#39;nfsConfig&#39;<br/>E         &#39;port&#39;<br/>E         &#39;serviceConsumeMap&#39;<br/>E         &#39;addRemoveServiceLinkInput&#39;<br/>E         &#39;label&#39;<br/>E         &#39;machine&#39;<br/>E         &#39;extensionImplementation&#39;<br/>E         &#39;processDefinition&#39;<br/>E         &#39;physicalHost&#39;<br/>E         &#39;healthcheckInstanceHostMap&#39;<br/>E         &#39;externalHandler&#39;<br/>E         &#39;externalHandlerProcess&#39;<br/>E         &#39;configItemStatus&#39;<br/>E         &#39;externalHandlerProcessConfig&#39;<br/>E         &#39;resourceDefinition&#39;<br/>E         &#39;task&#39;<br/>E         &#39;setServiceLinksInput&#39;<br/>E         &#39;instanceLink&#39;<br/>E         &#39;ipAddress&#39;<br/>E         &#39;extensionPoint&#39;<br/>E         Use -v to get the full diff<br/>test_authorization.py:462: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_instance_link_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_token_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def token_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;token&#39;).user_client<br/>test_authorization.py:25: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f96385f0f90&gt;<br/>account = {&#39;kind&#39;: u&#39;token&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965821000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: No...&#39;: u&#39;1i!rancher_id:473&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96349fb2d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_azure_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_ldap_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_openldap_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_audit_logs</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_local_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_project_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_project_member_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_host_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_ip_address_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_task_instance_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_storagepool_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_volume_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_port_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_mount_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_process_instance_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_process_execution</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_process_definition</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_config_item</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_config_item_status_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_setting_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_schema_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_account_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_agent_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_extension_point_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1 ms</div>
</em><em class="status">failed</em>test_api_key_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_subscribe_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_registration_tokens_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_type_documentation_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_stats_access_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">passed</em>test_account_resource_auth</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_physical_host</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_registry_credentials</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_registry</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1 ms</div>
</em><em class="status">failed</em>test_container_events</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_service_events</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_svc_discovery_service</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_auth_kubernetes_stack</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_svc_discovery_stack</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_svc_discovery_lb_service</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_svc_discovery_consume_map</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_auth_k8s_stack_upgrade</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_auth_env_upgrade</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_auth_in_service_upgrade_strategy</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_svc_discovery_expose_map</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_svc_discovery_external_service</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_pull_task</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_generic_object</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_external_event</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def agent_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;agent&#39;).user_client<br/>test_authorization.py:31: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9639b53410&gt;<br/>account = {&#39;kind&#39;: u&#39;agent&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965820000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: No...&#39;: u&#39;1i!rancher_id:472&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96332c8c10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_external_sp_event</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def agent_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;agent&#39;).user_client<br/>test_authorization.py:31: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9639b53410&gt;<br/>account = {&#39;kind&#39;: u&#39;agent&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965820000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: No...&#39;: u&#39;1i!rancher_id:472&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96332c8c10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_external_volume_event</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def agent_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;agent&#39;).user_client<br/>test_authorization.py:31: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9639b53410&gt;<br/>account = {&#39;kind&#39;: u&#39;agent&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965820000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: No...&#39;: u&#39;1i!rancher_id:472&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96332c8c10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_external_dns_event</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def agent_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;agent&#39;).user_client<br/>test_authorization.py:31: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9639b53410&gt;<br/>account = {&#39;kind&#39;: u&#39;agent&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965820000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: No...&#39;: u&#39;1i!rancher_id:472&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96332c8c10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_external_service_event</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def agent_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;agent&#39;).user_client<br/>test_authorization.py:31: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9639b53410&gt;<br/>account = {&#39;kind&#39;: u&#39;agent&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965820000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: No...&#39;: u&#39;1i!rancher_id:472&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96332c8c10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_network</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def agent_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;agent&#39;).user_client<br/>test_authorization.py:31: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9639b53410&gt;<br/>account = {&#39;kind&#39;: u&#39;agent&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965820000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: No...&#39;: u&#39;1i!rancher_id:472&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96332c8c10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_external_host_event</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def agent_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;agent&#39;).user_client<br/>test_authorization.py:31: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9639b53410&gt;<br/>account = {&#39;kind&#39;: u&#39;agent&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499965820000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: No...&#39;: u&#39;1i!rancher_id:472&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96332c8c10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_virtual_machine</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_virtual_machine_disk</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_machine_driver</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_kubernetes_service</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_machine</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_service_log</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_storage_driver_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_network_driver_auth</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96334a5f90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def user_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;user&#39;).user_client<br/>test_authorization.py:7: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9633b62e10&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;7b42648f-2db3-4ef7-a467-0b2b9570e0ec&#39;, &#39;createdTS&#39;: 1499965816000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:468&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9634b61f10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">23.89 s</div>
</em>test_balancer_svc</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">490 ms</div>
</em><em class="status">failed</em>test_validate_balancer_svc_fields</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_balancer_svc.py:17 (test_validate_balancer_svc_fields)<br/>client = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>image_uuid = &#39;random-241960-1499965835&#39;<br/>    def test_validate_balancer_svc_fields(client, image_uuid):<br/>        env = _create_stack(client)<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        svc = client. \<br/>            create_service(name=random_str(),<br/>                           stackId=env.id,<br/>                           launchConfig=launch_config)<br/>    <br/>        svc = client.wait_success(svc)<br/>    <br/>        hostname = &quot;foo&quot;<br/>        path = &quot;bar&quot;<br/>        port = 32<br/>        priority = 10<br/>        service_id = svc.id<br/>        target_port = 42<br/>        backend_name = &quot;myBackend&quot;<br/>        config = &quot;global maxconn 20&quot;<br/>        port_rule = {&quot;hostname&quot;: hostname,<br/>                     &quot;path&quot;: path, &quot;sourcePort&quot;: port, &quot;priority&quot;: priority,<br/>                     &quot;serviceId&quot;: service_id,<br/>                     &quot;targetPort&quot;: target_port,<br/>                     &quot;backendName&quot;: backend_name}<br/>        port_rules = [port_rule]<br/>        cert1 = _create_cert(client)<br/>        cert2 = _create_cert(client)<br/>        policy = {&quot;name&quot;: &quot;policy2&quot;, &quot;cookie&quot;: &quot;cookie1&quot;,<br/>                  &quot;domain&quot;: &quot;.test.com&quot;, &quot;indirect&quot;: &quot;true&quot;,<br/>                  &quot;nocache&quot;: &quot;true&quot;, &quot;postonly&quot;: &quot;true&quot;,<br/>                  &quot;mode&quot;: &quot;insert&quot;}<br/>    <br/>        lb_config = {&quot;portRules&quot;: port_rules, &quot;defaultCertificateId&quot;: cert1.id,<br/>                     &quot;certificateIds&quot;: [cert2.id],<br/>                     &quot;config&quot;: config, &quot;stickinessPolicy&quot;: policy}<br/>    <br/>        # create service<br/>        lb_svc = client. \<br/>            create_loadBalancerService(name=random_str(),<br/>                                       stackId=env.id,<br/>                                       launchConfig=launch_config,<br/>                                       lbConfig=lb_config)<br/>        lb_svc = client.wait_success(lb_svc)<br/>        assert lb_svc.state == &quot;inactive&quot;<br/>        assert lb_svc.launchConfig.healthCheck is not None<br/>&gt;       assert lb_svc.launchConfig.imageUuid == image_uuid<br/>E       assert &#39;docker:rando...60-1499965835&#39; == &#39;random-241960-1499965835&#39;<br/>E         - docker:random-241960-1499965835<br/>E         ? -------<br/>E         + random-241960-1499965835<br/>test_balancer_svc.py:64: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">315 ms</div>
</em><em class="status">passed</em>test_validation_create_balancer</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">401 ms</div>
</em><em class="status">failed</em>test_activate_balancer</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_balancer_svc.py:211 (test_activate_balancer)<br/>client = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>image_uuid = &#39;random-241960-1499965835&#39;<br/>    def test_activate_balancer(client, super_client, image_uuid):<br/>        env = _create_stack(client)<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        svc = client. \<br/>            create_service(name=random_str(),<br/>                           stackId=env.id,<br/>                           launchConfig=launch_config)<br/>    <br/>        svc = client.wait_success(svc)<br/>    <br/>        lb_launch_config = {&quot;ports&quot;: [8289],<br/>                            &quot;imageUuid&quot;: image_uuid}<br/>        hostname = &quot;foo&quot;<br/>        path = &quot;bar&quot;<br/>        port = 32<br/>        priority = 10<br/>        protocol = &quot;http&quot;<br/>        service_id = svc.id<br/>        target_port = 42<br/>        backend_name = &quot;myBackend&quot;<br/>        config = &quot;global maxconn 20&quot;<br/>        port_rule = {&quot;hostname&quot;: hostname,<br/>                     &quot;path&quot;: path, &quot;sourcePort&quot;: port, &quot;priority&quot;: priority,<br/>                     &quot;protocol&quot;: protocol, &quot;serviceId&quot;: service_id,<br/>                     &quot;targetPort&quot;: target_port,<br/>                     &quot;backendName&quot;: backend_name}<br/>        port_rules = [port_rule]<br/>        policy = {&quot;name&quot;: &quot;policy2&quot;, &quot;cookie&quot;: &quot;cookie1&quot;,<br/>                  &quot;domain&quot;: &quot;.test.com&quot;, &quot;indirect&quot;: &quot;true&quot;,<br/>                  &quot;nocache&quot;: &quot;true&quot;, &quot;postonly&quot;: &quot;true&quot;,<br/>                  &quot;mode&quot;: &quot;insert&quot;}<br/>    <br/>        lb_config = {&quot;portRules&quot;: port_rules,<br/>                     &quot;config&quot;: config, &quot;stickinessPolicy&quot;: policy}<br/>    <br/>        # create service<br/>        lb_svc = client. \<br/>            create_loadBalancerService(name=random_str(),<br/>                                       stackId=env.id,<br/>                                       launchConfig=lb_launch_config,<br/>                                       lbConfig=lb_config)<br/>        lb_svc = client.wait_success(lb_svc)<br/>        assert lb_svc.state == &quot;inactive&quot;<br/>        assert lb_svc.launchConfig.healthCheck is not None<br/>        assert lb_svc.launchConfig.ports == [&quot;8289:8289/tcp&quot;]<br/>    <br/>        # activate service<br/>        lb_svc = lb_svc.activate()<br/>&gt;       maps = _wait_until_active_map_count(lb_svc, 1, client)<br/>test_balancer_svc.py:262: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_balancer_svc.py:590: in _wait_until_active_map_count<br/>    wait_for_condition(client, service, wait_for_map_count)<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499965837000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;he...7&#39;, &#39;created&#39;: u&#39;2017-07-13T17:10:37Z&#39;, &#39;revisionId&#39;: u&#39;1r278&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_balancer_svc.py:586: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">204 ms</div>
</em><em class="status">failed</em>test_validate_svc_fields</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_balancer_svc.py:291 (test_validate_svc_fields)<br/>client = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>image_uuid = &#39;random-241960-1499965835&#39;<br/>    def test_validate_svc_fields(client, image_uuid):<br/>        env = _create_stack(client)<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>        hostname = &quot;foo&quot;<br/>        path = &quot;bar&quot;<br/>        target_port = 42<br/>        backend_name = &quot;myBackend&quot;<br/>        port_rule = {&quot;hostname&quot;: hostname,<br/>                     &quot;path&quot;: path,<br/>                     &quot;targetPort&quot;: target_port,<br/>                     &quot;backendName&quot;: backend_name}<br/>        port_rules = [port_rule]<br/>    <br/>        lb_config = {&quot;portRules&quot;: port_rules}<br/>        svc = client. \<br/>            create_service(name=random_str(),<br/>                           stackId=env.id,<br/>                           launchConfig=launch_config,<br/>                           lbConfig=lb_config)<br/>    <br/>        svc = client.wait_success(svc)<br/>    <br/>        assert svc.state == &quot;inactive&quot;<br/>&gt;       assert svc.launchConfig.imageUuid == image_uuid<br/>E       assert &#39;docker:rando...60-1499965835&#39; == &#39;random-241960-1499965835&#39;<br/>E         - docker:random-241960-1499965835<br/>E         ? -------<br/>E         + random-241960-1499965835<br/>test_balancer_svc.py:316: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">877 ms</div>
</em><em class="status">failed</em>test_svc_remove</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_balancer_svc.py:361 (test_svc_remove)<br/>client = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>image_uuid = &#39;random-241960-1499965835&#39;<br/>    def test_svc_remove(client, image_uuid):<br/>        env = _create_stack(client)<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        svc1 = client. \<br/>            create_service(name=random_str(),<br/>                           stackId=env.id,<br/>                           launchConfig=launch_config)<br/>    <br/>        svc1 = client.wait_success(svc1)<br/>    <br/>        svc2 = client. \<br/>            create_service(name=random_str(),<br/>                           stackId=env.id,<br/>                           launchConfig=launch_config)<br/>    <br/>        svc2 = client.wait_success(svc2)<br/>    <br/>        hostname = &quot;foo&quot;<br/>        path = &quot;bar&quot;<br/>        port = 32<br/>        priority = 10<br/>        protocol = &quot;http&quot;<br/>        target_port = 42<br/>        backend_name = &quot;myBackend&quot;<br/>        config = &quot;global maxconn 20&quot;<br/>        port_rule1 = {&quot;hostname&quot;: hostname,<br/>                      &quot;path&quot;: path, &quot;sourcePort&quot;: port, &quot;priority&quot;: priority,<br/>                      &quot;protocol&quot;: protocol, &quot;serviceId&quot;: svc1.id,<br/>                      &quot;targetPort&quot;: target_port,<br/>                      &quot;backendName&quot;: backend_name}<br/>        port_rule2 = {&quot;hostname&quot;: hostname,<br/>                      &quot;path&quot;: path, &quot;sourcePort&quot;: port, &quot;priority&quot;: priority,<br/>                      &quot;protocol&quot;: protocol, &quot;serviceId&quot;: svc2.id,<br/>                      &quot;targetPort&quot;: target_port,<br/>                      &quot;backendName&quot;: backend_name}<br/>        port_rules = [port_rule1, port_rule2]<br/>        lb_config = {&quot;portRules&quot;: port_rules,<br/>                     &quot;config&quot;: config}<br/>    <br/>        # create balancer<br/>        lb_svc = client. \<br/>            create_loadBalancerService(name=random_str(),<br/>                                       stackId=env.id,<br/>                                       launchConfig=launch_config,<br/>                                       lbConfig=lb_config)<br/>        lb_svc = client.wait_success(lb_svc)<br/>        assert lb_svc.state == &quot;inactive&quot;<br/>        assert len(lb_svc.lbConfig.portRules) == 2<br/>    <br/>        # remove one of the services<br/>&gt;       client.wait_success(svc1.remove())<br/>test_balancer_svc.py:414: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>url = &#39;http://localhost:8080/v2/scalinggroups/1s140/?action=remove&#39;, args = ()<br/>kw = {}, retries = 3<br/>last_error = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;efa8969c-85aa-4911-b8f2-4367383d2494&#39;}&quot;)<br/>i = 2<br/>e = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;efa8969c-85aa-4911-b8f2-4367383d2494&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>                    raise e<br/>&gt;       raise last_error<br/>E       ApiError: (ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Conflict&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;efa8969c-85aa-4911-b8f2-4367383d2494&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:388: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.06 s</div>
</em><em class="status">failed</em>test_service_selector</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_balancer_svc.py:423 (test_service_selector)<br/>client = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>image_uuid = &#39;random-241960-1499965835&#39;<br/>    def test_service_selector(client, image_uuid):<br/>        env = _create_stack(client)<br/>    <br/>        labels = {&#39;foo&#39;: &quot;bar&quot;}<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;labels&quot;: labels}<br/>    <br/>        svc = client. \<br/>            create_service(name=random_str(),<br/>                           stackId=env.id,<br/>                           launchConfig=launch_config)<br/>    <br/>        svc = client.wait_success(svc)<br/>    <br/>        lb_launch_config = {&quot;ports&quot;: [8289],<br/>                            &quot;imageUuid&quot;: image_uuid}<br/>        hostname = &quot;foo&quot;<br/>        path = &quot;bar&quot;<br/>        port = 32<br/>        port_rule = {&quot;hostname&quot;: hostname,<br/>                     &quot;path&quot;: path, &quot;sourcePort&quot;: port,<br/>                     &quot;selector&quot;: &quot;foo=bar&quot;}<br/>        port_rules = [port_rule]<br/>    <br/>        lb_config = {&quot;portRules&quot;: port_rules}<br/>    <br/>        # create service<br/>        lb_svc = client. \<br/>            create_loadBalancerService(name=random_str(),<br/>                                       stackId=env.id,<br/>                                       launchConfig=lb_launch_config,<br/>                                       lbConfig=lb_config)<br/>        lb_svc = client.wait_success(lb_svc)<br/>    <br/>        # update service, validate link is done<br/>        port_rule = {&quot;hostname&quot;: hostname,<br/>                     &quot;path&quot;: path, &quot;sourcePort&quot;: port,<br/>                     &quot;selector&quot;: &quot;foo=bar1&quot;}<br/>        port_rules = [port_rule]<br/>    <br/>        lb_config = {&quot;portRules&quot;: port_rules}<br/>        lb_svc = client.update(lb_svc, lbConfig=lb_config)<br/>        lb_svc = client.wait_success(lb_svc)<br/>    <br/>        # update service back, validate link is back<br/>        port_rule = {&quot;hostname&quot;: hostname,<br/>                     &quot;path&quot;: path, &quot;sourcePort&quot;: port,<br/>                     &quot;selector&quot;: &quot;foo=bar&quot;}<br/>        port_rules = [port_rule]<br/>    <br/>        lb_config = {&quot;portRules&quot;: port_rules}<br/>        lb_svc = client.update(lb_svc, lbConfig=lb_config)<br/>        client.wait_success(lb_svc)<br/>    <br/>        # remove service, validate link is gone<br/>&gt;       client.wait_success(svc.remove())<br/>test_balancer_svc.py:478: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>url = &#39;http://localhost:8080/v2/scalinggroups/1s143/?action=remove&#39;, args = ()<br/>kw = {}, retries = 3<br/>last_error = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;506feec1-020a-4b38-8404-8a32dd4b57f0&#39;}&quot;)<br/>i = 2<br/>e = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;506feec1-020a-4b38-8404-8a32dd4b57f0&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>                    raise e<br/>&gt;       raise last_error<br/>E       ApiError: (ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Conflict&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;506feec1-020a-4b38-8404-8a32dd4b57f0&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:388: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">513 ms</div>
</em><em class="status">passed</em>test_validate_export_cross_stack</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">676 ms</div>
</em><em class="status">failed</em>test_lb_noop</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_balancer_svc.py:534 (test_lb_noop)<br/>client = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>image_uuid = &#39;random-241960-1499965835&#39;<br/>    def test_lb_noop(client, image_uuid):<br/>        env = _create_stack(client)<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>        svc1 = client. \<br/>            create_service(name=random_str(),<br/>                           stackId=env.id,<br/>                           launchConfig=launch_config)<br/>    <br/>        svc1 = client.wait_success(svc1)<br/>    <br/>        hostname = &quot;foo&quot;<br/>        path = &quot;bar&quot;<br/>        port = 32<br/>        priority = 10<br/>        protocol = &quot;http&quot;<br/>        target_port = 42<br/>        backend_name = &quot;myBackend&quot;<br/>        config = &quot;global maxconn 20&quot;<br/>        port_rule1 = {&quot;hostname&quot;: hostname,<br/>                      &quot;path&quot;: path, &quot;sourcePort&quot;: port, &quot;priority&quot;: priority,<br/>                      &quot;protocol&quot;: protocol, &quot;serviceId&quot;: svc1.id,<br/>                      &quot;targetPort&quot;: target_port,<br/>                      &quot;backendName&quot;: backend_name}<br/>        port_rules = [port_rule1]<br/>        lb_config = {&quot;portRules&quot;: port_rules,<br/>                     &quot;config&quot;: config}<br/>    <br/>        # create balancer<br/>        launch_config = {&quot;imageUuid&quot;: &quot;rancher/none&quot;}<br/>        lb_svc = client. \<br/>            create_loadBalancerService(name=random_str(),<br/>                                       stackId=env.id,<br/>                                       launchConfig=launch_config,<br/>                                       lbConfig=lb_config)<br/>        lb_svc = client.wait_success(lb_svc)<br/>        assert lb_svc.state == &quot;inactive&quot;<br/>        assert len(lb_svc.lbConfig.portRules) == 1<br/>    <br/>        client.wait_success(lb_svc.activate())<br/>        # no instances should be created<br/>&gt;       _wait_until_active_map_count(lb_svc, 0, client)<br/>test_balancer_svc.py:576: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_balancer_svc.py:590: in _wait_until_active_map_count<br/>    wait_for_condition(client, service, wait_for_map_count)<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499965840000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;he...0&#39;, &#39;created&#39;: u&#39;2017-07-13T17:10:40Z&#39;, &#39;revisionId&#39;: u&#39;1r290&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_balancer_svc.py:586: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.44 s</div>
</em><em class="status">failed</em>test_standalone_container</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_balancer_svc.py:602 (test_standalone_container)<br/>client = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>image_uuid = &#39;random-241960-1499965835&#39;<br/>    def test_standalone_container(client, image_uuid):<br/>        c1 = client.create_container(name=random_str(), imageUuid=image_uuid)<br/>    <br/>        env = _create_stack(client)<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>        hostname = &quot;foo&quot;<br/>        path = &quot;bar&quot;<br/>        port = 32<br/>        priority = 10<br/>        protocol = &quot;http&quot;<br/>        target_port = 42<br/>        backend_name = &quot;myBackend&quot;<br/>        config = &quot;global maxconn 20&quot;<br/>        port_rule1 = {&quot;hostname&quot;: hostname,<br/>                      &quot;path&quot;: path, &quot;sourcePort&quot;: port, &quot;priority&quot;: priority,<br/>                      &quot;protocol&quot;: protocol, &quot;instanceId&quot;: c1.id,<br/>                      &quot;targetPort&quot;: target_port,<br/>                      &quot;backendName&quot;: backend_name}<br/>        port_rules = [port_rule1]<br/>        lb_config = {&quot;portRules&quot;: port_rules,<br/>                     &quot;config&quot;: config}<br/>    <br/>        # create balancer<br/>        lb_svc = client. \<br/>            create_loadBalancerService(name=random_str(),<br/>                                       stackId=env.id,<br/>                                       launchConfig=launch_config,<br/>                                       lbConfig=lb_config)<br/>        lb_svc = client.wait_success(lb_svc)<br/>        assert lb_svc.state == &quot;inactive&quot;<br/>        assert len(lb_svc.lbConfig.portRules) == 1<br/>        assert lb_svc.lbConfig.portRules[0].instanceId == c1.id<br/>    <br/>        # remove container<br/>        c1 = client.wait_success(c1.stop())<br/>        assert c1.state == &#39;stopped&#39;<br/>        client.wait_success(c1.remove())<br/>    <br/>        def wait_for_port_count(service):<br/>            lb = client. \<br/>                reload(lb_svc)<br/>            return len(lb.lbConfig.portRules) == 0<br/>    <br/>&gt;       wait_for(lambda: wait_for_condition(client, lb_svc, wait_for_port_count))<br/>test_balancer_svc.py:646: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_balancer_svc.py:646: in &lt;lambda&gt;<br/>    wait_for(lambda: wait_for_condition(client, lb_svc, wait_for_port_count))<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>resource = {&#39;createdTS&#39;: 1499965841000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;he...841&#39;, &#39;created&#39;: u&#39;2017-07-13T17:10:41Z&#39;, &#39;revisionId&#39;: u&#39;1r292&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;instanceIds&#39;: []}<br/>check_function = &lt;function wait_for_port_count at 0x7f96301ec1b8&gt;<br/>fail_handler = None, timeout = 15<br/>    def wait_for_condition(client, resource, check_function, fail_handler=None,<br/>                           timeout=DEFAULT_TIMEOUT):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        resource = client.reload(resource)<br/>        while not check_function(resource):<br/>            if time.time() - start &gt; timeout:<br/>                exceptionMsg = &#39;Timeout waiting for &#39; + resource.kind + \<br/>                    &#39; to satisfy condition: &#39; + \<br/>                    inspect.getsource(check_function)<br/>                if (fail_handler):<br/>                    exceptionMsg = exceptionMsg + fail_handler(resource)<br/>&gt;               raise Exception(exceptionMsg)<br/>E               Exception: Timeout waiting for loadBalancerService to satisfy condition:     def wait_for_port_count(service):<br/>E                       lb = client. \<br/>E                           reload(lb_svc)<br/>E                       return len(lb.lbConfig.portRules) == 0<br/>common_fixtures.py:429: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">531 ms</div>
</em><em class="status">failed</em>test_lb_service_add_instance_selector</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_balancer_svc.py:734 (test_lb_service_add_instance_selector)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>client = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f96304f5150&gt;<br/>    def test_lb_service_add_instance_selector(super_client, client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>    <br/>        # use case #1 - instance having selector&#39;s label,<br/>        # is present when service with selector is created<br/>        labels = {&#39;foo32&#39;: &quot;bar&quot;}<br/>        container1 = client.create_container(imageUuid=image_uuid,<br/>                                             startOnCreate=True,<br/>                                             labels=labels)<br/>        container1 = client.wait_success(container1)<br/>        assert container1.state == &quot;running&quot;<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: &quot;rancher/none&quot;}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>&gt;                                   selectorContainer=&quot;foo32=bar&quot;)<br/>test_balancer_svc.py:753: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>text = &#39;{&quot;id&quot;:&quot;35532a6b-0505-4372-8715-333018a344b5&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:422,&quot;code&quot;:&quot;InvalidOption&quot;,&quot;message&quot;:null,&quot;detail&quot;:null,&quot;fieldName&quot;:&quot;Image is required when selector is not passed in&quot;,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;InvalidOption : None\n{&#39;status&#39;: 422, &#39;code&#39;: u&#39;InvalidOption&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;fieldName&#39;: u&#39;Image is required when selector is not passed in&#39;, &#39;message&#39;: None, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;35532a6b-0505-4372-8715-333018a344b5&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">264 ms</div>
</em><em class="status">failed</em>test_lb_svc_ports_update</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_balancer_svc.py:799 (test_lb_svc_ports_update)<br/>client = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f96304f5150&gt;<br/>    def test_lb_svc_ports_update(client, super_client, context):<br/>        env = _create_stack(client)<br/>        image_uuid = context.image_uuid<br/>        lb_config = {}<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;ports&quot;: [&#39;8683:8683&#39;]}<br/>        lb_svc = client. \<br/>            create_loadBalancerService(name=random_str(),<br/>                                       stackId=env.id,<br/>                                       launchConfig=launch_config,<br/>                                       lbConfig=lb_config)<br/>        lb_svc = client.wait_success(lb_svc)<br/>        assert lb_svc.state == &quot;inactive&quot;<br/>    <br/>        # activate service<br/>        lb_svc = lb_svc.activate()<br/>&gt;       maps = _wait_until_active_map_count(lb_svc, 1, client)<br/>test_balancer_svc.py:815: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_balancer_svc.py:590: in _wait_until_active_map_count<br/>    wait_for_condition(client, service, wait_for_map_count)<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499965858000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;he...8&#39;, &#39;created&#39;: u&#39;2017-07-13T17:10:58Z&#39;, &#39;revisionId&#39;: u&#39;1r294&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_balancer_svc.py:586: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">2.12 s</div>
</em><em class="status">failed</em>test_svc_update_readd_rule</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_balancer_svc.py:844 (test_svc_update_readd_rule)<br/>client = &lt;cattle.Client object at 0x7f963137b550&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>image_uuid = &#39;random-241960-1499965835&#39;<br/>    def test_svc_update_readd_rule(client, super_client, image_uuid):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>        svc1 = client. \<br/>            create_service(name=random_str(),<br/>                           stackId=env.id,<br/>                           launchConfig=launch_config)<br/>    <br/>        svc1 = client.wait_success(svc1)<br/>    <br/>        svc1 = client.wait_success(svc1.activate())<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;ports&quot;: [&quot;45677:45677&quot;]}<br/>        hostname = &quot;foo&quot;<br/>        path = &quot;bar&quot;<br/>        port = 32<br/>        priority = 10<br/>        protocol = &quot;http&quot;<br/>        target_port = 42<br/>        backend_name = &quot;myBackend&quot;<br/>        config = &quot;global maxconn 20&quot;<br/>        port_rule1 = {&quot;hostname&quot;: hostname,<br/>                      &quot;path&quot;: path, &quot;sourcePort&quot;: port, &quot;priority&quot;: priority,<br/>                      &quot;protocol&quot;: protocol, &quot;serviceId&quot;: svc1.id,<br/>                      &quot;targetPort&quot;: target_port,<br/>                      &quot;backendName&quot;: backend_name}<br/>        port_rules = [port_rule1]<br/>        lb_config = {&quot;portRules&quot;: port_rules,<br/>                     &quot;config&quot;: config}<br/>    <br/>        # create balancer<br/>        lb_svc = client. \<br/>            create_loadBalancerService(name=random_str(),<br/>                                       stackId=env.id,<br/>                                       launchConfig=launch_config,<br/>                                       lbConfig=lb_config)<br/>        lb_svc = client.wait_success(lb_svc)<br/>        assert lb_svc.state == &quot;inactive&quot;<br/>        assert len(lb_svc.lbConfig.portRules) == 1<br/>    <br/>        lb_svc = lb_svc.activate()<br/>&gt;       maps = _wait_until_active_map_count(lb_svc, 1, client)<br/>test_balancer_svc.py:888: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_balancer_svc.py:590: in _wait_until_active_map_count<br/>    wait_for_condition(client, service, wait_for_map_count)<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499965860000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;he...0&#39;, &#39;created&#39;: u&#39;2017-07-13T17:11:00Z&#39;, &#39;revisionId&#39;: u&#39;1r296&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_balancer_svc.py:586: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">827 ms</div>
</em>test_cert</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">98 ms</div>
</em><em class="status">passed</em>test_create_cert_basic</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">223 ms</div>
</em><em class="status">passed</em>test_dup_names</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">42 ms</div>
</em><em class="status">passed</em>test_create_cert_invalid_cert</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">126 ms</div>
</em><em class="status">passed</em>test_create_cert_chain</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">338 ms</div>
</em><em class="status">passed</em>test_update_cert</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">49.29 s</div>
</em>test_container</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">815 ms</div>
</em><em class="status">passed</em>test_container_create_count</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">497 ms</div>
</em><em class="status">passed</em>test_conatiner_simple_start</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">530 ms</div>
</em><em class="status">passed</em>test_container_build</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">96 ms</div>
</em><em class="status">failed</em>test_container_create_only</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:40 (test_container_create_only)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>client = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_create_only(super_client, client, context):<br/>        uuid = &quot;{}&quot;.format(random_num())<br/>        container = super_client.create_container(accountId=context.project.id,<br/>                                                  imageUuid=uuid,<br/>                                                  name=&quot;test&quot; + random_str(),<br/>                                                  startOnCreate=False)<br/>    <br/>        assert_fields(container, {<br/>            &quot;type&quot;: &quot;container&quot;,<br/>            &quot;allocationState&quot;: &quot;inactive&quot;,<br/>            &quot;state&quot;: &quot;creating&quot;,<br/>            &quot;imageUuid&quot;: uuid,<br/>&gt;           &quot;firstRunning&quot;: None,<br/>        })<br/>test_container.py:53: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>obj = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: None, &#39;removeTime&#39;: None, &#39;cpuShares&#39;: None,...rviceIds&#39;: None, &#39;deploymentUnitUuid&#39;: u&#39;0feee9a5-8c4e-4fa6-8c80-641b96862b64&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: None}<br/>fields = {&#39;allocationState&#39;: &#39;inactive&#39;, &#39;firstRunning&#39;: None, &#39;imageUuid&#39;: &#39;806294&#39;, &#39;state&#39;: &#39;creating&#39;, ...}<br/>    def assert_fields(obj, fields):<br/>        assert obj is not None<br/>        for k, v in fields.items():<br/>&gt;           assert k in obj<br/>E           assert &#39;allocationState&#39; in {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: None, &#39;removeTime&#39;: None, &#39;cpuShares&#39;: None,...rviceIds&#39;: None, &#39;deploymentUnitUuid&#39;: u&#39;0feee9a5-8c4e-4fa6-8c80-641b96862b64&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: None}<br/>common_fixtures.py:440: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">273 ms</div>
</em><em class="status">failed</em>test_container_special_labels</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:91 (test_container_special_labels)<br/>client = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_special_labels(client, context):<br/>        uuid = &quot;{}&quot;.format(random_num())<br/>        labels = {<br/>            &#39;io.rancher.container.display_name&#39;: &#39;from-label&#39;,<br/>            &#39;io.rancher.container.network&#39;: &#39;true&#39;,<br/>        }<br/>        container = client.create_container(accountId=context.project.id,<br/>                                            networkMode=&#39;none&#39;,<br/>                                            imageUuid=uuid,<br/>                                            name=&quot;test&quot; + random_str(),<br/>                                            labels=labels,<br/>                                            startOnCreate=False)<br/>        container = client.wait_success(container)<br/>    <br/>        assert container.state == &#39;stopped&#39;<br/>        assert container.name == &#39;from-label&#39;<br/>&gt;       assert container.networkMode == &#39;managed&#39;<br/>E       assert &#39;none&#39; == &#39;managed&#39;<br/>E         - none<br/>E         + managed<br/>test_container.py:108: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">524 ms</div>
</em><em class="status">failed</em>test_container_create_then_start</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:110 (test_container_create_then_start)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>client = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_create_then_start(super_client, client, context):<br/>        container = client.create_container(startOnCreate=False,<br/>                                            imageUuid=context.image_uuid)<br/>        container = client.wait_success(container)<br/>        container = container.start()<br/>    <br/>        assert container.state == &quot;starting&quot;<br/>        assert &#39;start&#39; not in container<br/>        assert &#39;stop&#39; in container<br/>        assert &#39;remove&#39; not in container<br/>    <br/>&gt;       _assert_running(super_client.wait_success(container))<br/>test_container.py:122: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container.py:81: in _assert_running<br/>    &quot;firstRunning&quot;: NOT_NONE<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>obj = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...669-12b5-4e3e-b663-f1c910c2b2f0&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>fields = {&#39;allocationState&#39;: &#39;active&#39;, &#39;firstRunning&#39;: &lt;object object at 0x7f964495ca20&gt;, &#39;hostId&#39;: &lt;object object at 0x7f964495ca20&gt;, &#39;startCount&#39;: &lt;object object at 0x7f964495ca20&gt;, ...}<br/>    def assert_fields(obj, fields):<br/>        assert obj is not None<br/>        for k, v in fields.items():<br/>            assert k in obj<br/>            if v is None:<br/>                assert obj[k] is None<br/>            elif v is NOT_NONE:<br/>&gt;               assert obj[k] is not None<br/>E               assert None is not None<br/>common_fixtures.py:444: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">445 ms</div>
</em><em class="status">failed</em>test_container_first_running</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:124 (test_container_first_running)<br/>client = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_first_running(client, context):<br/>        c = client.create_container(imageUuid=context.image_uuid,<br/>                                    startOnCreate=False)<br/>        c = client.wait_success(c)<br/>    <br/>        assert c.state == &#39;stopped&#39;<br/>        assert c.firstRunning is None<br/>    <br/>        c = client.wait_success(c.start())<br/>        assert c.state == &#39;running&#39;<br/>&gt;       assert c.firstRunning is not None<br/>E       assert None is not None<br/>E        +  where None = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...373-0886-447f-9f6b-b7c75369b66d&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}.firstRunning<br/>test_container.py:135: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">2.81 s</div>
</em><em class="status">failed</em>test_container_no_net</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:143 (test_container_no_net)<br/>client = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_no_net(client, context):<br/>        with pytest.raises(ClientApiError) as e:<br/>            context.create_container(networkMode=&#39;foo&#39;)<br/>&gt;       assert e.value.message == &#39;Failed to find network for networkMode foo&#39;<br/>E       assert &#39;Failed to fi...tworkMode foo&#39; == &#39;Failed to fin...tworkMode foo&#39;<br/>E         - Failed to find network for networkMode foo : Failed to find network for networkMode foo<br/>E         + Failed to find network for networkMode foo<br/>test_container.py:147: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">461 ms</div>
</em><em class="status">failed</em>test_container_restart</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:149 (test_container_restart)<br/>client = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_restart(client, super_client, context):<br/>        container = context.create_container()<br/>    <br/>&gt;       _assert_running(super_client.reload(container))<br/>test_container.py:153: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container.py:81: in _assert_running<br/>    &quot;firstRunning&quot;: NOT_NONE<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>obj = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...b7c-56bc-44a7-832c-7e6b1932b0bf&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>fields = {&#39;allocationState&#39;: &#39;active&#39;, &#39;firstRunning&#39;: &lt;object object at 0x7f964495ca20&gt;, &#39;hostId&#39;: &lt;object object at 0x7f964495ca20&gt;, &#39;startCount&#39;: &lt;object object at 0x7f964495ca20&gt;, ...}<br/>    def assert_fields(obj, fields):<br/>        assert obj is not None<br/>        for k, v in fields.items():<br/>            assert k in obj<br/>            if v is None:<br/>                assert obj[k] is None<br/>            elif v is NOT_NONE:<br/>&gt;               assert obj[k] is not None<br/>E               assert None is not None<br/>common_fixtures.py:444: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">633 ms</div>
</em><em class="status">failed</em>test_container_stop</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:167 (test_container_stop)<br/>client = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_stop(client, super_client, context):<br/>        container = context.create_container(name=&quot;test&quot; + random_str())<br/>        container = client.wait_success(container)<br/>    <br/>        assert_fields(container, {<br/>            &quot;state&quot;: &quot;running&quot;<br/>        })<br/>    <br/>        container = container.stop()<br/>    <br/>        assert_fields(container, {<br/>            &quot;state&quot;: &quot;stopping&quot;<br/>        })<br/>    <br/>        container = client.wait_success(container)<br/>    <br/>        assert_fields(super_client.reload(container), {<br/>            &quot;allocationState&quot;: &quot;active&quot;,<br/>&gt;           &quot;state&quot;: &quot;stopped&quot;<br/>        })<br/>test_container.py:186: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>obj = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...8e7-f48f-4f2d-b41e-341e68757465&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>fields = {&#39;allocationState&#39;: &#39;active&#39;, &#39;state&#39;: &#39;stopped&#39;}<br/>    def assert_fields(obj, fields):<br/>        assert obj is not None<br/>        for k, v in fields.items():<br/>            assert k in obj<br/>            if v is None:<br/>                assert obj[k] is None<br/>            elif v is NOT_NONE:<br/>                assert obj[k] is not None<br/>            else:<br/>&gt;               assert obj[k] == v<br/>E               assert &#39;starting&#39; == &#39;stopped&#39;<br/>E                 - starting<br/>E                 + stopped<br/>common_fixtures.py:446: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">501 ms</div>
</em><em class="status">passed</em>test_container_name_unique</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">112 ms</div>
</em><em class="status">passed</em>test_container_name_unique_count</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">827 ms</div>
</em><em class="status">passed</em>test_container_remove</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">774 ms</div>
</em><em class="status">passed</em>test_container_delete_while_running</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">726 ms</div>
</em><em class="status">failed</em>test_container_purge</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:254 (test_container_purge)<br/>client = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_purge(client, super_client, context):<br/>        container = test_container_remove(client, super_client, context)<br/>    <br/>        assert container.state == &quot;removed&quot;<br/>        assert container.removed is not None<br/>    <br/>&gt;       instance_host_mappings = super_client.reload(container).instanceHostMaps()<br/>test_container.py:261: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...a49-012f-4a31-bd39-e1afc9f7ad93&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;instanceHostMaps&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;instanceHostMaps&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">939 ms</div>
</em><em class="status">failed</em>test_start_stop</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:264 (test_start_stop)<br/>client = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_start_stop(client, context):<br/>        container = context.create_container(name=&quot;test&quot; + random_str())<br/>    <br/>        container = client.wait_success(container)<br/>    <br/>        for _ in range(5):<br/>            assert container.state == &#39;running&#39;<br/>            container = client.wait_success(container.stop())<br/>&gt;           assert container.state == &#39;stopped&#39;<br/>E           assert &#39;running&#39; == &#39;stopped&#39;<br/>E             - running<br/>E             + stopped<br/>test_container.py:273: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">34 ms</div>
</em><em class="status">failed</em>test_container_image_required</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:277 (test_container_image_required)<br/>client = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>    def test_container_image_required(client):<br/>        try:<br/>            client.create_container()<br/>            assert False<br/>        except ApiError as e:<br/>            assert e.error.status == 422<br/>            assert e.error.code == &#39;MissingRequired&#39;<br/>&gt;           assert e.error.fieldName == &#39;imageUuid&#39;<br/>E           assert &#39;image&#39; == &#39;imageUuid&#39;<br/>E             - image<br/>E             + imageUuid<br/>test_container.py:285: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">441 ms</div>
</em><em class="status">failed</em>test_container_compute_fail</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:287 (test_container_compute_fail)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_compute_fail(super_client, context):<br/>        data = {<br/>            &#39;compute.instance.activate::fail&#39;: True,<br/>            &#39;io.cattle.platform.process.instance.InstanceStart&#39;: {<br/>                &#39;computeTries&#39;: 1<br/>            }<br/>        }<br/>    <br/>        container = context.super_create_container_no_success(data=data)<br/>    <br/>&gt;       assert container.transitioning == &#39;error&#39;<br/>E       assert &#39;no&#39; == &#39;error&#39;<br/>E         - no<br/>E         + error<br/>test_container.py:298: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">passed</em>test_container_restart_policy</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">580 ms</div>
</em><em class="status">passed</em>test_container_exec_on_stop</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">526 ms</div>
</em><em class="status">failed</em>test_container_exec</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:324 (test_container_exec)<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_exec(context):<br/>        c = context.create_container()<br/>    <br/>        assert callable(c.execute)<br/>    <br/>&gt;       resp = c.execute(command=[&#39;/bin/sh&#39;])<br/>test_container.py:330: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>url = &#39;http://localhost:8080/v2/containers/1i4329/?action=execute&#39;, args = ()<br/>kw = {&#39;command&#39;: [&#39;/bin/sh&#39;]}, retries = 3, last_error = None, i = 0<br/>e = ApiError(ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;stat...rver Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;15d39746-d352-41a7-b3de-1cac22a3b227&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>&gt;                   raise e<br/>E                   ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;15d39746-d352-41a7-b3de-1cac22a3b227&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:387: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">611 ms</div>
</em><em class="status">failed</em>test_container_logs</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:359 (test_container_logs)<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_logs(context):<br/>        c = context.create_container()<br/>    <br/>        assert callable(c.logs)<br/>    <br/>&gt;       resp = c.logs(follow=True, lines=300)<br/>test_container.py:365: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>url = &#39;http://localhost:8080/v2/containers/1i4330/?action=logs&#39;, args = ()<br/>kw = {&#39;follow&#39;: True, &#39;lines&#39;: 300}, retries = 3, last_error = None, i = 0<br/>e = ApiError(ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;stat...rver Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;31363df3-33ee-48bb-bd7a-6604c5dec854&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>&gt;                   raise e<br/>E                   ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;31363df3-33ee-48bb-bd7a-6604c5dec854&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:387: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">439 ms</div>
</em><em class="status">passed</em>test_container_labels</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">505 ms</div>
</em><em class="status">failed</em>test_container_request_ip</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:410 (test_container_request_ip)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>client = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_request_ip(super_client, client, context):<br/>        for i in range(2):<br/>            # Doing this twice essentially ensure that the IP gets freed the first<br/>            # time<br/>            container = client.create_container(imageUuid=context.image_uuid,<br/>                                                startOnCreate=False)<br/>            container = super_client.wait_success(container)<br/>            assert container.state == &#39;stopped&#39;<br/>            container.data.fields[&#39;requestedIpAddress&#39;] = &#39;10.42.33.33&#39;<br/>    <br/>            container = super_client.update(container, data=container.data)<br/>            container = super_client.wait_success(container.start())<br/>    <br/>&gt;           assert container.primaryIpAddress == &#39;10.42.33.33&#39;<br/>E           assert &#39;10.42.238.129&#39; == &#39;10.42.33.33&#39;<br/>E             - 10.42.238.129<br/>E             + 10.42.33.33<br/>test_container.py:424: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.83 s</div>
</em><em class="status">failed</em>test_container_long_labels</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:444 (test_container_long_labels)<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>client = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>    def test_container_long_labels(context, client):<br/>        key = &#39;k&#39; * 1025<br/>        value = &#39;k&#39; * 4097<br/>&gt;       c = context.create_container(networkMode=None, labels={key: value})<br/>test_container.py:448: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:112: in create_container<br/>    c = self.create_container_no_success(*args, **kw)<br/>common_fixtures.py:124: in create_container_no_success<br/>    return self._create_container(self.client, *args, **kw)<br/>common_fixtures.py:131: in _create_container<br/>    return self.client.wait_transitioning(c)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>obj = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk...rviceIds&#39;: None, &#39;deploymentUnitUuid&#39;: u&#39;f1d2650c-bf70-47f1-ac00-88142049925b&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: None}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [container:1i4334] to be done after 16.7442700863 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.79 s</div>
</em><em class="status">failed</em>test_container_network_modes</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:452 (test_container_network_modes)<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_container_network_modes(context, super_client):<br/>&gt;       c = context.create_container(networkMode=None)<br/>test_container.py:454: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:112: in create_container<br/>    c = self.create_container_no_success(*args, **kw)<br/>common_fixtures.py:124: in create_container_no_success<br/>    return self._create_container(self.client, *args, **kw)<br/>common_fixtures.py:131: in _create_container<br/>    return self.client.wait_transitioning(c)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>obj = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: None, &#39;cpuShares&#39;: None, &#39;blkioDeviceOptions...rviceIds&#39;: None, &#39;deploymentUnitUuid&#39;: u&#39;925ac293-937a-4c49-8efa-f0d1543c1be2&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: None}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [container:1i4342] to be done after 16.7289831638 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">566 ms</div>
</em><em class="status">failed</em>test_container_resource_actions_json_state</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:479 (test_container_resource_actions_json_state)<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>    def test_container_resource_actions_json_state(context):<br/>        c = context.create_container(startOnCreate=True)<br/>        c.stop()<br/>&gt;       c.logs()<br/>test_container.py:483: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f962d422550&gt;<br/>url = &#39;http://localhost:8080/v2/containers/1i4350/?action=logs&#39;, args = ()<br/>kw = {}, retries = 3, last_error = None, i = 0<br/>e = ApiError(ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;stat...rver Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;509cf5c4-237a-4116-a218-017dc6f4e976&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>&gt;                   raise e<br/>E                   ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;509cf5c4-237a-4116-a218-017dc6f4e976&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:387: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">482 ms</div>
</em><em class="status">failed</em>test_container_network_host_mode_w_dsn</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:490 (test_container_network_host_mode_w_dsn)<br/>context = &lt;core.common_fixtures.Context object at 0x7f962c507510&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_container_network_host_mode_w_dsn(context, super_client):<br/>        labels = {&#39;io.rancher.container.dns&#39;: &quot;true&quot;}<br/>        c = context.create_container(networkMode=&#39;host&#39;, labels=labels)<br/>        c = super_client.wait_success(c)<br/>        assert c.state == &#39;running&#39;<br/>&gt;       assert len(c.nics()) == 1<br/>test_container.py:496: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: u&#39;Docker Host Net...rviceIds&#39;: None, &#39;deploymentUnitUuid&#39;: u&#39;48c98bf1-c687-488a-b805-f018d6da03b0&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: None}<br/>k = &#39;nics&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;nics&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">518 ms</div>
</em><em class="status">failed</em>test_container_request_ip_from_label</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container.py:499 (test_container_request_ip_from_label)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f962c1b6410&gt;<br/>    def test_container_request_ip_from_label(new_context):<br/>        client = new_context.client<br/>        labels = {<br/>            &#39;io.rancher.container.requested_ip&#39;: &#39;10.42.42.42&#39;<br/>        }<br/>    <br/>        c = new_context.create_container(labels=labels)<br/>&gt;       assert c.primaryIpAddress == &#39;10.42.42.42&#39;<br/>E       assert &#39;10.42.131.241&#39; == &#39;10.42.42.42&#39;<br/>E         - 10.42.131.241<br/>E         + 10.42.42.42<br/>test_container.py:507: AssertionError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">2.34 s</div>
</em>test_container_event</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_event_create</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:43 (test_container_event_create)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_container_event_create(client, host, agent_cli, user_id):<br/>        # Submitting a &#39;start&#39; containerEvent should result in a container<br/>        # being created.<br/>        external_id = random_str()<br/>    <br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id)<br/>test_container_event.py:50: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-204187-1499965939&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;Name&#39;: &#39;name-random-204187-1499965939&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_volume_cleanup_strategy_label</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:54 (test_volume_cleanup_strategy_label)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_volume_cleanup_strategy_label(client, host, agent_cli, user_id):<br/>        external_id = random_str()<br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id)<br/>test_container_event.py:58: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-971816-1499965939&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;Name&#39;: &#39;name-random-971816-1499965939&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_event_start_stop</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:68 (test_container_event_start_stop)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_container_event_start_stop(client, host, agent_cli, user_id):<br/>        # Submitting a &#39;stop&#39; or &#39;die&#39; containerEvent should result in a<br/>        # container resource being stopped.<br/>        external_id = random_str()<br/>    <br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id)<br/>test_container_event.py:75: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-992151-1499965939&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;Name&#39;: &#39;name-random-992151-1499965939&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_event_start</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:100 (test_container_event_start)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_container_event_start(client, host, agent_cli, user_id):<br/>        # Submitting a &#39;start&#39; containerEvent should result in a container<br/>        # being started.<br/>        external_id = random_str()<br/>    <br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id)<br/>test_container_event.py:107: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-787405-1499965939&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;Name&#39;: &#39;name-random-787405-1499965939&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_event_remove_start</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:117 (test_container_event_remove_start)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_container_event_remove_start(client, host, agent_cli, user_id):<br/>        # If a container is removed and then an event comes in for the container,<br/>        # the event should be ignored.<br/>        external_id = random_str()<br/>    <br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id)<br/>test_container_event.py:124: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-736854-1499965939&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;Name&#39;: &#39;name-random-736854-1499965939&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_event_destroy</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:139 (test_container_event_destroy)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_container_event_destroy(client, host, agent_cli, user_id):<br/>        # Submitting a &#39;destroy&#39; containerEvent should result in a container<br/>        # being removed.<br/>        external_id = random_str()<br/>    <br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id)<br/>test_container_event.py:146: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-147142-1499965939&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;Name&#39;: &#39;name-random-147142-1499965939&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">158 ms</div>
</em><em class="status">failed</em>test_rancher_container_events</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:159 (test_rancher_container_events)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962ac6de10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_rancher_container_events(client, context, host, agent_cli, user_id):<br/>        # A &quot;normal&quot; container (one created in Rancher) should also respond to<br/>        # non-rancher container events<br/>        container = context.create_container(name=random_str(),<br/>                                             startOnCreate=False)<br/>        assert container.state == &#39;stopped&#39;<br/>    <br/>        inspect = new_inspect(random_str())<br/>        inspect[&#39;Config&#39;][&#39;Labels&#39;] = {&#39;io.rancher.container.uuid&#39;: container.uuid}<br/>    <br/>        # pass random external id to prove look up by rancher uuid works<br/>        rand = random_str()<br/>&gt;       create_event(host, rand, agent_cli, client, user_id, &#39;start&#39;, inspect)<br/>test_container_event.py:172: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-396931-1499965939&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;, &#39;Labels&#39;: {&#39;io.rancher.container.uuid&#39;: &#39;588bc5d9-59c9-4f3f-a4c3-68758ae574ca&#39;}}, &#39;Name&#39;: &#39;name-random-277745-1499965939&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.81 s</div>
</em><em class="status">failed</em>test_bad_agent</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:187 (test_bad_agent)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f96286345d0&gt;<br/>    def test_bad_agent(super_client, new_context):<br/>        host, account, agent_client = register_simulated_host(new_context,<br/>                                                              return_agent=True)<br/>        host = super_client.reload(host)<br/>    <br/>        def post():<br/>            agent_client.create_container_event(<br/>                reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>                externalId=random_str(),<br/>                externalFrom=&#39;busybox:latest&#39;,<br/>                externalTimestamp=int(time.time()),<br/>                externalStatus=&#39;start&#39;)<br/>    <br/>        # Test it works<br/>&gt;       post()<br/>test_container_event.py:202: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>    def post():<br/>        agent_client.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=random_str(),<br/>            externalFrom=&#39;busybox:latest&#39;,<br/>            externalTimestamp=int(time.time()),<br/>            externalStatus=&#39;start&#39;)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:195: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_bad_host</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:219 (test_bad_host)<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9626006050&gt;<br/>    def test_bad_host(host, new_context):<br/>        # If a host doesn&#39;t belong to agent submitting the event, the request<br/>        # should fail.<br/>        agent_cli = new_context.agent_client<br/>    <br/>        with pytest.raises(ApiError) as e:<br/>            agent_cli.create_container_event(<br/>&gt;               reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>                externalId=random_str(),<br/>                externalFrom=&#39;busybox:latest&#39;,<br/>                externalTimestamp=int(time.time()),<br/>                externalStatus=&#39;start&#39;)<br/>E           KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:227: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_event_null_inspect</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:234 (test_container_event_null_inspect)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_container_event_null_inspect(client, host, agent_cli, user_id):<br/>        # Assert that the inspect can be null.<br/>        external_id = random_str()<br/>    <br/>        create_event(host, external_id, agent_cli, client, user_id,<br/>&gt;                    &#39;start&#39;, None)<br/>test_container_event.py:240: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-535027-1499965952&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;, inspect = None, wait_and_assert = True<br/>image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_requested_ip_address</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:250 (test_requested_ip_address)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_requested_ip_address(super_client, client, host, agent_cli, user_id):<br/>        external_id = random_str()<br/>        inspect = new_inspect(external_id)<br/>        inspect[&#39;NetworkSettings&#39;] = {&#39;IPAddress&#39;: &#39;10.42.0.240&#39;}<br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id, inspect=inspect)<br/>test_container_event.py:256: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-862285-1499965952&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;Name&#39;: &#39;name-random-862285-1499965952&#39;, &#39;NetworkSettings&#39;: {&#39;IPAddress&#39;: &#39;10.42.0.240&#39;}}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_requested_ip_address_with_managed</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:262 (test_requested_ip_address_with_managed)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_requested_ip_address_with_managed(super_client, client, host,<br/>                                               agent_cli, user_id):<br/>        external_id = random_str()<br/>        inspect = new_inspect(external_id)<br/>        inspect[&#39;NetworkSettings&#39;] = {&#39;IPAddress&#39;: &#39;10.42.0.240&#39;}<br/>        inspect[&#39;Config&#39;] = {<br/>            &#39;Labels&#39;: {<br/>                &#39;io.rancher.container.network&#39;: &#39;true&#39;<br/>            }<br/>        }<br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id, inspect=inspect)<br/>test_container_event.py:274: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-912836-1499965952&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Labels&#39;: {&#39;io.rancher.container.network&#39;: &#39;true&#39;}}, &#39;Name&#39;: &#39;name-random-912836-1499965952&#39;, &#39;NetworkSettings&#39;: {&#39;IPAddress&#39;: &#39;10.42.0.240&#39;}}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_event_net_none</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:280 (test_container_event_net_none)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_container_event_net_none(client, host, agent_cli, user_id):<br/>        external_id = random_str()<br/>        inspect = new_inspect(external_id)<br/>        inspect[&#39;Config&#39;][&#39;NetworkDisabled&#39;] = True<br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id, inspect=inspect)<br/>test_container_event.py:286: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-469615-1499965952&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;, &#39;NetworkDisabled&#39;: True}, &#39;Name&#39;: &#39;name-random-469615-1499965952&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_event_net_host</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:289 (test_container_event_net_host)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_container_event_net_host(client, host, agent_cli, user_id):<br/>        external_id = random_str()<br/>        inspect = new_inspect(external_id)<br/>        inspect[&#39;HostConfig&#39;] = {&#39;NetworkMode&#39;: &#39;host&#39;}<br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id, inspect=inspect)<br/>test_container_event.py:295: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-563974-1499965952&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;HostConfig&#39;: {&#39;NetworkMode&#39;: &#39;host&#39;}, &#39;Name&#39;: &#39;name-random-563974-1499965952&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_event_net_bridge</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:298 (test_container_event_net_bridge)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_container_event_net_bridge(client, host, agent_cli, user_id):<br/>        external_id = random_str()<br/>        inspect = new_inspect(external_id)<br/>        inspect[&#39;HostConfig&#39;] = {&#39;NetworkMode&#39;: &#39;bridge&#39;}<br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id, inspect=inspect)<br/>test_container_event.py:304: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-911150-1499965952&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;HostConfig&#39;: {&#39;NetworkMode&#39;: &#39;bridge&#39;}, &#39;Name&#39;: &#39;name-random-911150-1499965952&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_event_net_blank</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:307 (test_container_event_net_blank)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_container_event_net_blank(client, host, agent_cli, user_id):<br/>        external_id = random_str()<br/>        inspect = new_inspect(external_id)<br/>        inspect[&#39;HostConfig&#39;] = {&#39;NetworkMode&#39;: &#39;&#39;}<br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id, inspect=inspect)<br/>test_container_event.py:313: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-764511-1499965952&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;HostConfig&#39;: {&#39;NetworkMode&#39;: &#39;&#39;}, &#39;Name&#39;: &#39;name-random-764511-1499965952&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_event_net_container</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:316 (test_container_event_net_container)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_container_event_net_container(client, host, agent_cli, user_id):<br/>        target_external_id = random_str()<br/>        target = create_native_container(client, host, target_external_id,<br/>&gt;                                        agent_cli, user_id)<br/>test_container_event.py:320: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-846189-1499965952&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;Name&#39;: &#39;name-random-846189-1499965952&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_event_net_container_not_found</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:329 (test_container_event_net_container_not_found)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>    def test_container_event_net_container_not_found(client, host, agent_cli,<br/>                                                     user_id):<br/>        external_id = random_str()<br/>        inspect = new_inspect(external_id)<br/>        inspect[&#39;HostConfig&#39;] = {&#39;NetworkMode&#39;: &#39;container:wont-be-found&#39;}<br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id, inspect=inspect)<br/>test_container_event.py:336: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-897277-1499965952&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;HostConfig&#39;: {&#39;NetworkMode&#39;: &#39;container:wont-be-found&#39;}, &#39;Name&#39;: &#39;name-random-897277-1499965952&#39;}<br/>wait_and_assert = True, image = &#39;busybox:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">372 ms</div>
</em><em class="status">failed</em>test_container_event_image_and_reg_cred</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_event.py:340 (test_container_event_image_and_reg_cred)<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;, user_id = &#39;1a492&#39;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_container_event_image_and_reg_cred(client, host, agent_cli, user_id,<br/>                                                super_client):<br/>        server = &#39;server{0}.io&#39;.format(random_num())<br/>        registry = client.create_registry(serverAddress=server,<br/>                                          name=random_str())<br/>        registry = client.wait_success(registry)<br/>        reg_cred = client.create_registry_credential(<br/>            registryId=registry.id,<br/>            publicValue=&#39;rancher&#39;,<br/>            secretValue=&#39;rancher&#39;)<br/>        registry_credential = client.wait_success(reg_cred)<br/>        name = server + &#39;/rancher/authorized:latest&#39;<br/>        image_uuid = &#39;docker:&#39; + name<br/>        external_id = random_str()<br/>        container = create_native_container(client, host, external_id,<br/>&gt;                                           agent_cli, user_id, image=image_uuid)<br/>test_container_event.py:356: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_container_event.py:369: in create_native_container<br/>    &#39;start&#39;, inspect, image=image)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499965938000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...2-5dc0-4c0e-8607-dfb211963d7f&#39;, &#39;created&#39;: u&#39;2017-07-13T17:12:18Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>external_id = &#39;random-344499-1499965953&#39;<br/>agent_cli = &lt;cattle.Client object at 0x7f9628e7b510&gt;<br/>client = &lt;cattle.Client object at 0x7f962bbdab10&gt;, user_account_id = &#39;1a492&#39;<br/>status = &#39;start&#39;<br/>inspect = {&#39;Config&#39;: {&#39;Image&#39;: &#39;fake/image&#39;}, &#39;Name&#39;: &#39;name-random-344499-1499965953&#39;}<br/>wait_and_assert = True<br/>image = &#39;docker:server307728.io/rancher/authorized:latest&#39;<br/>    def create_event(host, external_id, agent_cli, client, user_account_id, status,<br/>                     inspect=None, wait_and_assert=True,<br/>                     image=None):<br/>        timestamp = int(time.time())<br/>        if (image is None):<br/>            image = &#39;busybox:latest&#39;<br/>        event = agent_cli.create_container_event(<br/>&gt;           reportedHostUuid=host.data.fields[&#39;reportedUuid&#39;],<br/>            externalId=external_id,<br/>            externalFrom=image,<br/>            externalTimestamp=timestamp,<br/>            externalStatus=status,<br/>            dockerInspect=inspect)<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_container_event.py:388: KeyError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">9 ms</div>
</em>test_container_logs</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">9 ms</div>
</em><em class="status">failed</em>test_logs_container</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">1.96 s</div>
</em>test_container_proxy</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">972 ms</div>
</em><em class="status">failed</em>test_service_proxy</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_proxy.py:5 (test_service_proxy)<br/>client = &lt;cattle.Client object at 0x7f962c320550&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f962685e5d0&gt;<br/>    def test_service_proxy(client, context):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        assert env.state == &#39;active&#39;<br/>    <br/>        service = create_and_activate(client, &#39;service&#39;, name=random_str(),<br/>                                      launchConfig={<br/>                                          &#39;imageUuid&#39;: &#39;docker:nginx&#39;},<br/>                                      stackId=env.id)<br/>        assert service.state == &#39;active&#39;<br/>    <br/>&gt;       access = client.create_service_proxy(service=service.name)<br/>test_container_proxy.py:17: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f962c320550&gt;, text = &#39;&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &#39;API Error&#39;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">505 ms</div>
</em><em class="status">failed</em>test_container_proxy</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_proxy.py:22 (test_container_proxy)<br/>context = &lt;core.common_fixtures.Context object at 0x7f962685e5d0&gt;<br/>    def test_container_proxy(context):<br/>        c = context.create_container(name=random_str())<br/>&gt;       access = c.proxy()<br/>test_container_proxy.py:25: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f962c320550&gt;<br/>url = &#39;http://localhost:8080/v2/containers/1i4371/?action=proxy&#39;, args = ()<br/>kw = {}, retries = 3, last_error = None, i = 0<br/>e = ApiError(ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;stat...rver Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;eb7605fc-9c74-4e39-87b6-ab8534c02a7d&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>&gt;                   raise e<br/>E                   ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;eb7605fc-9c74-4e39-87b6-ab8534c02a7d&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:387: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">482 ms</div>
</em><em class="status">failed</em>test_container_proxy_labels</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_container_proxy.py:30 (test_container_proxy_labels)<br/>context = &lt;core.common_fixtures.Context object at 0x7f962685e5d0&gt;<br/>    def test_container_proxy_labels(context):<br/>        labels = {<br/>            &#39;io.rancher.websocket.proxy.port&#39;: 1234,<br/>            &#39;io.rancher.websocket.proxy.scheme&#39;: &#39;https&#39;,<br/>        }<br/>        c = context.create_container(name=random_str(), labels=labels)<br/>&gt;       access = c.proxy()<br/>test_container_proxy.py:37: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f962c320550&gt;<br/>url = &#39;http://localhost:8080/v2/containers/1i4372/?action=proxy&#39;, args = ()<br/>kw = {}, retries = 3, last_error = None, i = 0<br/>e = ApiError(ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;stat...rver Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;cdadd9a5-f490-41d4-a0b8-88d7b4d5a7b8&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>&gt;                   raise e<br/>E                   ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;cdadd9a5-f490-41d4-a0b8-88d7b4d5a7b8&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:387: ApiError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">9 ms</div>
</em>test_container_stats</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">8 ms</div>
</em><em class="status">failed</em>test_stats_container</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1 ms</div>
</em><em class="status">failed</em>test_stats_service</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">1 m 19 s</div>
</em>test_deployment_unit</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">898 ms</div>
</em><em class="status">failed</em>test_standalone_du_lifecycle</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_deployment_unit.py:4 (test_standalone_du_lifecycle)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9627a74f90&gt;<br/>    def test_standalone_du_lifecycle(super_client, context):<br/>        c = context.super_create_container(name=random_str())<br/>        assert c.deploymentUnitUuid is not None<br/>        uuid = c.deploymentUnitUuid<br/>        wait_for(lambda: len(super_client.list_deploymentUnit(uuid=uuid)) == 1)<br/>    <br/>        du = super_client.list_deploymentUnit(uuid=c.deploymentUnitUuid)[0]<br/>    <br/>        # remove the container, validate the du is gone<br/>        c = super_client.wait_success(c.stop())<br/>&gt;       super_client.wait_success(c.remove())<br/>test_deployment_unit.py:15: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...e0a-43a0-4518-9664-128921bcff7b&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;remove&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;remove&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">974 ms</div>
</em><em class="status">passed</em>test_adding_two_references</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">19.16 s</div>
</em><em class="status">failed</em>test_du_multiple_instances_lifecycle</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_deployment_unit.py:30 (test_du_multiple_instances_lifecycle)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9627a74f90&gt;<br/>    def test_du_multiple_instances_lifecycle(super_client, context):<br/>        c1 = context.super_create_container(name=random_str())<br/>        c2 = context.super_create_container(name=random_str(),<br/>                                            networkContainerId=c1.id)<br/>        assert c2.deploymentUnitUuid == c1.deploymentUnitUuid<br/>    <br/>        du = super_client.list_deploymentUnit(uuid=c1.deploymentUnitUuid)[0]<br/>    <br/>        # remove c1, validate du is still intact<br/>        c2 = super_client.wait_success(c2.stop())<br/>        super_client.wait_success(c2.remove())<br/>        wait_for(lambda: super_client.reload(du).state == &#39;active&#39;)<br/>    <br/>        # remove c2, validate du is gone<br/>        c1 = super_client.wait_success(c1.stop())<br/>        super_client.wait_success(c1.remove())<br/>&gt;       wait_for(lambda: super_client.reload(du).state == &#39;removed&#39;)<br/>test_deployment_unit.py:47: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f962746f8c0&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">920 ms</div>
</em><em class="status">failed</em>test_container_compute_fail</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_deployment_unit.py:49 (test_container_compute_fail)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9627a74f90&gt;<br/>    def test_container_compute_fail(super_client, context):<br/>        c1 = context.super_create_container(name=random_str())<br/>        data = {<br/>            &#39;compute.instance.activate::fail&#39;: True,<br/>            &#39;io.cattle.platform.process.instance.InstanceStart&#39;: {<br/>                &#39;computeTries&#39;: 1<br/>            }<br/>        }<br/>    <br/>        c2 = context.super_create_container_no_success(name=random_str(),<br/>                                                       data=data,<br/>                                                       networkContainerId=c1.id)<br/>    <br/>&gt;       assert c2.state == &#39;error&#39;<br/>E       assert &#39;running&#39; == &#39;error&#39;<br/>E         - running<br/>E         + error<br/>test_deployment_unit.py:63: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.71 s</div>
</em><em class="status">failed</em>test_du_sidekick_to</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_deployment_unit.py:70 (test_du_sidekick_to)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9627a74f90&gt;<br/>    def test_du_sidekick_to(super_client, context):<br/>        c1 = context.super_create_container(name=random_str())<br/>        c2 = context.super_create_container(name=random_str(),<br/>                                            sidekickTo=c1.id)<br/>        assert c2.deploymentUnitUuid == c1.deploymentUnitUuid<br/>        assert c2.sidekickTo == c1.id<br/>    <br/>        du = super_client.list_deploymentUnit(uuid=c1.deploymentUnitUuid)[0]<br/>    <br/>        # remove c1, validate du is still intact<br/>        c2 = super_client.wait_success(c2.stop())<br/>        super_client.wait_success(c2.remove())<br/>        wait_for(lambda: super_client.reload(du).state == &#39;active&#39;)<br/>    <br/>        # remove c2, validate du is gone<br/>        c1 = super_client.wait_success(c1.stop())<br/>        super_client.wait_success(c1.remove())<br/>&gt;       wait_for(lambda: super_client.reload(du).state == &#39;removed&#39;)<br/>test_deployment_unit.py:88: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f9627a1a398&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">17.38 s</div>
</em><em class="status">failed</em>test_restart_always</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_deployment_unit.py:90 (test_restart_always)<br/>context = &lt;core.common_fixtures.Context object at 0x7f9627a74f90&gt;<br/>client = &lt;cattle.Client object at 0x7f9627038390&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_restart_always(context, client, super_client):<br/>        p = {&quot;name&quot;: &quot;always&quot;}<br/>        c1 = context.create_container(name=random_str(),<br/>                                      restartPolicy=p)<br/>        c2 = context.create_container(name=random_str(),<br/>                                      networkContainerId=c1.id,<br/>                                      restartPolicy=p)<br/>        c3 = context.create_container(name=random_str(),<br/>                                      networkContainerId=c2.id,<br/>                                      restartPolicy=p)<br/>    <br/>        c1 = client.wait_success(c1)<br/>        c2 = client.wait_success(c2)<br/>        c3 = client.wait_success(c3)<br/>    <br/>        assert c1.state == &#39;running&#39;<br/>        assert c2.state == &#39;running&#39;<br/>        assert c3.state == &#39;running&#39;<br/>    <br/>        sc_1 = c1.startCount<br/>        sc_2 = c2.startCount<br/>        sc_3 = c3.startCount<br/>        c1.stop(stopSource=&quot;external&quot;)<br/>    <br/>        wait_for(lambda: client.reload(c1).state == &#39;running&#39;)<br/>        wait_for(lambda: client.reload(c1).startCount &gt; sc_1)<br/>&gt;       wait_for(lambda: client.reload(c2).startCount &gt; sc_2)<br/>test_deployment_unit.py:117: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f962752f9b0&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">584 ms</div>
</em><em class="status">passed</em>test_restart_on_failure_zero_exit</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">974 ms</div>
</em><em class="status">passed</em>test_restart_on_failure_running</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">616 ms</div>
</em><em class="status">passed</em>test_restart_on_failure_exceed_retry</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">466 ms</div>
</em><em class="status">failed</em>test_instance_revision</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_deployment_unit.py:151 (test_instance_revision)<br/>client = &lt;cattle.Client object at 0x7f9627038390&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9627a74f90&gt;<br/>    def test_instance_revision(client, context):<br/>        c = client.create_container(name=random_str(),<br/>                                    imageUuid=context.image_uuid)<br/>        c = client.wait_success(c)<br/>        assert c.deploymentUnitUuid is not None<br/>    <br/>        r = c.revision()<br/>        config = r.config<br/>&gt;       assert config.launchConfig.imageUuid == context.image_uuid<br/>E       assert &#39;docker:rando...99-1499965969&#39; == &#39;random-200399-1499965969&#39;<br/>E         - docker:random-200399-1499965969<br/>E         ? -------<br/>E         + random-200399-1499965969<br/>test_deployment_unit.py:160: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">487 ms</div>
</em><em class="status">failed</em>test_convert_to_service_primary</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_deployment_unit.py:163 (test_convert_to_service_primary)<br/>client = &lt;cattle.Client object at 0x7f9627038390&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9627a74f90&gt;<br/>    def test_convert_to_service_primary(client, context):<br/>        c = client.create_container(name=random_str(),<br/>                                    imageUuid=context.image_uuid)<br/>        c = client.wait_success(c)<br/>        assert c.deploymentUnitUuid is not None<br/>    <br/>        r = c.revision()<br/>        config = r.config<br/>&gt;       assert config.launchConfig.imageUuid == context.image_uuid<br/>E       assert &#39;docker:rando...99-1499965969&#39; == &#39;random-200399-1499965969&#39;<br/>E         - docker:random-200399-1499965969<br/>E         ? -------<br/>E         + random-200399-1499965969<br/>test_deployment_unit.py:172: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">966 ms</div>
</em><em class="status">failed</em>test_convert_to_service_sidekicks</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_deployment_unit.py:211 (test_convert_to_service_sidekicks)<br/>client = &lt;cattle.Client object at 0x7f9627038390&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9627a74f90&gt;<br/>    def test_convert_to_service_sidekicks(client, context):<br/>        c1 = client.create_container(imageUuid=context.image_uuid,<br/>                                     name=random_str())<br/>        c1 = client.wait_success(c1)<br/>        assert c1.deploymentUnitUuid is not None<br/>    <br/>        c2 = context.create_container(networkContainerId=c1.id,<br/>                                      dataVolumesFrom=[c1.id],<br/>                                      name=random_str())<br/>        assert c1.deploymentUnitUuid == c2.deploymentUnitUuid<br/>    <br/>        r = c1.revision()<br/>        config = r.config<br/>&gt;       assert config.launchConfig.imageUuid == context.image_uuid<br/>E       assert &#39;docker:rando...99-1499965969&#39; == &#39;random-200399-1499965969&#39;<br/>E         - docker:random-200399-1499965969<br/>E         ? -------<br/>E         + random-200399-1499965969<br/>test_deployment_unit.py:225: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">485 ms</div>
</em><em class="status">failed</em>test_instance_upgrade_like_ui</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_deployment_unit.py:314 (test_instance_upgrade_like_ui)<br/>client = &lt;cattle.Client object at 0x7f9627038390&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9627a74f90&gt;<br/>    def test_instance_upgrade_like_ui(client, context):<br/>        c1 = client.create_container(name=random_str(),<br/>                                     imageUuid=context.image_uuid)<br/>        c1 = client.wait_success(c1)<br/>        assert c1.deploymentUnitUuid is not None<br/>    <br/>        r1 = c1.revision()<br/>        config = r1.config<br/>&gt;       assert config.launchConfig[&#39;imageUuid&#39;] == context.image_uuid<br/>E       assert &#39;docker:rando...99-1499965969&#39; == &#39;random-200399-1499965969&#39;<br/>E         - docker:random-200399-1499965969<br/>E         ? -------<br/>E         + random-200399-1499965969<br/>test_deployment_unit.py:323: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">472 ms</div>
</em><em class="status">failed</em>test_instance_upgrade</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_deployment_unit.py:352 (test_instance_upgrade)<br/>client = &lt;cattle.Client object at 0x7f9627038390&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9627a74f90&gt;<br/>    def test_instance_upgrade(client, context):<br/>        c1 = client.create_container(name=random_str(),<br/>                                     privileged=True,<br/>                                     imageUuid=context.image_uuid)<br/>        c1 = client.wait_success(c1)<br/>        assert c1.deploymentUnitUuid is not None<br/>    <br/>        r1 = c1.revision()<br/>        config = r1.config<br/>&gt;       assert config.launchConfig[&#39;imageUuid&#39;] == context.image_uuid<br/>E       assert &#39;docker:rando...99-1499965969&#39; == &#39;random-200399-1499965969&#39;<br/>E         - docker:random-200399-1499965969<br/>E         ? -------<br/>E         + random-200399-1499965969<br/>test_deployment_unit.py:362: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">17.67 s</div>
</em><em class="status">failed</em>test_standalone_upgrade_lb_replacement</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_deployment_unit.py:393 (test_standalone_upgrade_lb_replacement)<br/>client = &lt;cattle.Client object at 0x7f9627038390&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9627a74f90&gt;<br/>    def test_standalone_upgrade_lb_replacement(client, context):<br/>        c1 = client.create_container(name=random_str(),<br/>                                     imageUuid=context.image_uuid)<br/>        c1 = client.wait_success(c1)<br/>    <br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        launch_config = {&quot;imageUuid&quot;: context.image_uuid}<br/>        hostname = &quot;foo&quot;<br/>        path = &quot;bar&quot;<br/>        port = 32<br/>        priority = 10<br/>        protocol = &quot;http&quot;<br/>        target_port = 42<br/>        backend_name = &quot;myBackend&quot;<br/>        config = &quot;global maxconn 20&quot;<br/>        port_rule1 = {&quot;hostname&quot;: hostname,<br/>                      &quot;path&quot;: path, &quot;sourcePort&quot;: port, &quot;priority&quot;: priority,<br/>                      &quot;protocol&quot;: protocol, &quot;instanceId&quot;: c1.id,<br/>                      &quot;targetPort&quot;: target_port,<br/>                      &quot;backendName&quot;: backend_name}<br/>        port_rules = [port_rule1]<br/>        lb_config = {&quot;portRules&quot;: port_rules,<br/>                     &quot;config&quot;: config}<br/>    <br/>        # create balancer<br/>        lb_svc = client. \<br/>            create_loadBalancerService(name=random_str(),<br/>                                       stackId=env.id,<br/>                                       launchConfig=launch_config,<br/>                                       lbConfig=lb_config)<br/>        lb_svc = client.wait_success(lb_svc)<br/>        assert lb_svc.state == &quot;inactive&quot;<br/>        assert len(lb_svc.lbConfig.portRules) == 1<br/>        assert lb_svc.lbConfig.portRules[0].instanceId == c1.id<br/>    <br/>        # upgrade c1 and make sure its replacement got programmed to lb<br/>        config = {<br/>            &#39;name&#39;: random_str(),<br/>            &#39;imageUuid&#39;: context.image_uuid + &#39;1&#39;<br/>        }<br/>    <br/>        rev = c1.upgrade(config=config)<br/>        wait_for(lambda: len(rev.instances()) == 1)<br/>        c2 = rev.instances()[0]<br/>        wait_for_condition(client, c2, lambda x: x.state == &#39;running&#39;)<br/>    <br/>        wait_for(lambda: len(client.reload(lb_svc).lbConfig.portRules) == 1)<br/>&gt;       wait_for(lambda: client.reload(lb_svc).<br/>                 lbConfig.portRules[0].instanceId == c2.id)<br/>test_deployment_unit.py:441: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f96274d92a8&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">16 ms</div>
</em>test_docker</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">13 ms</div>
</em><em class="status">failed</em>test_docker_create_only</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_create_only_from_sha</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1 ms</div>
</em><em class="status">failed</em>test_docker_create_with_start</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_build</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_create_with_start_using_docker_io</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_command</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1 ms</div>
</em><em class="status">failed</em>test_docker_command_args</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_short_lived_container</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_stop</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_purge</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_ports_from_container_publish_all</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_ports_from_container_no_publish</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_ports_from_container</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_no_port_override</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_volumes</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1 ms</div>
</em><em class="status">failed</em>test_container_fields</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_newfields</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test ignored open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">ignored</em>test_docker_extra_newfields</span>
<ul>
<li class="text">
<span class="stdout">s<br/></span>
</li>
<li class="text">
<span class="stdout">Skipped: Docker version is not 1.12.1<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_milli_cpu_reservation</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_cleanup_volume_strategy</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_volume_long</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_mount_life_cycle</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_docker_labels</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_odd_fields</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_bad_build</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_service_link_emu_docker_link</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_service_links_with_no_ports</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_blkio_device_options</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test ignored open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">ignored</em>test_port_constraint</span>
<ul>
<li class="text">
<span class="stdout">s<br/></span>
</li>
<li class="text">
<span class="stdout">Skipped: condition: os.environ.get(&#39;CATTLE_TEST_RESOURCE_SCHEDULER&#39;) != &#39;true&#39;<br/></span>
</li>
</ul>
</li>
<li class="level test ignored open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">ignored</em>test_conflicting_ports_in_deployment_unit</span>
<ul>
<li class="text">
<span class="stdout">s<br/></span>
</li>
<li class="text">
<span class="stdout">Skipped: condition: os.environ.get(&#39;CATTLE_TEST_RESOURCE_SCHEDULER&#39;) != &#39;true&#39;<br/></span>
</li>
</ul>
</li>
<li class="level test ignored open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">ignored</em>test_simultaneous_port_allocation</span>
<ul>
<li class="text">
<span class="stdout">s<br/></span>
</li>
<li class="text">
<span class="stdout">Skipped: condition: os.environ.get(&#39;CATTLE_TEST_RESOURCE_SCHEDULER&#39;) != &#39;true&#39;<br/></span>
</li>
</ul>
</li>
<li class="level test ignored open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">ignored</em>test_docker_bindtest_docker_bind_address_address</span>
<ul>
<li class="text">
<span class="stdout">s<br/></span>
</li>
<li class="text">
<span class="stdout">Skipped: condition: os.environ.get(&#39;CATTLE_TEST_RESOURCE_SCHEDULER&#39;) != &#39;true&#39;<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">7.15 s</div>
</em>test_dynamic_schema</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">7.15 s</div>
</em><em class="status">failed</em>test_schema_lifecycle</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9627929410&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def service_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;service&#39;).user_client<br/>test_authorization.py:43: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f962444ea50&gt;<br/>account = {&#39;kind&#39;: u&#39;service&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499966057000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: ...&#39;: u&#39;1i!rancher_id:510&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96243fc9d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_invalid_schema_definition</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9627929410&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def service_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;service&#39;).user_client<br/>test_authorization.py:43: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f962444ea50&gt;<br/>account = {&#39;kind&#39;: u&#39;service&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499966057000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: ...&#39;: u&#39;1i!rancher_id:510&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96243fc9d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_schema_roles</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9627929410&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def service_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;service&#39;).user_client<br/>test_authorization.py:43: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f962444ea50&gt;<br/>account = {&#39;kind&#39;: u&#39;service&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499966057000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: ...&#39;: u&#39;1i!rancher_id:510&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96243fc9d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">22.32 s</div>
</em>test_external_events</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.19 s</div>
</em><em class="status">failed</em>test_bad_agent</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_events.py:10 (test_bad_agent)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f96222bc9d0&gt;<br/>    def test_bad_agent(super_client, new_context):<br/>        _, account, agent_client = register_simulated_host(new_context,<br/>                                                           return_agent=True)<br/>    <br/>        def post():<br/>            external_id = random_str()<br/>            agent_client.create_external_storage_pool_event(<br/>                externalId=external_id,<br/>                eventType=&quot;storagepool.create&quot;,<br/>                hostUuids=[],<br/>                storagePool={<br/>                    &#39;name&#39;: &#39;name-%s&#39; % external_id,<br/>                    &#39;externalId&#39;: external_id,<br/>                })<br/>    <br/>        # Test it works<br/>&gt;       post()<br/>test_external_events.py:27: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>    def post():<br/>        external_id = random_str()<br/>&gt;       agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=&quot;storagepool.create&quot;,<br/>            hostUuids=[],<br/>            storagePool={<br/>                &#39;name&#39;: &#39;name-%s&#39; % external_id,<br/>                &#39;externalId&#39;: external_id,<br/>            })<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_external_events.py:17: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">516 ms</div>
</em><em class="status">failed</em>test_external_host_event_miss</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_events.py:44 (test_external_host_event_miss)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9622a50b10&gt;<br/>    def test_external_host_event_miss(new_context):<br/>        new_context.create_container()<br/>    <br/>        client = new_context.client<br/>        host = new_context.host<br/>        event = client.create_external_host_event(hostLabel=&#39;foo=bar&#39;,<br/>                                                  eventType=&#39;host.evacuate&#39;,<br/>&gt;                                                 deleteHost=True)<br/>test_external_events.py:52: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f9621a4bad0&gt;<br/>text = &#39;{&quot;id&quot;:&quot;9f691b3d-a495-416e-aa17-2e951cf10178&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:403,&quot;code&quot;:&quot;CantVerifyAgent&quot;,&quot;message&quot;:&quot;CantVerifyAgent&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;CantVerifyAgent : CantVerifyAgent\n{&#39;status&#39;: 403, &#39;code&#39;: u&#39;CantVerifyAgent&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;CantVerifyAgent&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;9f691b3d-a495-416e-aa17-2e951cf10178&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">575 ms</div>
</em><em class="status">failed</em>test_external_host_event_wrong_event</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_events.py:59 (test_external_host_event_wrong_event)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961ee121d0&gt;<br/>    def test_external_host_event_wrong_event(new_context):<br/>        c = new_context.create_container()<br/>    <br/>        client = new_context.client<br/>        host = client.update(new_context.host, labels={<br/>            &#39;foo&#39;: &#39;bar&#39;<br/>        })<br/>        host = client.wait_success(host)<br/>        assert host.labels == {&#39;foo&#39;: &#39;bar&#39;}<br/>    <br/>        event = client.create_external_host_event(hostLabel=&#39;foo=bar&#39;,<br/>                                                  eventType=&#39;host.notevacuate&#39;,<br/>&gt;                                                 deleteHost=True)<br/>test_external_events.py:72: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961fcb1d90&gt;<br/>text = &#39;{&quot;id&quot;:&quot;57e55038-8957-4be0-b62e-e8fa52b1069a&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:403,&quot;code&quot;:&quot;CantVerifyAgent&quot;,&quot;message&quot;:&quot;CantVerifyAgent&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;CantVerifyAgent : CantVerifyAgent\n{&#39;status&#39;: 403, &#39;code&#39;: u&#39;CantVerifyAgent&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;CantVerifyAgent&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;57e55038-8957-4be0-b62e-e8fa52b1069a&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">634 ms</div>
</em><em class="status">failed</em>test_external_host_event_hit</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_events.py:83 (test_external_host_event_hit)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961d6fbf90&gt;<br/>    def test_external_host_event_hit(new_context):<br/>        c = new_context.create_container()<br/>    <br/>        client = new_context.client<br/>        host = client.wait_success(new_context.host)<br/>        host = client.update(host, labels={<br/>            &#39;foo&#39;: &#39;bar&#39;<br/>        })<br/>        host = client.wait_success(host)<br/>        assert host.labels == {&#39;foo&#39;: &#39;bar&#39;}<br/>    <br/>        event = client.create_external_host_event(hostLabel=&#39;foo=bar&#39;,<br/>                                                  eventType=&#39;host.evacuate&#39;,<br/>&gt;                                                 deleteHost=True)<br/>test_external_events.py:97: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961e5b8cd0&gt;<br/>text = &#39;{&quot;id&quot;:&quot;72e079b4-8f53-4519-a70b-7791539c3c05&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:403,&quot;code&quot;:&quot;CantVerifyAgent&quot;,&quot;message&quot;:&quot;CantVerifyAgent&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;CantVerifyAgent : CantVerifyAgent\n{&#39;status&#39;: 403, &#39;code&#39;: u&#39;CantVerifyAgent&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;CantVerifyAgent&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;72e079b4-8f53-4519-a70b-7791539c3c05&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">568 ms</div>
</em><em class="status">failed</em>test_external_host_event_no_delete</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_events.py:108 (test_external_host_event_no_delete)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961ceae3d0&gt;<br/>    def test_external_host_event_no_delete(new_context):<br/>        c = new_context.create_container()<br/>    <br/>        client = new_context.client<br/>        host = client.update(new_context.host, labels={<br/>            &#39;foo&#39;: &#39;bar&#39;<br/>        })<br/>        host = client.wait_success(host)<br/>        assert host.labels == {&#39;foo&#39;: &#39;bar&#39;}<br/>    <br/>        event = client.create_external_host_event(hostLabel=&#39;foo=bar&#39;,<br/>&gt;                                                 eventType=&#39;host.evacuate&#39;)<br/>test_external_events.py:120: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961cf12e90&gt;<br/>text = &#39;{&quot;id&quot;:&quot;0ed89fc2-7638-4501-91d7-ba2d6162b701&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:403,&quot;code&quot;:&quot;CantVerifyAgent&quot;,&quot;message&quot;:&quot;CantVerifyAgent&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;CantVerifyAgent : CantVerifyAgent\n{&#39;status&#39;: 403, &#39;code&#39;: u&#39;CantVerifyAgent&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;CantVerifyAgent&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;0ed89fc2-7638-4501-91d7-ba2d6162b701&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.16 s</div>
</em><em class="status">failed</em>test_host_evacuate</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_events.py:130 (test_host_evacuate)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961a9080d0&gt;<br/>    def test_host_evacuate(new_context):<br/>        c = new_context.create_container()<br/>    <br/>        client = new_context.client<br/>        host = client.update(new_context.host, labels={<br/>            &#39;foo&#39;: &#39;bar&#39;<br/>        })<br/>        host = client.wait_success(host)<br/>        assert host.labels == {&#39;foo&#39;: &#39;bar&#39;}<br/>    <br/>        host = client.wait_success(host.evacuate())<br/>&gt;       wait_state(client, host, &#39;inactive&#39;)<br/>test_external_events.py:142: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f961bf28410&gt;<br/>obj = {&#39;localStorageMb&#39;: None, &#39;createdTS&#39;: 1499966099000, &#39;labels&#39;: {&#39;foo&#39;: u&#39;bar&#39;}, &#39;agentState&#39;: None, &#39;createTsFields&#39;: ...ame&#39;: u&#39;testhost-cab737e2-1526-436e-b09e-0ac3b064dae9&#39;, &#39;created&#39;: u&#39;2017-07-13T17:14:59Z&#39;, &#39;instanceIds&#39;: [u&#39;1i4461&#39;]}<br/>state = &#39;inactive&#39;<br/>    def wait_state(client, obj, state):<br/>        def is_state():<br/>            o = client.reload(obj)<br/>            if o.state == state:<br/>                return True<br/>            if state == &#39;removed&#39; and o.removed is not None:<br/>                return True<br/>            return False<br/>        try:<br/>            wait_for(is_state)<br/>        except:<br/>            obj = client.reload(obj)<br/>            msg = &#39;Timeout waiting for state {}, resource is {} : {}&#39;.format(<br/>                state, obj.state, obj<br/>            )<br/>&gt;           raise Exception(msg)<br/>E           Exception: Timeout waiting for state inactive, resource is active : {&#39;localStorageMb&#39;: None, &#39;links&#39;: {&#39;account&#39;: u&#39;http://localhost:8080/v2/hosts/1h291/account&#39;, &#39;storagePools&#39;: u&#39;http://localhost:8080/v2/hosts/1h291/storagepools&#39;, &#39;deploymentUnits&#39;: u&#39;http://localhost:8080/v2/hosts/1h291/deploymentunits&#39;, &#39;self&#39;: u&#39;http://localhost:8080/v2/hosts/1h291&#39;, &#39;instances&#39;: u&#39;http://localhost:8080/v2/hosts/1h291/instances&#39;, &#39;volumes&#39;: u&#39;http://localhost:8080/v2/hosts/1h291/volumes&#39;, &#39;serviceEvents&#39;: u&#39;http://localhost:8080/v2/hosts/1h291/serviceevents&#39;}, &#39;labels&#39;: {&#39;foo&#39;: u&#39;bar&#39;}, &#39;agentState&#39;: None, &#39;actions&#39;: {&#39;deactivate&#39;: u&#39;http://localhost:8080/v2/hosts/1h291/?action=deactivate&#39;, &#39;resourceActions&#39;: u&#39;http://localhost:8080/v2/hosts/1h291/?action=resourceactions&#39;, &#39;update&#39;: u&#39;http://localhost:8080/v2/hosts/1h291/?action=update&#39;, &#39;evacuate&#39;: u&#39;http://localhost:8080/v2/hosts/1h291/?action=evacuate&#39;}, &#39;instances&#39;: &lt;function &lt;lambda&gt; at 0x7f961a832668&gt;, &#39;id&#39;: u&#39;1h291&#39;, &#39;createTsFields&#39;: True, &#39;accountId&#39;: u&#39;1a528&#39;, &#39;createdTS&#39;: 1499966099000, &#39;agentIpAddress&#39;: u&#39;e28a6419-945f-46bc-bdee-ebf73f6b234f-192.168.0.21&#39;, &#39;baseType&#39;: u&#39;host&#39;, &#39;deactivate&#39;: &lt;function &lt;lambda&gt; at 0x7f961a8327d0&gt;, &#39;self&#39;: &lt;function &lt;lambda&gt; at 0x7f961a8325f0&gt;, &#39;hostname&#39;: None, &#39;state&#39;: u&#39;active&#39;, &#39;memory&#39;: None, &#39;transitioning&#39;: u&#39;no&#39;, &#39;serviceEvents&#39;: &lt;function &lt;lambda&gt; at 0x7f961a832758&gt;, &#39;type&#39;: u&#39;host&#39;, &#39;stackId&#39;: None, &#39;update_action&#39;: &lt;function &lt;lambda&gt; at 0x7f961a8328c0&gt;, &#39;description&#39;: None, &#39;milliCpu&#39;: None, &#39;transitioningMessage&#39;: None, &#39;account&#39;: &lt;function &lt;lambda&gt; at 0x7f961a832488&gt;, &#39;priorityFieldNames&#39;: [u&#39;name&#39;, u&#39;state&#39;], &#39;evacuate&#39;: &lt;function &lt;lambda&gt; at 0x7f961a832938&gt;, &#39;resourceActions&#39;: &lt;function &lt;lambda&gt; at 0x7f961a832848&gt;, &#39;removed&#39;: None, &#39;hostTemplateId&#39;: None, &#39;uuid&#39;: u&#39;a024b7c0-4b30-46de-96f0-ba206e2a22eb&#39;, &#39;info&#39;: None, &#39;kind&#39;: u&#39;sim&#39;, &#39;name&#39;: u&#39;testhost-cab737e2-1526-436e-b09e-0ac3b064dae9&#39;, &#39;created&#39;: u&#39;2017-07-13T17:14:59Z&#39;, &#39;storagePools&#39;: &lt;function &lt;lambda&gt; at 0x7f961a832500&gt;, &#39;deploymentUnits&#39;: &lt;function &lt;lambda&gt; at 0x7f961a832578&gt;, &#39;volumes&#39;: &lt;function &lt;lambda&gt; at 0x7f961a8326e0&gt;, &#39;instanceIds&#39;: [u&#39;1i4461&#39;]}<br/>common_fixtures.py:668: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">2.37 s</div>
</em><em class="status">failed</em>test_external_host_event_by_id</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_events.py:145 (test_external_host_event_by_id)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961c78a490&gt;<br/>    def test_external_host_event_by_id(new_context):<br/>        c = new_context.create_container()<br/>        new_host = register_simulated_host(new_context)<br/>    <br/>        client = new_context.client<br/>        host = client.update(new_context.host, labels={<br/>            &#39;foo&#39;: &#39;bar&#39;<br/>        })<br/>        host = client.wait_success(host)<br/>        assert host.labels == {&#39;foo&#39;: &#39;bar&#39;}<br/>    <br/>        event = client.create_external_host_event(hostId=host.id,<br/>&gt;                                                 eventType=&#39;host.evacuate&#39;)<br/>test_external_events.py:158: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961a8334d0&gt;<br/>text = &#39;{&quot;id&quot;:&quot;64886b9a-2eb9-4a1b-b779-ae979d33777e&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:403,&quot;code&quot;:&quot;CantVerifyAgent&quot;,&quot;message&quot;:&quot;CantVerifyAgent&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;CantVerifyAgent : CantVerifyAgent\n{&#39;status&#39;: 403, &#39;code&#39;: u&#39;CantVerifyAgent&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;CantVerifyAgent&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;64886b9a-2eb9-4a1b-b779-ae979d33777e&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">236 ms</div>
</em><em class="status">failed</em>test_external_dns_event</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_events.py:170 (test_external_dns_event)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961efda810&gt;<br/>    def test_external_dns_event(super_client, new_context):<br/>        client, agent_client, host = from_context(new_context)<br/>    <br/>        stack = client.create_stack(name=random_str())<br/>        stack = client.wait_success(stack)<br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        svc1 = client.create_service(name=random_str(),<br/>                                     stackId=stack.id,<br/>                                     launchConfig=launch_config)<br/>        svc1 = client.wait_success(svc1)<br/>    <br/>        domain_name1 = &quot;foo.com&quot;<br/>        create_dns_event(client, agent_client, super_client,<br/>                         new_context, svc1.name,<br/>&gt;                        stack.name, domain_name1)<br/>test_external_events.py:187: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_external_events.py:207: in create_dns_event<br/>    event = agent_client.create_external_dns_event(dns_event)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961d70c790&gt;<br/>text = &#39;{&quot;id&quot;:&quot;054fd321-d781-4b75-9597-b9d29f5a35ea&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:403,&quot;code&quot;:&quot;CantVerifyAgent&quot;,&quot;message&quot;:&quot;CantVerifyAgent&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;CantVerifyAgent : CantVerifyAgent\n{&#39;status&#39;: 403, &#39;code&#39;: u&#39;CantVerifyAgent&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;CantVerifyAgent&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;054fd321-d781-4b75-9597-b9d29f5a35ea&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">6 ms</div>
</em><em class="status">failed</em>test_external_service_event_create</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_events.py:216 (test_external_service_event_create)<br/>client = &lt;cattle.Client object at 0x7f9622c6e2d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9622c7f690&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_external_service_event_create(client, context, super_client):<br/>        agent_client = context.agent_client<br/>    <br/>        env_external_id = random_str()<br/>        environment = {&quot;name&quot;: &quot;foo&quot;, &quot;externalId&quot;: env_external_id}<br/>    <br/>        svc_external_id = random_str()<br/>        svc_name = &#39;svc-name-%s&#39; % svc_external_id<br/>        selector = &#39;foo=bar1&#39;<br/>        template = {&#39;foo&#39;: &#39;bar&#39;}<br/>        svc_data = {<br/>            &#39;selectorContainer&#39;: selector,<br/>            &#39;kind&#39;: SERVICE_KIND,<br/>            &#39;name&#39;: svc_name,<br/>            &#39;externalId&#39;: svc_external_id,<br/>            &#39;template&#39;: template,<br/>        }<br/>        event = agent_client.create_external_service_event(<br/>            eventType=&#39;service.create&#39;,<br/>            environment=environment,<br/>            externalId=svc_external_id,<br/>&gt;           service=svc_data,<br/>        )<br/>test_external_events.py:238: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f9621bcbed0&gt;<br/>text = &#39;{&quot;id&quot;:&quot;caef3bd5-db4c-41fc-9473-1c45283dd563&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:403,&quot;code&quot;:&quot;CantVerifyAgent&quot;,&quot;message&quot;:&quot;CantVerifyAgent&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;CantVerifyAgent : CantVerifyAgent\n{&#39;status&#39;: 403, &#39;code&#39;: u&#39;CantVerifyAgent&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;CantVerifyAgent&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;caef3bd5-db4c-41fc-9473-1c45283dd563&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">58 ms</div>
</em><em class="status">failed</em>test_external_stack_event_create</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_events.py:291 (test_external_stack_event_create)<br/>client = &lt;cattle.Client object at 0x7f9622c6e2d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9622c7f690&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_external_stack_event_create(client, context, super_client):<br/>        agent_client = context.agent_client<br/>    <br/>        env_external_id = random_str()<br/>        stack = {&quot;name&quot;: env_external_id, &quot;externalId&quot;: env_external_id,<br/>                 &quot;kind&quot;: &quot;environment&quot;}<br/>    <br/>        env = client.create_stack(stack)<br/>        client.wait_success(env)<br/>    <br/>        service = {<br/>            &#39;kind&#39;: SERVICE_KIND,<br/>        }<br/>    <br/>        event = agent_client.create_external_service_event(<br/>            eventType=&#39;stack.remove&#39;,<br/>            environment=stack,<br/>            externalId=env_external_id,<br/>&gt;           service=service,<br/>        )<br/>test_external_events.py:310: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f9621bcbed0&gt;<br/>text = &#39;{&quot;id&quot;:&quot;fcd45774-b0a8-4f40-9ed6-f4d61bd952f9&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:403,&quot;code&quot;:&quot;CantVerifyAgent&quot;,&quot;message&quot;:&quot;CantVerifyAgent&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;CantVerifyAgent : CantVerifyAgent\n{&#39;status&#39;: 403, &#39;code&#39;: u&#39;CantVerifyAgent&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;CantVerifyAgent&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;fcd45774-b0a8-4f40-9ed6-f4d61bd952f9&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em>test_external_handler</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_external_handler</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_handler.py:36 (test_external_handler)<br/>admin_user_client = &lt;cattle.Client object at 0x7f9621795990&gt;<br/>    @pytest.mark.nonparallel<br/>    def test_external_handler(admin_user_client):<br/>        name = &#39;{}-{}&#39;.format(TEST_HANDLER_PREFIX, random_str())<br/>        configs = [{&#39;name&#39;: &#39;environment.create&#39;, &#39;onError&#39;: &#39;instance.stop&#39;}]<br/>&gt;       h = admin_user_client.create_external_handler(name=name,<br/>                                                      processConfigs=configs)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_handler&#39;<br/>test_external_handler.py:41: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_defaults</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_handler.py:67 (test_defaults)<br/>admin_user_client = &lt;cattle.Client object at 0x7f9621795990&gt;<br/>    @pytest.mark.nonparallel<br/>    def test_defaults(admin_user_client):<br/>        name = &#39;{}-{}&#39;.format(TEST_HANDLER_PREFIX, random_str())<br/>        configs = [{&#39;name&#39;: &#39;instance.start&#39;}]<br/>&gt;       h = admin_user_client.create_external_handler(name=name,<br/>                                                      processConfigs=configs)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_handler&#39;<br/>test_external_handler.py:72: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_properties</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_handler.py:87 (test_properties)<br/>admin_user_client = &lt;cattle.Client object at 0x7f9621795990&gt;<br/>    @pytest.mark.nonparallel<br/>    def test_properties(admin_user_client):<br/>        name = &#39;{}-{}&#39;.format(TEST_HANDLER_PREFIX, random_str())<br/>        configs = [{&#39;name&#39;: &#39;instance.start&#39;}]<br/>&gt;       h = admin_user_client.create_external_handler(name=name,<br/>                                                      processConfigs=configs,<br/>                                                      timeoutMillis=2000,<br/>                                                      retries=4,<br/>                                                      priority=1234)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_handler&#39;<br/>test_external_handler.py:92: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_pre_handler</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_handler.py:110 (test_pre_handler)<br/>admin_user_client = &lt;cattle.Client object at 0x7f9621795990&gt;<br/>    @pytest.mark.nonparallel<br/>    def test_pre_handler(admin_user_client):<br/>        name = &#39;{}-{}&#39;.format(TEST_HANDLER_PREFIX, random_str())<br/>        configs = [{&#39;name&#39;: &#39;pre.instance.start&#39;}]<br/>&gt;       h = admin_user_client.create_external_handler(name=name,<br/>                                                      processConfigs=configs,<br/>                                                      timeoutMillis=2000,<br/>                                                      retries=4,<br/>                                                      priority=1234)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_handler&#39;<br/>test_external_handler.py:115: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_post_handler</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_handler.py:130 (test_post_handler)<br/>admin_user_client = &lt;cattle.Client object at 0x7f9621795990&gt;<br/>    @pytest.mark.nonparallel<br/>    def test_post_handler(admin_user_client):<br/>        name = &#39;{}-{}&#39;.format(TEST_HANDLER_PREFIX, random_str())<br/>        configs = [{&#39;name&#39;: &#39;post.instance.start&#39;}]<br/>&gt;       h = admin_user_client.create_external_handler(name=name,<br/>                                                      processConfigs=configs,<br/>                                                      timeoutMillis=2000,<br/>                                                      retries=4,<br/>                                                      priority=1234)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_handler&#39;<br/>test_external_handler.py:135: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_enabled_disable</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_handler.py:150 (test_enabled_disable)<br/>admin_user_client = &lt;cattle.Client object at 0x7f9621795990&gt;<br/>    @pytest.mark.nonparallel<br/>    def test_enabled_disable(admin_user_client):<br/>        name = &#39;{}-{}&#39;.format(TEST_HANDLER_PREFIX, random_str())<br/>        configs = [{&#39;name&#39;: &#39;instance.start&#39;}]<br/>&gt;       h = admin_user_client.create_external_handler(name=name,<br/>                                                      processConfigs=configs)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_handler&#39;<br/>test_external_handler.py:155: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_event_name_comma</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_external_handler.py:196 (test_event_name_comma)<br/>admin_user_client = &lt;cattle.Client object at 0x7f9621795990&gt;<br/>    @pytest.mark.nonparallel<br/>    def test_event_name_comma(admin_user_client):<br/>        name = &#39;{}-{}&#39;.format(TEST_HANDLER_PREFIX, random_str())<br/>        configs = [{&#39;name&#39;: &#39;pre.instance.start,instance.start&#39;}]<br/>&gt;       h = admin_user_client.create_external_handler(name=name,<br/>                                                      processConfigs=configs)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_handler&#39;<br/>test_external_handler.py:201: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_event_name_comma_teardown</span>
<ul>
<li class="text">
<span class="stderr">cattletest/core/test_external_handler.py:196 (test_event_name_comma)<br/>&gt;   request.addfinalizer(lambda: _disable_test_handlers(admin_user_client))<br/>test_external_handler.py:8: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f9621795990&gt;<br/>    def _disable_test_handlers(client):<br/>        name = TEST_HANDLER_PREFIX + &#39;%&#39;<br/>&gt;       for h in client.list_external_handler(state=&#39;active&#39;,<br/>                                                    name_like=name):<br/>E                                                   AttributeError: &#39;Client&#39; object has no attribute &#39;list_external_handler&#39;<br/>test_external_handler.py:30: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">155 ms</div>
</em>test_generic_object</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">155 ms</div>
</em><em class="status">passed</em>test_generic_object</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">2.20 s</div>
</em>test_ha</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">533 ms</div>
</em><em class="status">failed</em>test_container_ha_default</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_ha.py:8 (test_container_ha_default)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961e305590&gt;<br/>    def test_container_ha_default(super_client, new_context):<br/>        client = new_context.client<br/>        c = new_context.\<br/>            create_container_no_success(name=&#39;simForgetImmediately&#39;,<br/>                                        imageUuid=new_context.image_uuid)<br/>    <br/>        def do_ping():<br/>            ping = one(super_client.list_task, name=&#39;agent.ping&#39;)<br/>            ping.execute()<br/>    <br/>        def callback():<br/>            processes = process_instances(super_client, c, type=&#39;instance&#39;)<br/>            if &#39;instance.stop&#39; not in _process_names(processes):<br/>                do_ping()<br/>                return None<br/>            return processes<br/>    <br/>        processes = wait_for(callback,<br/>&gt;                            fail_handler=lambda: proc_err(c, super_client))<br/>test_ha.py:27: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_ha.py:22: in callback<br/>    do_ping()<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>    def do_ping():<br/>&gt;       ping = one(super_client.list_task, name=&#39;agent.ping&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_task&#39;<br/>test_ha.py:16: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.11 s</div>
</em><em class="status">failed</em>test_container_discovery</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_ha.py:45 (test_container_discovery)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961a4e6290&gt;<br/>    def test_container_discovery(super_client, new_context):<br/>        client = new_context.client<br/>        container_id = random_str()<br/>        new_context.create_container_no_success(<br/>            name=&#39;simCreateAnother_&#39; + container_id,<br/>            imageUuid=new_context.image_uuid)<br/>    <br/>        def do_ping():<br/>            ping = one(super_client.list_task, name=&#39;agent.ping&#39;)<br/>            ping.execute()<br/>    <br/>        def callback():<br/>            cons = client.list_container(externalId=container_id)<br/>            if len(cons) == 0:<br/>                do_ping()<br/>                return None<br/>            return cons<br/>    <br/>&gt;       containers = wait_for(callback)<br/>test_ha.py:64: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_ha.py:60: in callback<br/>    do_ping()<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>    def do_ping():<br/>&gt;       ping = one(super_client.list_task, name=&#39;agent.ping&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_task&#39;<br/>test_ha.py:54: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">561 ms</div>
</em><em class="status">failed</em>test_container_ha_remove</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_ha.py:75 (test_container_ha_remove)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961b53b150&gt;<br/>    def test_container_ha_remove(super_client, new_context):<br/>        c = new_context.super_create_container(instanceTriggeredStop=&#39;remove&#39;,<br/>                                               imageUuid=new_context.image_uuid,<br/>                                               data={&#39;simForgetImmediately&#39;: True})<br/>        c = super_client.wait_success(c)<br/>    <br/>        def do_ping():<br/>            ping = one(super_client.list_task, name=&#39;agent.ping&#39;)<br/>            ping.execute()<br/>    <br/>        def callback():<br/>            processes = process_instances(super_client, c, type=&#39;instance&#39;)<br/>            if &#39;instance.remove&#39; not in _process_names(processes):<br/>                do_ping()<br/>                return None<br/>            return processes<br/>    <br/>        processes = wait_for(callback,<br/>&gt;                            fail_handler=lambda: proc_err(c, super_client))<br/>test_ha.py:94: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_ha.py:89: in callback<br/>    do_ping()<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>    def do_ping():<br/>&gt;       ping = one(super_client.list_task, name=&#39;agent.ping&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_task&#39;<br/>test_ha.py:83: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">5 m 42 s</div>
</em>test_healthcheck</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.07 s</div>
</em><em class="status">failed</em>test_upgrade_with_health</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:52 (test_upgrade_with_health)<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_upgrade_with_health(client, context, super_client):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>                                    scale=1)<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>    <br/>        env.activateservices()<br/>        svc = client.wait_success(svc, 120)<br/>        assert svc.state == &quot;active&quot;<br/>    <br/>        # upgrade the service and<br/>        new_launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                             &#39;healthCheck&#39;: {<br/>                                 &#39;port&#39;: 80,<br/>                             }}<br/>        strategy = {&quot;launchConfig&quot;: new_launch_config,<br/>                    &quot;intervalMillis&quot;: 100}<br/>        svc.upgrade_action(inServiceStrategy=strategy)<br/>    <br/>        def wait_for_map_count(service):<br/>            m = super_client. \<br/>                list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>            return len(m) == 2<br/>    <br/>        def wait_for_managed_map_count(service):<br/>            m = super_client. \<br/>                list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;,<br/>                                      upgrade=False)<br/>            return len(m) == 1<br/>    <br/>&gt;       wait_for_condition(client, svc, wait_for_map_count)<br/>test_healthcheck.py:90: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499966173000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;655852e7-693b-422c...017-07-13T17:16:13Z&#39;, &#39;revisionId&#39;: u&#39;1r389&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 1, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = super_client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_healthcheck.py:80: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.10 s</div>
</em><em class="status">failed</em>test_upgrade_start_first_with_health</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:139 (test_upgrade_start_first_with_health)<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_upgrade_start_first_with_health(client, context, super_client):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>                                    scale=1)<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>    <br/>        env.activateservices()<br/>        svc = client.wait_success(svc, 120)<br/>        assert svc.state == &quot;active&quot;<br/>    <br/>        # upgrade the service and<br/>        # check that c3 and c2 got the same ip<br/>        new_launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                             &#39;healthCheck&#39;: {<br/>                                 &#39;port&#39;: 80,<br/>                             }}<br/>        strategy = {&quot;launchConfig&quot;: new_launch_config,<br/>                    &quot;intervalMillis&quot;: 100,<br/>                    &quot;startFirst&quot;: True}<br/>        svc.upgrade_action(inServiceStrategy=strategy)<br/>    <br/>        def wait_for_map_count(service):<br/>            m = super_client. \<br/>                list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>            return len(m) == 2<br/>    <br/>        def wait_for_managed_map_count(service):<br/>            m = super_client. \<br/>                list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;,<br/>                                      upgrade=False)<br/>            return len(m) == 1<br/>    <br/>&gt;       wait_for_condition(client, svc, wait_for_map_count)<br/>test_healthcheck.py:179: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499966174000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;39ea9d78-7780-445c...017-07-13T17:16:14Z&#39;, &#39;revisionId&#39;: u&#39;1r391&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 1, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = super_client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_healthcheck.py:169: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">550 ms</div>
</em><em class="status">failed</em>test_health_check_create_instance</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:204 (test_health_check_create_instance)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>    def test_health_check_create_instance(super_client, context):<br/>        c = context.create_container(healthCheck={<br/>            &#39;port&#39;: 80,<br/>        })<br/>    <br/>        assert c.healthCheck.port == 80<br/>    <br/>        c = super_client.reload(c)<br/>&gt;       hci = find_one(c.healthcheckInstances)<br/>test_healthcheck.py:213: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...1d5-f9a3-4e26-b10b-ea8f3373b689&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;healthcheckInstances&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;healthcheckInstances&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.03 s</div>
</em><em class="status">failed</em>test_health_check_create_service</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:247 (test_health_check_create_service)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_health_check_create_service(super_client, context, client):<br/>&gt;       service = _create_svc_w_healthcheck(client, context)<br/>test_healthcheck.py:249: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:245: in _create_svc_w_healthcheck<br/>    }, stackId=env.id)<br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f96184a3b18&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">15.87 s</div>
</em><em class="status">failed</em>test_health_check_ip_retain</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:366 (test_health_check_ip_retain)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_health_check_ip_retain(super_client, context, client):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        service = _create_and_activate_svc(client, 1, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80,<br/>            }<br/>&gt;       }, stackId=env.id, retainIp=True)<br/>test_healthcheck.py:374: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f96184896e0&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">15.89 s</div>
</em><em class="status">failed</em>test_health_state_stack</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:431 (test_health_state_stack)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_health_state_stack(super_client, context, client):<br/>        c = client<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        service = _create_and_activate_svc(client, 1, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80,<br/>            }<br/>&gt;       }, stackId=env.id)<br/>test_healthcheck.py:440: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f9618350230&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">15.88 s</div>
</em><em class="status">failed</em>test_health_state_start_once</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:486 (test_health_state_start_once)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_health_state_start_once(super_client, context, client):<br/>        c = client<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        labels = {&quot;io.rancher.container.start_once&quot;: &quot;true&quot;}<br/>        svc = _create_and_activate_svc(client, 1, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80,<br/>            },<br/>            &#39;labels&#39;: labels<br/>&gt;       }, stackId=env.id)<br/>test_healthcheck.py:497: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f961833fc08&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">15.94 s</div>
</em><em class="status">failed</em>test_health_state_sidekick_start_once</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:530 (test_health_state_sidekick_start_once)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_health_state_sidekick_start_once(super_client, context, client):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        labels = {&quot;io.rancher.container.start_once&quot;: &quot;true&quot;}<br/>        slc = {&#39;imageUuid&#39;: context.image_uuid, &#39;name&#39;: &quot;test1&quot;}<br/>        svc = _create_and_activate_svc(client, 2, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid,<br/>            &#39;labels&#39;: labels<br/>&gt;       }, stackId=env.id, secondaryLaunchConfigs=[slc])<br/>test_healthcheck.py:538: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f961834f848&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">510 ms</div>
</em><em class="status">failed</em>test_health_state_selectors</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:543 (test_health_state_selectors)<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_health_state_selectors(context, client):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        labels = {&#39;foo&#39;: &quot;bar&quot;}<br/>        container1 = client.create_container(imageUuid=context.image_uuid,<br/>                                             startOnCreate=True,<br/>                                             labels=labels)<br/>        container1 = client.wait_success(container1)<br/>        assert container1.state == &quot;running&quot;<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: &quot;rancher/none&quot;}<br/>        service = _create_and_activate_svc(client, 1, name=random_str(),<br/>                                           stackId=env.id,<br/>                                           launchConfig=launch_config,<br/>&gt;                                          selectorContainer=&quot;foo=bar&quot;)<br/>test_healthcheck.py:557: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:124: in _create_and_activate_svc<br/>    svc = client.create_service(kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>text = &#39;{&quot;id&quot;:&quot;84faefc8-58e5-4d25-ad6c-a0a5e858f267&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:422,&quot;code&quot;:&quot;InvalidOption&quot;,&quot;message&quot;:null,&quot;detail&quot;:null,&quot;fieldName&quot;:&quot;Image is required when selector is not passed in&quot;,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;InvalidOption : None\n{&#39;status&#39;: 422, &#39;code&#39;: u&#39;InvalidOption&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;fieldName&#39;: u&#39;Image is required when selector is not passed in&#39;, &#39;message&#39;: None, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;84faefc8-58e5-4d25-ad6c-a0a5e858f267&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">15.99 s</div>
</em><em class="status">failed</em>test_svc_health_state</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:565 (test_svc_health_state)<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_svc_health_state(context, client):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: context.image_uuid}<br/>        service = _create_and_activate_svc(client, 1, name=random_str(),<br/>                                           stackId=env.id,<br/>&gt;                                          launchConfig=launch_config)<br/>test_healthcheck.py:572: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f961814c578&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.19 s</div>
</em><em class="status">failed</em>test_health_check_init_timeout</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:578 (test_health_check_init_timeout)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_health_check_init_timeout(super_client, context, client):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        service = _create_and_activate_svc(client, 1, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80,<br/>                &#39;initializingTimeout&#39;: 2000,<br/>            }<br/>&gt;       }, stackId=env.id)<br/>test_healthcheck.py:587: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f9618166140&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">15.99 s</div>
</em><em class="status">failed</em>test_health_check_reinit_timeout</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:604 (test_health_check_reinit_timeout)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_health_check_reinit_timeout(super_client, context, client):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        service = _create_and_activate_svc(client, 1, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80,<br/>                &#39;reinitializingTimeout&#39;: 1,<br/>            }<br/>&gt;       }, stackId=env.id)<br/>test_healthcheck.py:613: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f9618156320&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">15.91 s</div>
</em><em class="status">failed</em>test_health_check_bad_external_timestamp</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:647 (test_health_check_bad_external_timestamp)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_health_check_bad_external_timestamp(super_client, context, client):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        service = _create_and_activate_svc(client, 1, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80,<br/>            }<br/>&gt;       }, stackId=env.id)<br/>test_healthcheck.py:655: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f9618069de8&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">15.93 s</div>
</em><em class="status">failed</em>test_health_check_noop</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:674 (test_health_check_noop)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_health_check_noop(super_client, context, client):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        svc = _create_and_activate_svc(client, 1, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80,<br/>                &#39;strategy&#39;: &#39;none&#39;<br/>            }<br/>&gt;       }, stackId=env.id)<br/>test_healthcheck.py:683: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f961809c230&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.21 s</div>
</em><em class="status">failed</em>test_health_check_default</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:719 (test_health_check_default)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_health_check_default(super_client, context, client):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        svc = _create_and_activate_svc(client, 1, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80<br/>            }<br/>&gt;       }, stackId=env.id)<br/>test_healthcheck.py:727: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f961809cde8&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">21.42 s</div>
</em><em class="status">failed</em>test_health_check_bad_agent</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:748 (test_health_check_bad_agent)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_health_check_bad_agent(super_client, context, client):<br/>        # Create another host to get the agent from that host<br/>        host2 = super_client.reload(register_simulated_host(context))<br/>        # register one more host to ensure<br/>        # there is at least one more host<br/>        # to schedule healtcheck on<br/>        register_simulated_host(context)<br/>    <br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        s = _create_and_activate_svc(client, &#39;global&#39;, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80,<br/>            },<br/>            &quot;labels&quot;: {<br/>                &#39;io.rancher.scheduler.global&#39;: &#39;true&#39;<br/>            }<br/>&gt;       }, stackId=env.id)<br/>test_healthcheck.py:766: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:132: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) &gt;= len(dus))<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f9618166140&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">20.67 s</div>
</em><em class="status">failed</em>test_health_check_reconcile</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:791 (test_health_check_reconcile)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961eedead0&gt;<br/>    def test_health_check_reconcile(super_client, new_context):<br/>        super_client.reload(register_simulated_host(new_context))<br/>        super_client.reload(register_simulated_host(new_context))<br/>        client = new_context.client<br/>    <br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        service = _create_and_activate_svc(client, 1, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: new_context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80,<br/>            }<br/>&gt;       }, stackId=env.id)<br/>test_healthcheck.py:803: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f961c9b7d70&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">17.69 s</div>
</em><em class="status">failed</em>test_health_check_all_hosts_removed_reconcile</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:862 (test_health_check_all_hosts_removed_reconcile)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f962230f090&gt;<br/>    def test_health_check_all_hosts_removed_reconcile(super_client, new_context):<br/>        super_client.reload(register_simulated_host(new_context))<br/>        client = new_context.client<br/>    <br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        service = _create_and_activate_svc(client, 1, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: new_context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80,<br/>            }<br/>&gt;       }, stackId=env.id)<br/>test_healthcheck.py:873: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f9621988b18&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">189 ms</div>
</em><em class="status">failed</em>test_health_check_host_disconnected_reconcile</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:919 (test_health_check_host_disconnected_reconcile)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961c359c90&gt;<br/>    def test_health_check_host_disconnected_reconcile(super_client, new_context):<br/>        client = new_context.client<br/>    <br/>        # Create service<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        service = client.create_service(name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: new_context.image_uuid,<br/>            &#39;healthCheck&#39;: {&#39;port&#39;: 80},<br/>        }, stackId=env.id)<br/>        service = client.wait_success(service).activate()<br/>    <br/>        # Get and check the healthcheck resources<br/>&gt;       maps = _wait_until_active_map_count(service, 1, client)<br/>test_healthcheck.py:932: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:1214: in _wait_until_active_map_count<br/>    wait_for_condition(client, service, wait_for_map_count)<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499966434000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;he...-07-13T17:20:34Z&#39;, &#39;revisionId&#39;: u&#39;1r411&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_healthcheck.py:1210: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">17.04 s</div>
</em><em class="status">failed</em>test_hosts_removed_reconcile_when_init</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:992 (test_hosts_removed_reconcile_when_init)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9616e16350&gt;<br/>    def test_hosts_removed_reconcile_when_init(super_client, new_context):<br/>        super_client.reload(register_simulated_host(new_context))<br/>        client = new_context.client<br/>    <br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        service = _create_and_activate_svc(client, 1, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: new_context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80,<br/>            }<br/>&gt;       }, stackId=env.id)<br/>test_healthcheck.py:1003: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f9616c13668&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">25.27 s</div>
</em><em class="status">failed</em>test_health_check_host_remove</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:1037 (test_health_check_host_remove)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9615577dd0&gt;<br/>    def test_health_check_host_remove(super_client, new_context):<br/>        client = new_context.client<br/>        # create 4 hosts for healtcheck as one of them would be removed later<br/>        super_client.reload(register_simulated_host(new_context))<br/>        super_client.reload(register_simulated_host(new_context))<br/>        super_client.reload(register_simulated_host(new_context))<br/>        super_client.reload(register_simulated_host(new_context))<br/>    <br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        service = _create_and_activate_svc(client, 5, name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: new_context.image_uuid,<br/>            &#39;healthCheck&#39;: {<br/>                &#39;port&#39;: 80,<br/>            }, &quot;labels&quot;: {<br/>                &#39;io.rancher.scheduler.global&#39;: &#39;true&#39;<br/>                }<br/>&gt;       }, stackId=env.id)<br/>test_healthcheck.py:1054: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f96152e95f0&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">18.86 s</div>
</em><em class="status">failed</em>test_healtcheck</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:1088 (test_healtcheck)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961e3074d0&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_healtcheck(new_context, super_client):<br/>        client = new_context.client<br/>        image_uuid = new_context.image_uuid<br/>        stack = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        host = register_simulated_host(new_context)<br/>        client.wait_success(host)<br/>    <br/>        health_check = {&quot;name&quot;: &quot;check1&quot;, &quot;responseTimeout&quot;: 3,<br/>                        &quot;interval&quot;: 4, &quot;healthyThreshold&quot;: 5,<br/>                        &quot;unhealthyThreshold&quot;: 6, &quot;requestLine&quot;: &quot;index.html&quot;,<br/>                        &quot;port&quot;: 200}<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;healthCheck&quot;: health_check}<br/>        service = _create_and_activate_svc(client, 1, name=random_str(),<br/>                                           stackId=stack.id,<br/>&gt;                                          launchConfig=launch_config)<br/>test_healthcheck.py:1103: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f961a6a15f0&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">170 ms</div>
</em><em class="status">failed</em>test_external_svc_healthcheck</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:1153 (test_external_svc_healthcheck)<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>    def test_external_svc_healthcheck(client, context):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>    <br/>        # test that external service was set with healtcheck<br/>        health_check = {&quot;name&quot;: &quot;check1&quot;, &quot;responseTimeout&quot;: 3,<br/>                        &quot;interval&quot;: 4, &quot;healthyThreshold&quot;: 5,<br/>                        &quot;unhealthyThreshold&quot;: 6, &quot;requestLine&quot;: &quot;index.html&quot;,<br/>                        &quot;port&quot;: 200}<br/>        ips = [&quot;72.22.16.5&quot;, &#39;192.168.0.10&#39;]<br/>        service = client.create_externalService(name=random_str(),<br/>                                                stackId=env.id,<br/>                                                externalIpAddresses=ips,<br/>                                                healthCheck=health_check)<br/>        service = client.wait_success(service)<br/>&gt;       assert service.healthCheck.name == &quot;check1&quot;<br/>test_healthcheck.py:1168: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;requestLine&#39;: u&#39;index.html&#39;, &#39;initializingTimeout&#39;: 120000, &#39;interval&#39;: 4, &#39;strategy&#39;: u&#39;recreate&#39;, &#39;healthyThreshold&#39;: 5, &#39;responseTimeout&#39;: 3, &#39;unhealthyThreshold&#39;: 6, &#39;port&#39;: 200}<br/>k = &#39;name&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;name&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">4.02 s</div>
</em><em class="status">passed</em>test_global_service_health</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">19.61 s</div>
</em><em class="status">failed</em>test_stack_health_state</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:1284 (test_stack_health_state)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>    def test_stack_health_state(super_client, context, client):<br/>        c = client<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        svc = client.create_service(name=&#39;test&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid<br/>        }, stackId=env.id)<br/>        svc = client.wait_success(client.wait_success(svc).activate())<br/>        assert svc.state == &#39;active&#39;<br/>    <br/>        wait_for(lambda: super_client.reload(svc).healthState == &#39;healthy&#39;)<br/>        wait_for(lambda: c.reload(env).healthState == &#39;healthy&#39;)<br/>        _remove_service(svc)<br/>&gt;       wait_for(lambda: super_client.reload(svc).state == &#39;removed&#39;)<br/>test_healthcheck.py:1297: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f96197f90c8&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">275 ms</div>
</em><em class="status">failed</em>test_balancer_svc_upgrade</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:1363 (test_balancer_svc_upgrade)<br/>client = &lt;cattle.Client object at 0x7f961b5a2fd0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9618543e90&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_balancer_svc_upgrade(client, context, super_client):<br/>        env = client.create_stack(name=&#39;env-&#39; + random_str())<br/>        image_uuid = context.image_uuid<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>        lb_svc = client. \<br/>            create_loadBalancerService(name=random_str(),<br/>                                       stackId=env.id,<br/>                                       launchConfig=launch_config,<br/>                                       lbConfig={})<br/>    <br/>        lb_svc = client.wait_success(lb_svc)<br/>        lb_svc = lb_svc.activate()<br/>        assert len(lb_svc.launchConfig.labels) == 2<br/>        assert lb_svc.launchConfig.healthCheck is not None<br/>&gt;       m = _wait_until_active_map_count(lb_svc, 1, client)<br/>test_healthcheck.py:1379: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:1214: in _wait_until_active_map_count<br/>    wait_for_condition(client, service, wait_for_map_count)<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499966544000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;he...3&#39;, &#39;created&#39;: u&#39;2017-07-13T17:22:24Z&#39;, &#39;revisionId&#39;: u&#39;1r422&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_healthcheck.py:1210: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">452 ms</div>
</em><em class="status">failed</em>test_standalone_health_check_recreate</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:1430 (test_standalone_health_check_recreate)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961d3c4d50&gt;<br/>    def test_standalone_health_check_recreate(super_client, new_context):<br/>        c1 = new_context.create_container(name=&#39;healthcheck-&#39; + random_str(),<br/>                                          healthCheck={&#39;port&#39;: 80})<br/>    <br/>        assert c1.healthCheck.port == 80<br/>    <br/>        c1 = super_client.reload(c1)<br/>&gt;       hci = find_one(c1.healthcheckInstances)<br/>test_healthcheck.py:1438: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...78c-653c-4a48-b50b-a3dd1e2b682d&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;healthcheckInstances&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;healthcheckInstances&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">487 ms</div>
</em><em class="status">failed</em>test_standalone_health_check_noop</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:1479 (test_standalone_health_check_noop)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f961c4c5150&gt;<br/>    def test_standalone_health_check_noop(super_client, new_context):<br/>        c1 = new_context.create_container(name=&#39;healthcheck-&#39; + random_str(),<br/>                                          healthCheck={&#39;port&#39;: 80,<br/>                                                       &#39;strategy&#39;: &#39;none&#39;})<br/>    <br/>        assert c1.healthCheck.port == 80<br/>    <br/>        c1 = super_client.reload(c1)<br/>&gt;       hci = find_one(c1.healthcheckInstances)<br/>test_healthcheck.py:1488: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...076-9d87-4ce2-9380-55d18f690ff5&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;healthcheckInstances&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;healthcheckInstances&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">511 ms</div>
</em><em class="status">failed</em>test_standalone_container_lb_replacement</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:1503 (test_standalone_container_lb_replacement)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9613f85a10&gt;<br/>    def test_standalone_container_lb_replacement(super_client, new_context):<br/>        client = new_context.client<br/>        c1 = new_context.create_container(name=random_str(),<br/>                                          healthCheck={&#39;port&#39;: 80})<br/>        c1 = super_client.reload(c1)<br/>&gt;       hci = find_one(c1.healthcheckInstances)<br/>test_healthcheck.py:1509: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...0ea-15ea-4a53-bbe2-9a1cec586009&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;healthcheckInstances&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;healthcheckInstances&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.02 s</div>
</em><em class="status">failed</em>test_unheatlhy_du_volume</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_healthcheck.py:1561 (test_unheatlhy_du_volume)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f96184d4b50&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_unheatlhy_du_volume(new_context, super_client):<br/>        client = new_context.client<br/>        image_uuid = new_context.image_uuid<br/>        opts = {&#39;foo&#39;: &#39;true&#39;, &#39;bar&#39;: &#39;true&#39;}<br/>        stack = client.create_stack(name=random_str())<br/>        stack = client.wait_success(stack)<br/>    <br/>        client.create_volumeTemplate(name=&quot;foo&quot;, driver=&quot;nfs&quot;,<br/>                                     driverOpts=opts,<br/>                                     stackId=stack.id,<br/>                                     perContainer=True)<br/>    <br/>        # create service<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;dataVolumes&quot;: &quot;foo:/bar&quot;,<br/>                         &quot;healthCheck&quot;: {&#39;port&#39;: 80}}<br/>        svc = _create_and_activate_svc(client, 1, name=random_str(),<br/>                                       stackId=stack.id,<br/>                                       launchConfig=launch_config,<br/>&gt;                                      scale=1)<br/>test_healthcheck.py:1580: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_healthcheck.py:134: in _create_and_activate_svc<br/>    wait_for(lambda: len(client.reload(svc).instances()) == count)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f961f61a0c8&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">20.67 s</div>
</em>test_host</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">586 ms</div>
</em><em class="status">passed</em>test_host_deactivate</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">226 ms</div>
</em><em class="status">passed</em>test_host_deactivate_two_hosts</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">148 ms</div>
</em><em class="status">passed</em>test_host_activate</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">7 ms</div>
</em><em class="status">failed</em>test_host_purge</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_host.py:60 (test_host_purge)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9616099190&gt;<br/>    def test_host_purge(super_client, new_context):<br/>        account_id = new_context.project.id<br/>        image_uuid = &#39;{}&#39;.format(random_num())<br/>        host = new_context.host<br/>&gt;       phy_host = super_client.reload(host).physicalHost()<br/>test_host.py:65: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499966608000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...8-83a8-4920-be70-38a3790cabda&#39;, &#39;created&#39;: u&#39;2017-07-13T17:23:28Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>k = &#39;physicalHost&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;physicalHost&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">918 ms</div>
</em><em class="status">passed</em>test_host_container_actions_inactive</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.95 s</div>
</em><em class="status">failed</em>test_host_create_container_inactive</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_host.py:116 (test_host_create_container_inactive)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f96152fa190&gt;<br/>    def test_host_create_container_inactive(new_context):<br/>        client = new_context.client<br/>        host = new_context.host<br/>        host = client.wait_success(host.deactivate())<br/>        assert host.state == &#39;inactive&#39;<br/>    <br/>&gt;       c = new_context.create_container_no_success()<br/>test_host.py:123: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:124: in create_container_no_success<br/>    return self._create_container(self.client, *args, **kw)<br/>common_fixtures.py:131: in _create_container<br/>    return self.client.wait_transitioning(c)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f96118c3d10&gt;<br/>obj = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...de0-b745-4489-83d0-f32e92954078&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [container:1i4729] to be done after 16.7588949203 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">536 ms</div>
</em><em class="status">passed</em>test_host_create_container_requested_inactive</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">589 ms</div>
</em><em class="status">passed</em>test_host_agent_state</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">650 ms</div>
</em><em class="status">failed</em>test_host_remove</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_host.py:159 (test_host_remove)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f96154d8cd0&gt;<br/>    def test_host_remove(super_client, new_context):<br/>        client = new_context.client<br/>    <br/>        container = new_context.create_container()<br/>        host = super_client.reload(new_context.host)<br/>        pool = find_one(host.storagePools)<br/>        agent = host.agent()<br/>        agent_account = agent.account()<br/>&gt;       phy_host = new_context.client.wait_success(host.physicalHost())<br/>test_host.py:168: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499966662000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...4a92-94d2-f6db12759ba6&#39;, &#39;created&#39;: u&#39;2017-07-13T17:24:22Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: [u&#39;1i4746&#39;]}<br/>k = &#39;physicalHost&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;physicalHost&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">6 ms</div>
</em><em class="status">failed</em>test_host_dockersocket</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_host.py:210 (test_host_dockersocket)<br/>context = &lt;core.common_fixtures.Context object at 0x7f9616fa8d10&gt;<br/>client = &lt;cattle.Client object at 0x7f961cdaef90&gt;<br/>    def test_host_dockersocket(context, client):<br/>        host = client.reload(context.host)<br/>&gt;       dockersocket = host.dockersocket()<br/>test_host.py:213: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;localStorageMb&#39;: None, &#39;createdTS&#39;: 1499966668000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;createTsFields&#39;: True, &#39;accoun...im&#39;, &#39;name&#39;: u&#39;testhost-c055030c-e15e-4ca6-8d91-21bfe610d3df&#39;, &#39;created&#39;: u&#39;2017-07-13T17:24:28Z&#39;, &#39;instanceIds&#39;: None}<br/>k = &#39;dockersocket&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;dockersocket&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">49 ms</div>
</em><em class="status">failed</em>test_host_dockersocket_inactive</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_host.py:217 (test_host_dockersocket_inactive)<br/>context = &lt;core.common_fixtures.Context object at 0x7f9616fa8d10&gt;<br/>client = &lt;cattle.Client object at 0x7f961cdaef90&gt;<br/>    def test_host_dockersocket_inactive(context, client):<br/>        host = client.wait_success(context.host.deactivate())<br/>&gt;       dockersocket = host.dockersocket()<br/>test_host.py:220: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;localStorageMb&#39;: None, &#39;createdTS&#39;: 1499966668000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;createTsFields&#39;: True, &#39;accoun...im&#39;, &#39;name&#39;: u&#39;testhost-c055030c-e15e-4ca6-8d91-21bfe610d3df&#39;, &#39;created&#39;: u&#39;2017-07-13T17:24:28Z&#39;, &#39;instanceIds&#39;: None}<br/>k = &#39;dockersocket&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;dockersocket&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em>test_host_api_proxy_token</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_host_api_proxy_token_create</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_host_api_proxy_token.py:16 (test_host_api_proxy_token_create)<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499966674000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...b-025f-4dbe-a90e-6229b086706b&#39;, &#39;created&#39;: u&#39;2017-07-13T17:24:34Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>agent_cli = &lt;cattle.Client object at 0x7f961241de90&gt;<br/>    def test_host_api_proxy_token_create(host, agent_cli):<br/>        # Token should be created with the supplied reportedUuid in it.<br/>        token = agent_cli.create_host_api_proxy_token(<br/>&gt;           reportedUuid=host.data.fields[&#39;reportedUuid&#39;])<br/>E       KeyError: &#39;reportedUuid&#39;<br/>test_host_api_proxy_token.py:20: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_bad_host</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_host_api_proxy_token.py:30 (test_bad_host)<br/>host = {&#39;localStorageMb&#39;: None, &#39;reportedUuid&#39;: None, &#39;createdTS&#39;: 1499966674000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;removeAf...b-025f-4dbe-a90e-6229b086706b&#39;, &#39;created&#39;: u&#39;2017-07-13T17:24:34Z&#39;, &#39;apiProxy&#39;: None, &#39;uri&#39;: None, &#39;instanceIds&#39;: None}<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9617834c50&gt;<br/>    def test_bad_host(host, new_context):<br/>        # If a host doesn&#39;t belong to agent submitting the request, it should fail.<br/>        agent_cli = new_context.agent_client<br/>    <br/>        with pytest.raises(ApiError) as e:<br/>            agent_cli.create_host_api_proxy_token(<br/>&gt;               reportedUuid=host.data.fields[&#39;reportedUuid&#39;])<br/>E           KeyError: &#39;reportedUuid&#39;<br/>test_host_api_proxy_token.py:37: KeyError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">63 ms</div>
</em>test_host_stats</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">12 ms</div>
</em><em class="status">failed</em>test_stats_host</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_hoststats_host</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">45 ms</div>
</em><em class="status">passed</em>test_hoststats_project</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_stats_container</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def docker_client(super_client):<br/>        for host in super_client.list_host(state=&#39;active&#39;, remove_null=True,<br/>                                           kind=&#39;docker&#39;):<br/>            key = super_client.create_api_key(accountId=host.accountId)<br/>            super_client.wait_success(key)<br/>    <br/>            wait_for(lambda: host.agent().state == &#39;active&#39;)<br/>            wait_for(lambda: len(host.storagePools()) &gt; 0 and<br/>                     host.storagePools()[0].state == &#39;active&#39;)<br/>            return api_client(key.publicValue, key.secretValue)<br/>    <br/>&gt;       raise Exception(&#39;Failed to find docker host, please register one&#39;)<br/>E       Exception: Failed to find docker host, please register one<br/>test_docker.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">6 ms</div>
</em><em class="status">passed</em>test_host_api_key_download</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">6.74 s</div>
</em>test_host_template</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">6.74 s</div>
</em><em class="status">failed</em>test_host_template_create</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f96156dc750&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def service_client(admin_user_client):<br/>        return create_context(admin_user_client, create_project=False,<br/>&gt;                             add_host=False, kind=&#39;service&#39;).user_client<br/>test_host_template.py:8: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f96144252d0&gt;<br/>account = {&#39;kind&#39;: u&#39;service&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499966694000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: ...&#39;: u&#39;1i!rancher_id:643&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f9614232e10&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">3.42 s</div>
</em>test_k8s</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">467 ms</div>
</em><em class="status">passed</em>test_create_k8s_container_no_k8s</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">2.95 s</div>
</em><em class="status">passed</em>test_create_k8s_container_no_k8s_fail</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em>test_label</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_edit_host_label</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_label.py:12 (test_edit_host_label)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f960f396e10&gt;<br/>    def test_edit_host_label(super_client, context):<br/>        host = context.host<br/>&gt;       _clean_hostlabelmaps_for_host(super_client, host)<br/>test_label.py:15: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_label.py:5: in _clean_hostlabelmaps_for_host<br/>    for label in host.hostLabels():<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;localStorageMb&#39;: None, &#39;createdTS&#39;: 1499966720000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;createTsFields&#39;: True, &#39;accoun...im&#39;, &#39;name&#39;: u&#39;testhost-206a9539-f663-4d76-9937-2c17c7dabd28&#39;, &#39;created&#39;: u&#39;2017-07-13T17:25:20Z&#39;, &#39;instanceIds&#39;: None}<br/>k = &#39;hostLabels&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;hostLabels&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">6.33 s</div>
</em>test_link</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.41 s</div>
</em><em class="status">failed</em>test_link_instance_stop_start</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_link.py:3 (test_link_instance_stop_start)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>client = &lt;cattle.Client object at 0x7f960da6f610&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f960cbc0b90&gt;<br/>    def test_link_instance_stop_start(super_client, client, context):<br/>        target1 = context.create_container(ports=[&#39;180&#39;, &#39;122/udp&#39;])<br/>        target2 = context.create_container(ports=[&#39;280&#39;, &#39;222/udp&#39;])<br/>    <br/>        c = context.create_container(instanceLinks={<br/>            &#39;target1_link&#39;: target1.id,<br/>            &#39;target2_link&#39;: target2.id})<br/>    <br/>        assert c.state == &#39;running&#39;<br/>&gt;       assert len(c.instanceLinks()) &gt; 0<br/>test_link.py:13: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...cdb-f455-4b82-8e93-17853c328cbd&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;instanceLinks&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;instanceLinks&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.35 s</div>
</em><em class="status">failed</em>test_link_create</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_link.py:28 (test_link_create)<br/>client = &lt;cattle.Client object at 0x7f960da6f610&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f960cbc0b90&gt;<br/>    def test_link_create(client, super_client, context):<br/>        target1 = context.create_container(ports=[&#39;180&#39;, &#39;122/udp&#39;])<br/>        target2 = context.create_container(ports=[&#39;280&#39;, &#39;222/udp&#39;])<br/>    <br/>        c = context.create_container(instanceLinks={<br/>            &#39;target1_link&#39;: target1.id,<br/>            &#39;target2_link&#39;: target2.id})<br/>    <br/>        assert c.state == &#39;running&#39;<br/>    <br/>&gt;       assert len(c.instanceLinks()) == 2<br/>test_link.py:39: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...2bc-80cb-4ade-9d5b-e691cc92cb7b&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;instanceLinks&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;instanceLinks&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.40 s</div>
</em><em class="status">failed</em>test_link_update</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_link.py:47 (test_link_update)<br/>client = &lt;cattle.Client object at 0x7f960da6f610&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f960cbc0b90&gt;<br/>    def test_link_update(client, context):<br/>        target1 = context.create_container()<br/>        target2 = context.create_container()<br/>    <br/>        c = context.create_container(instanceLinks={<br/>            &#39;target1_link&#39;: target1.id,<br/>        })<br/>    <br/>&gt;       link = c.instanceLinks()[0]<br/>test_link.py:56: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...8c1-3960-4d87-a6ca-7350bd3537b9&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;instanceLinks&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;instanceLinks&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">553 ms</div>
</em><em class="status">failed</em>test_link_remove</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_link.py:67 (test_link_remove)<br/>client = &lt;cattle.Client object at 0x7f960da6f610&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f960cbc0b90&gt;<br/>    def test_link_remove(client, context):<br/>        target1 = context.create_container()<br/>    <br/>        c = client.create_container(imageUuid=context.image_uuid,<br/>                                    startOnCreate=False,<br/>                                    instanceLinks={<br/>                                        &#39;target1_link&#39;: target1.id})<br/>        c = client.wait_success(c)<br/>    <br/>&gt;       links = c.instanceLinks()<br/>test_link.py:77: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...a44-c679-4967-9862-3b596e469f1f&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;instanceLinks&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;instanceLinks&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">456 ms</div>
</em><em class="status">failed</em>test_null_links</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_link.py:98 (test_null_links)<br/>context = &lt;core.common_fixtures.Context object at 0x7f960cbc0b90&gt;<br/>    def test_null_links(context):<br/>        c = context.create_container(instanceLinks={<br/>            &#39;null_link&#39;: None<br/>        })<br/>    <br/>&gt;       links = c.instanceLinks()<br/>test_link.py:104: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...0e3-7892-428e-b803-c565e3846ffe&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;instanceLinks&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;instanceLinks&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">512 ms</div>
</em><em class="status">passed</em>test_link_timeout</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">648 ms</div>
</em><em class="status">failed</em>test_link_remove_instance_restart</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_link.py:125 (test_link_remove_instance_restart)<br/>client = &lt;cattle.Client object at 0x7f960da6f610&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f960cbc0b90&gt;<br/>    def test_link_remove_instance_restart(client, super_client, context):<br/>        target1 = context.create_container()<br/>    <br/>        c = client.create_container(imageUuid=context.image_uuid,<br/>                                    startOnCreate=False,<br/>                                    instanceLinks={<br/>                                        &#39;target1_link&#39;: target1.id})<br/>        c = client.wait_success(c)<br/>    <br/>&gt;       links = c.instanceLinks()<br/>test_link.py:135: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...c63-435e-433f-a4f5-4d55b0f0537c&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;instanceLinks&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;instanceLinks&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">1.09 s</div>
</em>test_local_auth</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.09 s</div>
</em><em class="status">failed</em>test_local_login</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_local_login_only_create1_project</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_local_login_change_password</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_local_incorrect_login</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_local_project_members</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_local_project_create</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_get_correct_identity</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_search_identity_name</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_search_identity_name_like</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_inactive_active_login_account</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_deleted_account_login</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_list_members_inactive_deleted_member</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_cant_create_multiple_users_same_login</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_passwords_non_alpha_numeric_characters</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_url_response_positive</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_url_response_negative</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;turn_on_off_local_auth&#39; for &lt;Function &#39;test_local_login&#39;&gt;&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def turn_on_off_local_auth(request, admin_user_client):<br/>        username = random_str()<br/>        password = random_str()<br/>        admin_user_client.create_localAuthConfig(enabled=True,<br/>                                                 username=username,<br/>&gt;                                                password=password)<br/>test_local_auth.py:28: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f961064da50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;d975d7a9-9654-43e7-be7c-680506015c53&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:500,&quot;code&quot;:&quot;Internal Server Error&quot;,&quot;message&quot;:&quot;Internal Server Error&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Internal Server Error : Internal Server Error\n{&#39;status&#39;: 500, &#39;code&#39;: u&#39;Internal Server Error&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Internal Server Error&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;d975d7a9-9654-43e7-be7c-680506015c53&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">57 ms</div>
</em>test_machine_driver</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">57 ms</div>
</em><em class="status">failed</em>test_machine_driver_name</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_machine_driver.py:3 (test_machine_driver_name)<br/>admin_user_client = &lt;cattle.Client object at 0x7f960cabb5d0&gt;<br/>    def test_machine_driver_name(admin_user_client):<br/>        n = random_str().replace(&#39;-&#39;, &#39;F&#39;)<br/>        url = &#39;http://foo/bar/docker-machine-driver-{}-v1.0-tar.gz&#39;.format(n)<br/>        md = admin_user_client.create_machine_driver(url=url)<br/>&gt;       assert md.name == n<br/>E       assert None == &#39;randomF346695F1499966737&#39;<br/>E        +  where None = {&#39;createdTS&#39;: 1499966737000, &#39;defaultActive&#39;: False, &#39;removeTime&#39;: None, &#39;activateOnCreate&#39;: False, &#39;createTsFields&#39;: ..., &#39;url&#39;: u&#39;http://foo/bar/docker-machine-driver-randomF346695F1499966737-v1.0-tar.gz&#39;, &#39;checksum&#39;: None, &#39;uiUrl&#39;: None}.name<br/>test_machine_driver.py:8: AssertionError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">1 ms</div>
</em>test_machines</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_host_resource_field_overrides</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;disable_go_machine_service&#39; for &lt;Function &#39;test_host_resource_field_overrides&#39;&gt;&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def disable_go_machine_service(request, super_client):<br/>        # Ensuring the goMachineService handler is disabled lets us ensure these<br/>        # tests are ran without actually calling docker machine and keeps them<br/>        # lightweight. Reenables any disabled handlers at the end.<br/>        name = &quot;goMachineService&quot;<br/>&gt;       svc_handlers = super_client.list_external_handler(<br/>            state=&#39;active&#39;, name_like=name)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_external_handler&#39;<br/>test_physical_host.py:10: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_host_lifecycle</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;disable_go_machine_service&#39; for &lt;Function &#39;test_host_resource_field_overrides&#39;&gt;&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def disable_go_machine_service(request, super_client):<br/>        # Ensuring the goMachineService handler is disabled lets us ensure these<br/>        # tests are ran without actually calling docker machine and keeps them<br/>        # lightweight. Reenables any disabled handlers at the end.<br/>        name = &quot;goMachineService&quot;<br/>&gt;       svc_handlers = super_client.list_external_handler(<br/>            state=&#39;active&#39;, name_like=name)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_external_handler&#39;<br/>test_physical_host.py:10: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_machine_lifecycle</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;disable_go_machine_service&#39; for &lt;Function &#39;test_host_resource_field_overrides&#39;&gt;&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def disable_go_machine_service(request, super_client):<br/>        # Ensuring the goMachineService handler is disabled lets us ensure these<br/>        # tests are ran without actually calling docker machine and keeps them<br/>        # lightweight. Reenables any disabled handlers at the end.<br/>        name = &quot;goMachineService&quot;<br/>&gt;       svc_handlers = super_client.list_external_handler(<br/>            state=&#39;active&#39;, name_like=name)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_external_handler&#39;<br/>test_physical_host.py:10: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_machine_driver_config</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;disable_go_machine_service&#39; for &lt;Function &#39;test_host_resource_field_overrides&#39;&gt;&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def disable_go_machine_service(request, super_client):<br/>        # Ensuring the goMachineService handler is disabled lets us ensure these<br/>        # tests are ran without actually calling docker machine and keeps them<br/>        # lightweight. Reenables any disabled handlers at the end.<br/>        name = &quot;goMachineService&quot;<br/>&gt;       svc_handlers = super_client.list_external_handler(<br/>            state=&#39;active&#39;, name_like=name)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_external_handler&#39;<br/>test_physical_host.py:10: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_machine_validation</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;disable_go_machine_service&#39; for &lt;Function &#39;test_host_resource_field_overrides&#39;&gt;&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def disable_go_machine_service(request, super_client):<br/>        # Ensuring the goMachineService handler is disabled lets us ensure these<br/>        # tests are ran without actually calling docker machine and keeps them<br/>        # lightweight. Reenables any disabled handlers at the end.<br/>        name = &quot;goMachineService&quot;<br/>&gt;       svc_handlers = super_client.list_external_handler(<br/>            state=&#39;active&#39;, name_like=name)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_external_handler&#39;<br/>test_physical_host.py:10: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_host_from_host_template</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;disable_go_machine_service&#39; for &lt;Function &#39;test_host_resource_field_overrides&#39;&gt;&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def disable_go_machine_service(request, super_client):<br/>        # Ensuring the goMachineService handler is disabled lets us ensure these<br/>        # tests are ran without actually calling docker machine and keeps them<br/>        # lightweight. Reenables any disabled handlers at the end.<br/>        name = &quot;goMachineService&quot;<br/>&gt;       svc_handlers = super_client.list_external_handler(<br/>            state=&#39;active&#39;, name_like=name)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_external_handler&#39;<br/>test_physical_host.py:10: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1 ms</div>
</em><em class="status">failed</em>test_bar_config_machine</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;disable_go_machine_service&#39; for &lt;Function &#39;test_host_resource_field_overrides&#39;&gt;&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def disable_go_machine_service(request, super_client):<br/>        # Ensuring the goMachineService handler is disabled lets us ensure these<br/>        # tests are ran without actually calling docker machine and keeps them<br/>        # lightweight. Reenables any disabled handlers at the end.<br/>        name = &quot;goMachineService&quot;<br/>&gt;       svc_handlers = super_client.list_external_handler(<br/>            state=&#39;active&#39;, name_like=name)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_external_handler&#39;<br/>test_physical_host.py:10: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_config_link_readonly</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;disable_go_machine_service&#39; for &lt;Function &#39;test_host_resource_field_overrides&#39;&gt;&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def disable_go_machine_service(request, super_client):<br/>        # Ensuring the goMachineService handler is disabled lets us ensure these<br/>        # tests are ran without actually calling docker machine and keeps them<br/>        # lightweight. Reenables any disabled handlers at the end.<br/>        name = &quot;goMachineService&quot;<br/>&gt;       svc_handlers = super_client.list_external_handler(<br/>            state=&#39;active&#39;, name_like=name)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_external_handler&#39;<br/>test_physical_host.py:10: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">2.05 s</div>
</em>test_network</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">303 ms</div>
</em><em class="status">passed</em>test_network_create_defaults</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">371 ms</div>
</em><em class="status">passed</em>test_network_create</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">591 ms</div>
</em><em class="status">passed</em>test_network_purge</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">129 ms</div>
</em><em class="status">passed</em>test_subnet_create_off_network_address</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">318 ms</div>
</em><em class="status">passed</em>test_subnet_create</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_ip_address_create</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_network.py:122 (test_ip_address_create)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>super_account = {&#39;createdTS&#39;: 1499708971000, &#39;createdStackIds&#39;: None, &#39;removeTime&#39;: None, &#39;startedStackIds&#39;: None, &#39;createTsFields&#39;: T...d&#39;: u&#39;superadmin&#39;, &#39;projectTemplateId&#39;: None, &#39;name&#39;: u&#39;superadmin&#39;, &#39;created&#39;: u&#39;2017-07-10T17:49:31Z&#39;, &#39;revision&#39;: 0}<br/>    def test_ip_address_create(super_client, super_account):<br/>&gt;       ip_address = super_client.create_ip_address()<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_ip_address&#39;<br/>test_network.py:124: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">335 ms</div>
</em><em class="status">failed</em>test_ip_address_create_no_address_available</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_network.py:133 (test_ip_address_create_no_address_available)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_ip_address_create_no_address_available(super_client):<br/>        nd = super_client.wait_success(super_client.create_network_driver())<br/>        network = super_client.create_network(networkDriverId=nd.id)<br/>        subnet = super_client.create_subnet(networkAddress=&#39;192.168.0.0&#39;,<br/>                                            cidrSize=&#39;16&#39;,<br/>                                            networkId=network.id,<br/>                                            startAddress=&#39;192.168.0.3&#39;,<br/>                                            endAddress=&#39;192.168.0.5&#39;)<br/>        subnet = super_client.wait_success(subnet)<br/>        assert subnet.state == &#39;active&#39;<br/>        network = super_client.wait_success(network)<br/>        assert network.state == &#39;active&#39;<br/>    <br/>        ip_addresses = []<br/>        ip_address_addresses = []<br/>        for _ in range(3):<br/>&gt;           ip_address = super_client.create_ip_address(networkId=network.id)<br/>E           AttributeError: &#39;Client&#39; object has no attribute &#39;create_ip_address&#39;<br/>test_network.py:150: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_ip_address_defined</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_network.py:169 (test_ip_address_defined)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_ip_address_defined(super_client):<br/>&gt;       ip = super_client.create_ip_address(address=&#39;192.168.192.168&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_ip_address&#39;<br/>test_network.py:171: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">2.44 s</div>
</em>test_network_driver</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.25 s</div>
</em><em class="status">failed</em>test_create_network_driver_create_delete</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_network_driver.py:3 (test_create_network_driver_create_delete)<br/>client = &lt;cattle.Client object at 0x7f960ae4b9d0&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_create_network_driver_create_delete(client, super_client):<br/>        driver_name = &#39;test&#39; + random_str()<br/>        stack = client.create_stack(name=random_str())<br/>        super_client.update(stack, system=True)<br/>        s = client.create_network_driver_service(<br/>            name=random_str(),<br/>            stackId=stack.id,<br/>            networkDriver={<br/>                &#39;name&#39;: driver_name,<br/>            })<br/>    <br/>        s = client.wait_success(s)<br/>        assert s.state == &#39;inactive&#39;<br/>    <br/>        nds = client.list_network_driver(serviceId=s.id,<br/>                                         name=driver_name)<br/>        assert len(nds) == 1<br/>    <br/>        s = client.wait_success(s.activate())<br/>        assert s.state == &#39;active&#39;<br/>    <br/>        nd = find_one(client.list_network_driver, serviceId=s.id, name=driver_name)<br/>        nd = client.wait_success(nd)<br/>    <br/>        assert nd.state == &#39;active&#39;<br/>        assert nd.serviceId == s.id<br/>    <br/>&gt;       s = client.wait_success(s.remove())<br/>test_network_driver.py:31: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f960ae4b9d0&gt;<br/>url = &#39;http://localhost:8080/v2/networkdriverservices/1s234/?action=remove&#39;<br/>args = (), kw = {}, retries = 3<br/>last_error = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;b60754ad-27d8-4ffd-96e4-32ad5f2da4a8&#39;}&quot;)<br/>i = 2<br/>e = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;b60754ad-27d8-4ffd-96e4-32ad5f2da4a8&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>                    raise e<br/>&gt;       raise last_error<br/>E       ApiError: (ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Conflict&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;b60754ad-27d8-4ffd-96e4-32ad5f2da4a8&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:388: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.20 s</div>
</em><em class="status">failed</em>test_create_network_driver_create_delete_with_net</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_network_driver.py:36 (test_create_network_driver_create_delete_with_net)<br/>client = &lt;cattle.Client object at 0x7f960ae4b9d0&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_create_network_driver_create_delete_with_net(client, super_client):<br/>        driver_name = &#39;test&#39; + random_str()<br/>        stack = client.create_stack(name=random_str())<br/>        super_client.update(stack, system=True)<br/>        s = client.create_network_driver_service(<br/>            name=random_str(),<br/>            stackId=stack.id,<br/>            selectorContainer=&#39;none&#39;,<br/>            networkDriver={<br/>                &#39;name&#39;: driver_name,<br/>                &#39;defaultNetwork&#39;: {<br/>                    &#39;subnets&#39;: [<br/>                        {<br/>                            &#39;networkAddress&#39;: &#39;1.1.1.1/8&#39;<br/>                        }<br/>                    ],<br/>                    &#39;hostPorts&#39;: True,<br/>                    &#39;dns&#39;: [&#39;1.1.1.1&#39;],<br/>                    &#39;dnsSearch&#39;: [&#39;domain.com&#39;,<br/>                                  &#39;test.com&#39;],<br/>                },<br/>                &#39;networkMetadata&#39;: {<br/>                    &#39;foo&#39;: &#39;bar&#39;,<br/>                    &#39;bar&#39;: 2,<br/>                },<br/>                &#39;cniConf&#39;: {<br/>                    &#39;file.conf&#39;: {<br/>                        &#39;x&#39;: &#39;z&#39;,<br/>                    }<br/>                }<br/>            })<br/>    <br/>        s = client.wait_success(s)<br/>        assert s.state == &#39;inactive&#39;<br/>    <br/>        nds = client.list_network_driver(serviceId=s.id,<br/>                                         name=driver_name)<br/>        assert len(nds) == 1<br/>    <br/>        s = client.wait_success(s.activate())<br/>        assert s.state == &#39;active&#39;<br/>    <br/>        nd = find_one(client.list_network_driver, serviceId=s.id, name=driver_name)<br/>        nd = client.wait_success(nd)<br/>    <br/>        assert nd.state == &#39;active&#39;<br/>        assert nd.serviceId == s.id<br/>    <br/>        network = find_one(nd.networks)<br/>        network = client.wait_success(network)<br/>    <br/>        assert network.state == &#39;active&#39;<br/>        assert network.hostPorts<br/>    <br/>        subnet = find_one(super_client.list_subnet, networkId=network.id)<br/>        subnet = super_client.wait_success(subnet)<br/>    <br/>        assert subnet.state == &#39;active&#39;<br/>        assert subnet.networkAddress == &#39;1.1.1.1&#39;<br/>        assert subnet.cidrSize == 8<br/>        assert subnet.gateway == &#39;1.0.0.1&#39;<br/>    <br/>&gt;       s = client.wait_success(s.remove())<br/>test_network_driver.py:99: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f960ae4b9d0&gt;<br/>url = &#39;http://localhost:8080/v2/networkdriverservices/1s235/?action=remove&#39;<br/>args = (), kw = {}, retries = 3<br/>last_error = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;e43add21-bb13-42b6-9964-9a35e422351f&#39;}&quot;)<br/>i = 2<br/>e = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;e43add21-bb13-42b6-9964-9a35e422351f&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>                    raise e<br/>&gt;       raise last_error<br/>E       ApiError: (ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Conflict&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;e43add21-bb13-42b6-9964-9a35e422351f&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:388: ApiError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">1.24 s</div>
</em>test_network_policy</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">289 ms</div>
</em><em class="status">passed</em>test_network_policy_default_action</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">356 ms</div>
</em><em class="status">passed</em>test_default_no_network_policy</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">198 ms</div>
</em><em class="status">passed</em>test_default_network_policy</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">400 ms</div>
</em><em class="status">passed</em>test_update_network_policy</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em>test_physical_host</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_register_physical_host</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;disable_go_machine_service&#39; for &lt;Function &#39;test_register_physical_host&#39;&gt;&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def disable_go_machine_service(request, super_client):<br/>        # Ensuring the goMachineService handler is disabled lets us ensure these<br/>        # tests are ran without actually calling docker machine and keeps them<br/>        # lightweight. Reenables any disabled handlers at the end.<br/>        name = &quot;goMachineService&quot;<br/>&gt;       svc_handlers = super_client.list_external_handler(<br/>            state=&#39;active&#39;, name_like=name)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_external_handler&#39;<br/>test_physical_host.py:10: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_register_multiple_physical_host</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;disable_go_machine_service&#39; for &lt;Function &#39;test_register_physical_host&#39;&gt;&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def disable_go_machine_service(request, super_client):<br/>        # Ensuring the goMachineService handler is disabled lets us ensure these<br/>        # tests are ran without actually calling docker machine and keeps them<br/>        # lightweight. Reenables any disabled handlers at the end.<br/>        name = &quot;goMachineService&quot;<br/>&gt;       svc_handlers = super_client.list_external_handler(<br/>            state=&#39;active&#39;, name_like=name)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_external_handler&#39;<br/>test_physical_host.py:10: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_add_physical_host</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>request = &lt;SubRequest &#39;disable_go_machine_service&#39; for &lt;Function &#39;test_register_physical_host&#39;&gt;&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;, autouse=True)<br/>    def disable_go_machine_service(request, super_client):<br/>        # Ensuring the goMachineService handler is disabled lets us ensure these<br/>        # tests are ran without actually calling docker machine and keeps them<br/>        # lightweight. Reenables any disabled handlers at the end.<br/>        name = &quot;goMachineService&quot;<br/>&gt;       svc_handlers = super_client.list_external_handler(<br/>            state=&#39;active&#39;, name_like=name)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_external_handler&#39;<br/>test_physical_host.py:10: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">7.53 s</div>
</em>test_port</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_container_port_create_start</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_port.py:3 (test_container_port_create_start)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9607769e50&gt;<br/>    def test_container_port_create_start(super_client, new_context):<br/>        image_uuid = new_context.image_uuid<br/>        host = new_context.host<br/>&gt;       host_ip = new_context.host_ip.address<br/>E       AttributeError: &#39;unicode&#39; object has no attribute &#39;address&#39;<br/>test_port.py:7: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">485 ms</div>
</em><em class="status">failed</em>test_container_port_start</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_port.py:66 (test_container_port_start)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f96060d36d0&gt;<br/>    def test_container_port_start(new_context):<br/>        client = new_context.client<br/>        image_uuid = new_context.image_uuid<br/>        c = client.create_container(imageUuid=image_uuid,<br/>                                    ports=[<br/>                                        80,<br/>                                        &#39;8081:81&#39;,<br/>                                        &#39;8082:82/udp&#39;])<br/>    <br/>        assert c.state == &#39;creating&#39;<br/>        c = client.wait_success(c)<br/>    <br/>        assert c.state == &#39;running&#39;<br/>    <br/>&gt;       ports = c.ports_link()<br/>test_port.py:81: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...ac4-f854-440c-96ac-804c35af5590&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;ports_link&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;ports_link&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">547 ms</div>
</em><em class="status">failed</em>test_container_port_stop</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_port.py:106 (test_container_port_stop)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9613f85850&gt;<br/>    def test_container_port_stop(new_context):<br/>        client = new_context.client<br/>        image_uuid = new_context.image_uuid<br/>        c = client.create_container(imageUuid=image_uuid,<br/>                                    ports=[<br/>                                        80,<br/>                                        &#39;8081:81&#39;,<br/>                                        &#39;8082:82/udp&#39;])<br/>    <br/>        assert c.state == &#39;creating&#39;<br/>        c = client.wait_success(c)<br/>        assert c.state == &#39;running&#39;<br/>    <br/>        c = client.wait_success(c.stop())<br/>        assert c.state == &#39;stopped&#39;<br/>    <br/>&gt;       ports = c.ports_link()<br/>test_port.py:123: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...79c-e96c-4464-9803-dcfa29fa70a8&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;ports_link&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;ports_link&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">5.45 s</div>
</em><em class="status">failed</em>test_container_port_purge</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_port.py:142 (test_container_port_purge)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9607eb9890&gt;<br/>    def test_container_port_purge(new_context):<br/>        client = new_context.client<br/>        image_uuid = new_context.image_uuid<br/>        c = client.create_container(imageUuid=image_uuid,<br/>                                    ports=[<br/>                                        80,<br/>                                        &#39;8081:81&#39;,<br/>                                        &#39;8082:82/udp&#39;])<br/>    <br/>        assert c.state == &#39;creating&#39;<br/>        c = client.wait_success(c)<br/>        assert c.state == &#39;running&#39;<br/>    <br/>        client.delete(c)<br/>        c = client.wait_success(c)<br/>        assert c.removed is not None<br/>    <br/>        # instance.remove will remove the ports_links<br/>&gt;       assert len(c.ports_link()) == 0<br/>test_port.py:161: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...696-a64b-4cd2-89bd-d2cf2d3730ba&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;ports_link&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;ports_link&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">20 ms</div>
</em><em class="status">passed</em>test_port_validation</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">489 ms</div>
</em><em class="status">failed</em>test_ports_service</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_port.py:172 (test_ports_service)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9603482150&gt;<br/>    def test_ports_service(super_client, new_context):<br/>        client = new_context.client<br/>        c = new_context.create_container(ports=[&#39;80&#39;])<br/>    <br/>&gt;       agent = super_client.reload(c).hosts()[0].agent()<br/>test_port.py:177: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...4c8-2625-42c3-ab7c-823e0b132ab4&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;hosts&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;hosts&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">545 ms</div>
</em><em class="status">failed</em>test_ports_overlapping</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_port.py:191 (test_ports_overlapping)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9601d2ffd0&gt;<br/>    def test_ports_overlapping(new_context):<br/>        port_specs = [<br/>            &#39;1234:80/tcp&#39;,<br/>            &#39;2345:80/tcp&#39;,<br/>            &#39;1234:80/udp&#39;,<br/>            &#39;2345:80/udp&#39;,<br/>        ]<br/>        c = new_context.create_container(ports=port_specs)<br/>    <br/>&gt;       ports = c.ports_link()<br/>test_port.py:201: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: None, &#39;io.rancher...b0e-1bdc-47fd-9546-5dcd484e5a3b&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: [u&#39;rancher.internal&#39;, u&#39;default.rancher.internal&#39;]}<br/>k = &#39;ports_link&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;ports_link&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">7.88 s</div>
</em>test_private_repos</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">614 ms</div>
</em><em class="status">passed</em>test_create_container_with_registry_credential</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">428 ms</div>
</em><em class="status">passed</em>test_crud_registry</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">595 ms</div>
</em><em class="status">passed</em>test_crud_registry_credential</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">714 ms</div>
</em><em class="status">passed</em>test_deleting_registry_deletes_credentials</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">484 ms</div>
</em><em class="status">passed</em>test_container_image_and_registry_credential</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">187 ms</div>
</em><em class="status">passed</em>test_duplicate_server_addresses</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">3.57 s</div>
</em><em class="status">failed</em>test_create_same_registry_different_projects</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_private_repos.py:156 (test_create_same_registry_different_projects)<br/>admin_user_client = &lt;cattle.Client object at 0x7f9601d08c50&gt;<br/>    def test_create_same_registry_different_projects(admin_user_client):<br/>        server = &#39;server{0}.io&#39;.format(random_num())<br/>&gt;       context_1 = create_context(admin_user_client, create_project=True)<br/>test_private_repos.py:159: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f95fedf6c50&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;185bcb88-28a7-46ed-82bc-473964d35d18&#39;, &#39;createdTS&#39;: 1499966806000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:683&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = {&#39;createdTS&#39;: 1499966807000, &#39;createTsFields&#39;: True, &#39;uuid&#39;: u&#39;6bd39e53-bc7e-422b-9f0f-2a25b7de11be&#39;, &#39;virtualMachine&#39;...sion 517 Integration Test Project 2017-07-13 17:26:45&#39;, &#39;created&#39;: u&#39;2017-07-13T17:26:47Z&#39;, &#39;orchestration&#39;: u&#39;cattle&#39;}<br/>user_client = &lt;cattle.Client object at 0x7f95ffcc3690&gt;<br/>client = &lt;cattle.Client object at 0x7f95ff598810&gt;, host = None<br/>agent_client = None, agent = None<br/>owner_client = &lt;cattle.Client object at 0x7f95ff5e2990&gt;<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.29 s</div>
</em><em class="status">failed</em>test_registry_credentials</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_private_repos.py:167 (test_registry_credentials)<br/>client = &lt;cattle.Client object at 0x7f9601427690&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>admin_user_client = &lt;cattle.Client object at 0x7f9601d08c50&gt;<br/>    def test_registry_credentials(client, super_client, admin_user_client):<br/>        registry = _create_registry(client)<br/>        reg_cred = client.create_registry_credential(<br/>            registryId=registry.id,<br/>            publicValue=&#39;rancher&#39;,<br/>            secretValue=&#39;rancher&#39;)<br/>    <br/>        reg_cred = client.wait_success(reg_cred)<br/>        assert reg_cred is not None<br/>        assert reg_cred.secretValue is None<br/>        projectadmin_client = create_context(admin_user_client,<br/>                                             create_project=False,<br/>                                             add_host=False,<br/>&gt;                                            kind=&#39;projectadmin&#39;).user_client<br/>test_private_repos.py:181: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f95fe69e590&gt;<br/>account = {&#39;kind&#39;: u&#39;projectadmin&#39;, &#39;uuid&#39;: u&#39;52a8ab1d-a64c-43ee-b751-0a49213beb1f&#39;, &#39;createdTS&#39;: 1499966810000, &#39;baseType&#39;: u&#39;a...&#39;identity&#39;: u&#39;1i!rancher_id:685&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f95ffd1ce90&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">713 ms</div>
</em>test_project_template</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">168 ms</div>
</em><em class="status">passed</em>test_project_template</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">545 ms</div>
</em><em class="status">passed</em>test_project_from_template</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">37.97 s</div>
</em>test_projects</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.79 s</div>
</em><em class="status">failed</em>test_update_project</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_project_no_filters_and_sort</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_set_members</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_get_members</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">99 ms</div>
</em><em class="status">passed</em>test_list_all_projects</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">12.59 s</div>
</em><em class="status">passed</em>test_delete_project</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1 ms</div>
</em><em class="status">failed</em>test_delete_members</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_change_roles</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_delete_other_owners</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_multiple_owners_add_members</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_members_cant_do_things</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_project_cant_create_project</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_list_projects_flag</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_get_project_not_mine</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_project_deactivate</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_project_deactivate_members_cant_access</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_project_member_invalid</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    @pytest.fixture(scope=&#39;session&#39;)<br/>    def user_clients(admin_user_client):<br/>        clients = {}<br/>        for user in _USER_LIST:<br/>            clients[user] = create_context(admin_user_client,<br/>&gt;                                          kind=&#39;user&#39;).user_client<br/>test_projects.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960c21ba90&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;aa2ad5b7-6869-4b09-92af-2a4b7c57b374&#39;, &#39;createdTS&#39;: 1499966827000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:693&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f961569d8d0&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">970 ms</div>
</em><em class="status">failed</em>test_make_project_with_identity</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_projects.py:414 (test_make_project_with_identity)<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    def test_make_project_with_identity(admin_user_client):<br/>&gt;       client = create_context(admin_user_client).user_client<br/>test_projects.py:416: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f9602001850&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;56a5ea78-2db1-4fc7-8199-2a5a928e0bfb&#39;, &#39;createdTS&#39;: 1499966847000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:697&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f95fea9fe90&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">5.50 s</div>
</em><em class="status">failed</em>test_restricted_members</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_projects.py:424 (test_restricted_members)<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    def test_restricted_members(admin_user_client):<br/>        context_1 = create_context(admin_user_client, create_project=True,<br/>                                   add_host=True)<br/>&gt;       context_2 = create_context(admin_user_client)<br/>test_projects.py:428: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f960746a0d0&gt;<br/>account = {&#39;kind&#39;: u&#39;user&#39;, &#39;uuid&#39;: u&#39;0e9f1dac-e57d-4ff4-bf98-29de848093a1&#39;, &#39;createdTS&#39;: 1499966853000, &#39;baseType&#39;: u&#39;account&#39;,...&#39;identity&#39;: u&#39;1i!rancher_id:701&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f96074dbf50&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">17.01 s</div>
</em><em class="status">failed</em>test_project_links</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_projects.py:542 (test_project_links)<br/>admin_user_client = &lt;cattle.Client object at 0x7f9605a30ed0&gt;<br/>    def test_project_links(admin_user_client):<br/>        a1 = admin_user_client.create_project()<br/>        a1 = admin_user_client.wait_success(a1)<br/>        a2 = admin_user_client.create_project()<br/>        a2 = admin_user_client.wait_success(a2)<br/>        a3 = admin_user_client.create_project(projectLinks=[a1.id, a2.id])<br/>        assert a3.projectLinks is not None<br/>        assert len(a3.projectLinks) == 2<br/>        a3 = admin_user_client.wait_success(a3)<br/>    <br/>        a3 = admin_user_client.update(a3, projectLinks=[a1.id])<br/>        assert a3.projectLinks is not None<br/>        assert len(a3.projectLinks) == 1<br/>        a3 = admin_user_client.wait_success(a3)<br/>    <br/>        a1 = admin_user_client.wait_success(a1.deactivate())<br/>        admin_user_client.wait_success(a1.remove())<br/>&gt;       wait_for(lambda: len(admin_user_client.reload(a3).projectLinks) == 0)<br/>test_projects.py:560: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f9606bb0c08&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">974 ms</div>
</em>test_proxy</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">592 ms</div>
</em><em class="status">passed</em>test_proxy</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">382 ms</div>
</em><em class="status">passed</em>test_aws_proxy</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">3.42 s</div>
</em>test_pull</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">3.42 s</div>
</em><em class="status">passed</em>test_pull</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">11.12 s</div>
</em>test_register</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">2.95 s</div>
</em><em class="status">passed</em>test_register_create</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">352 ms</div>
</em><em class="status">passed</em>test_registration_token_create</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">687 ms</div>
</em>test_registration_token_account_create</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">376 ms</div>
</em><em class="status">passed</em>(user)</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">311 ms</div>
</em><em class="status">passed</em>(admin)</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">7.13 s</div>
</em><em class="status">failed</em>test_registration_token_list</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f95fc65bb90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def service_client(admin_user_client):<br/>&gt;       return create_context(admin_user_client, kind=&#39;service&#39;).user_client<br/>test_register.py:6: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f95faf4db90&gt;<br/>account = {&#39;kind&#39;: u&#39;service&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499966898000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: ...&#39;: u&#39;1i!rancher_id:719&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f95f9820250&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_service_create_token</span>
<ul>
<li class="text">
<span class="stdout">E<br/></span>
</li>
<li class="text">
<span class="stderr">test setup failed<br/>admin_user_client = &lt;cattle.Client object at 0x7f95fc65bb90&gt;<br/>    @pytest.fixture(scope=&#39;module&#39;)<br/>    def service_client(admin_user_client):<br/>&gt;       return create_context(admin_user_client, kind=&#39;service&#39;).user_client<br/>test_register.py:6: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:211: in create_context<br/>    owner_client=owner_client)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;core.common_fixtures.Context object at 0x7f95faf4db90&gt;<br/>account = {&#39;kind&#39;: u&#39;service&#39;, &#39;description&#39;: None, &#39;createdTS&#39;: 1499966898000, &#39;baseType&#39;: u&#39;account&#39;, &#39;transitioningMessage&#39;: ...&#39;: u&#39;1i!rancher_id:719&#39;, &#39;transitioning&#39;: u&#39;no&#39;, &#39;removed&#39;: None, &#39;data&#39;: {}, &#39;createTsFields&#39;: True, &#39;metadata&#39;: None}<br/>project = None, user_client = &lt;cattle.Client object at 0x7f95f9820250&gt;<br/>client = None, host = None, agent_client = None, agent = None<br/>owner_client = None<br/>    def __init__(self, account=None, project=None, user_client=None,<br/>                 client=None, host=None, agent_client=None, agent=None,<br/>                 owner_client=None):<br/>        self.account = account<br/>        self.project = project<br/>        self.agent = agent<br/>        self.user_client = user_client<br/>        self.agent_client = agent_client<br/>        self.client = client<br/>        self.host = host<br/>        self.image_uuid = &#39;{}&#39;.format(random_str())<br/>        self.lb_v1_image_uuid = &#39;rancher/load-balancer-service&#39;<br/>&gt;       self.host_ip = self.host.agentIpAddress<br/>E       AttributeError: &#39;NoneType&#39; object has no attribute &#39;agentIpAddress&#39;<br/>common_fixtures.py:108: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">6 ms</div>
</em>test_resource</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">6 ms</div>
</em><em class="status">passed</em>test_list_account</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_schema_includeable_links</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_resource.py:9 (test_schema_includeable_links)<br/>client = &lt;cattle.Client object at 0x7f96097bff90&gt;<br/>    def test_schema_includeable_links(client):<br/>        schema = client.schema.types[&#39;service&#39;]<br/>&gt;       assert &#39;serviceLogs&#39; in schema.includeableLinks<br/>test_resource.py:12: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;resourceMethods&#39;: [u&#39;GET&#39;, u&#39;PUT&#39;, u&#39;DELETE&#39;], &#39;collectionFields&#39;: {}, &#39;pluralName&#39;: u&#39;services&#39;, &#39;parent&#39;: None, &#39;b...cerService&#39;, u&#39;networkDriverService&#39;, u&#39;scalingGroup&#39;, u&#39;selectorService&#39;, u&#39;storageDriverService&#39;], &#39;deletable&#39;: True}<br/>k = &#39;includeableLinks&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;includeableLinks&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">21.47 s</div>
</em>test_resource_based_scheduling</span>
<ul>
<li class="level test ignored open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">ignored</em>test_resource_based_scheduler</span>
<ul>
<li class="text">
<span class="stdout">s<br/></span>
</li>
<li class="text">
<span class="stdout">Skipped: condition: True<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">21.47 s</div>
</em><em class="status">failed</em>test_delete_host</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_resource_based_scheduling.py:97 (test_delete_host)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9608269850&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_delete_host(new_context, super_client):<br/>        host = new_context.host<br/>    <br/>        mock_sched(new_context, super_client)<br/>        image = new_context.image_uuid<br/>        client = new_context.client<br/>    <br/>        agent = super_client.reload(host).agent()<br/>        super_client.update(agent, state=&#39;reconnecting&#39;)<br/>    <br/>        register_simulated_host(new_context)<br/>        c = client.create_container({&#39;imageUuid&#39;: image, &#39;networkMode&#39;: &#39;host&#39;})<br/>&gt;       c = client.wait_success(c)<br/>test_resource_based_scheduling.py:110: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95ff67b110&gt;<br/>obj = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.network&#39;: u&#39;Docker Host Net...rviceIds&#39;: None, &#39;deploymentUnitUuid&#39;: u&#39;ed092996-3b08-4bda-ba20-b0c7d606eec3&#39;, &#39;createIndex&#39;: None, &#39;dnsSearch&#39;: None}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [container:1i4884] to be done after 16.7493062019 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite ignored open">
<span><em class="time">
<div class="time">0 ms</div>
</em>test_resource_change</span>
<ul>
<li class="level test ignored open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">ignored</em>test_events</span>
<ul>
<li class="text">
<span class="stdout">s<br/></span>
</li>
<li class="text">
<span class="stdout">Skipped: condition: True<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">1.40 s</div>
</em>test_secrets</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">27 ms</div>
</em><em class="status">passed</em>test_secret_create_bad</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">73 ms</div>
</em><em class="status">failed</em>test_secret_create_and_delete</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_secrets.py:44 (test_secret_create_and_delete)<br/>secret_context = &lt;core.common_fixtures.Context object at 0x7f95f8d38c50&gt;<br/>    def test_secret_create_and_delete(secret_context):<br/>        client = secret_context.client<br/>        secret = client.create_secret(name=random_str(),<br/>&gt;                                     value=&#39;foo&#39;)<br/>test_secrets.py:48: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95fd23dd90&gt;<br/>text = &#39;{&quot;id&quot;:&quot;f2d49e94-42f8-42b7-b9b1-5bfb96304871&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:503,&quot;code&quot;:&quot;Service Unavailable&quot;,&quot;message&quot;:&quot;Service Unavailable&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Service Unavailable : Service Unavailable\n{&#39;status&#39;: 503, &#39;code&#39;: u&#39;Service Unavailable&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Service Unavailable&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;f2d49e94-42f8-42b7-b9b1-5bfb96304871&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">24 ms</div>
</em><em class="status">failed</em>test_secret_create_and_use</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_secrets.py:59 (test_secret_create_and_use)<br/>secret_context = &lt;core.common_fixtures.Context object at 0x7f95f760fbd0&gt;<br/>    def test_secret_create_and_use(secret_context):<br/>        client = secret_context.client<br/>        secret = client.create_secret(name=random_str(),<br/>&gt;                                     value=&#39;foo&#39;)<br/>test_secrets.py:63: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f851e890&gt;<br/>text = &#39;{&quot;id&quot;:&quot;cb8e4d6d-c477-403d-86a8-d60595d76a21&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:503,&quot;code&quot;:&quot;Service Unavailable&quot;,&quot;message&quot;:&quot;Service Unavailable&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Service Unavailable : Service Unavailable\n{&#39;status&#39;: 503, &#39;code&#39;: u&#39;Service Unavailable&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Service Unavailable&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;cb8e4d6d-c477-403d-86a8-d60595d76a21&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">33 ms</div>
</em><em class="status">failed</em>test_secret_create_and_download</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_secrets.py:101 (test_secret_create_and_download)<br/>secret_context = &lt;core.common_fixtures.Context object at 0x7f95f5f07290&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_secret_create_and_download(secret_context, super_client):<br/>        client = secret_context.client<br/>        secret = client.create_secret(name=random_str(),<br/>&gt;                                     value=&#39;foo&#39;)<br/>test_secrets.py:105: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f7565890&gt;<br/>text = &#39;{&quot;id&quot;:&quot;262eab58-8adb-48fb-87f5-c452e5e2cc77&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:503,&quot;code&quot;:&quot;Service Unavailable&quot;,&quot;message&quot;:&quot;Service Unavailable&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Service Unavailable : Service Unavailable\n{&#39;status&#39;: 503, &#39;code&#39;: u&#39;Service Unavailable&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Service Unavailable&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;262eab58-8adb-48fb-87f5-c452e5e2cc77&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.24 s</div>
</em><em class="status">failed</em>test_secret_multi_host</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_secrets.py:150 (test_secret_multi_host)<br/>secret_context = &lt;core.common_fixtures.Context object at 0x7f95f47ef750&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_secret_multi_host(secret_context, super_client):<br/>        host2 = register_simulated_host(secret_context)<br/>    <br/>        client = secret_context.client<br/>        secret = client.create_secret(name=random_str(),<br/>&gt;                                     value=&#39;foo&#39;)<br/>test_secrets.py:156: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f57153d0&gt;<br/>text = &#39;{&quot;id&quot;:&quot;cd3d17e5-d433-48d7-921c-b72b8da92193&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:503,&quot;code&quot;:&quot;Service Unavailable&quot;,&quot;message&quot;:&quot;Service Unavailable&quot;,&quot;detail&quot;:null,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;Service Unavailable : Service Unavailable\n{&#39;status&#39;: 503, &#39;code&#39;: u&#39;Service Unavailable&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Service Unavailable&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;cd3d17e5-d433-48d7-921c-b72b8da92193&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">1.38 s</div>
</em>test_settings</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">118 ms</div>
</em><em class="status">passed</em>test_settings_create_delete</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">221 ms</div>
</em><em class="status">passed</em>test_settings_update</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">111 ms</div>
</em><em class="status">passed</em>test_exec_update_existing</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">192 ms</div>
</em><em class="status">passed</em>test_settings_insert</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">207 ms</div>
</em><em class="status">failed</em>test_settings_user_list</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_settings.py:95 (test_settings_user_list)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f2734e90&gt;<br/>    def test_settings_user_list(context):<br/>        user_client = context.user_client<br/>        settings = user_client.list_setting()<br/>        names = {x.name for x in settings}<br/>    <br/>        assert len(settings) != 0<br/>&gt;       assert len(settings) &lt; 16<br/>E       assert 611 &lt; 16<br/>E        +  where 611 = len({&#39;sort&#39;: None, &#39;pagination&#39;: {&#39;partial&#39;: False, &#39;next&#39;: None, &#39;limit&#39;: 100, &#39;marker&#39;: None, &#39;previous&#39;: None, &#39;total&#39;:... u&#39;setting&#39;, &#39;priorityFieldNames&#39;: [u&#39;name&#39;, u&#39;state&#39;], &#39;value&#39;: u&#39;60&#39;, &#39;activeValue&#39;: u&#39;60&#39;, &#39;createTsFields&#39;: True}]})<br/>test_settings.py:102: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">526 ms</div>
</em><em class="status">failed</em>test_settings_admin_user_list</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_settings.py:113 (test_settings_admin_user_list)<br/>admin_user_client = &lt;cattle.Client object at 0x7f95f4780290&gt;<br/>    def test_settings_admin_user_list(admin_user_client):<br/>        settings = admin_user_client.list_setting()<br/>        assert len(settings) != 0<br/>        assert len(settings) &gt; 16<br/>    <br/>        settings = admin_user_client.list_setting(all=True)<br/>        assert len(settings) != 0<br/>        assert len(settings) &gt; 16<br/>    <br/>        settings = admin_user_client.list_setting(all=False)<br/>        names = {x.name for x in settings}<br/>    <br/>        assert len(settings) != 0<br/>&gt;       assert len(settings) &lt; 16<br/>E       assert 611 &lt; 16<br/>E        +  where 611 = len({&#39;sort&#39;: None, &#39;pagination&#39;: {&#39;partial&#39;: False, &#39;next&#39;: None, &#39;limit&#39;: 100, &#39;marker&#39;: None, &#39;previous&#39;: None, &#39;total&#39;:...&#39;], &#39;source&#39;: u&#39;Code Packaged Defaults&#39;, &#39;value&#39;: u&#39;60&#39;, &#39;inDb&#39;: False, &#39;activeValue&#39;: u&#39;60&#39;, &#39;createTsFields&#39;: True}]})<br/>test_settings.py:127: AssertionError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">11.87 s</div>
</em>test_shared_volumes</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.15 s</div>
</em><em class="status">failed</em>test_single_instance_rw_new_disks</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:44 (test_single_instance_rw_new_disks)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95fef5efd0&gt;<br/>    def test_single_instance_rw_new_disks(super_client, new_context):<br/>        disks = [<br/>            {<br/>                &#39;size&#39;: &#39;2g&#39;,<br/>            },<br/>            {<br/>                &#39;name&#39;: &#39;foo&#39;,<br/>                &#39;size&#39;: &#39;2g&#39;,<br/>                &#39;root&#39;: True,<br/>            },<br/>        ]<br/>    <br/>&gt;       single_instance_rw_test(super_client, new_context, disks)<br/>test_shared_volumes.py:57: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_shared_volumes.py:86: in single_instance_rw_test<br/>    access_mode=&#39;singleHostRW&#39;)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95f1c10d90&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95f8ca9750&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95fef5efd0&gt;<br/>external_id = &#39;storage-random-116365-1499966993&#39;<br/>name = &#39;storage-random-116365-1499966993&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;76547352-1209-4f70-b8a3-54d0d660fcb1&#39;, &#39;7b4556c7-6cd4-4d47-9e9a-d67df8b60a2e&#39;]<br/>driver_name = &#39;storage-random-116365-1499966993&#39;, agent_account = None<br/>access_mode = &#39;singleHostRW&#39;, block_device_path = None<br/>volume_capabilities = None, driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.86 s</div>
</em><em class="status">failed</em>test_single_instance_rw_preexisting_volume</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:59 (test_single_instance_rw_preexisting_volume)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95f4ff4690&gt;<br/>    def test_single_instance_rw_preexisting_volume(super_client, new_context):<br/>        client = new_context.client<br/>        name = &#39;exists-%s&#39; % random_str()<br/>        sp_name = &#39;storage-%s&#39; % random_str()<br/>        volume = client.create_volume(name=name, driver=sp_name)<br/>        volume = client.wait_success(volume)<br/>        assert volume.state == &#39;inactive&#39;<br/>        disks = [<br/>            {<br/>                &#39;name&#39;: name,<br/>                &#39;size&#39;: &#39;2g&#39;,<br/>            },<br/>        ]<br/>    <br/>&gt;       single_instance_rw_test(super_client, new_context, disks, sp_name=sp_name)<br/>test_shared_volumes.py:74: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_shared_volumes.py:86: in single_instance_rw_test<br/>    access_mode=&#39;singleHostRW&#39;)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f9608353290&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95f4cef2d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f4ff4690&gt;<br/>external_id = &#39;storage-random-301768-1499966999&#39;<br/>name = &#39;storage-random-301768-1499966999&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;601dff85-3cf7-4a20-829f-82d22a208b93&#39;, &#39;4c909ea8-8ad7-4ed6-a58b-712b487077ef&#39;]<br/>driver_name = &#39;storage-random-301768-1499966999&#39;, agent_account = None<br/>access_mode = &#39;singleHostRW&#39;, block_device_path = None<br/>volume_capabilities = None, driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_anonymous_volume_in_pool</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:135 (test_anonymous_volume_in_pool)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f9610de8110&gt;<br/>    def test_anonymous_volume_in_pool(super_client, new_context):<br/>        client, agent_client, host = from_context(new_context)<br/>        sp_name = &#39;storage-%s&#39; % random_str()<br/>        host_uuids = [host.uuid]<br/>    <br/>        create_sp_event(client, agent_client, new_context, sp_name, sp_name,<br/>&gt;                       SP_CREATE, host_uuids, sp_name)<br/>test_shared_volumes.py:142: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f96084f4e50&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95f530bd90&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f9610de8110&gt;<br/>external_id = &#39;storage-random-478671-1499967008&#39;<br/>name = &#39;storage-random-478671-1499967008&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;5de08e89-4992-4bab-b1bf-cd56b4d9e9d8&#39;]<br/>driver_name = &#39;storage-random-478671-1499967008&#39;, agent_account = None<br/>access_mode = None, block_device_path = None, volume_capabilities = None<br/>driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.82 s</div>
</em><em class="status">failed</em>test_single_host_rw</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:154 (test_single_host_rw)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95fbcb4f10&gt;<br/>    def test_single_host_rw(super_client, new_context):<br/>        client, agent_client, host = from_context(new_context)<br/>        sp_name = &#39;storage-%s&#39; % random_str()<br/>        host2 = register_simulated_host(new_context)<br/>        host_uuids = [host.uuid, host2.uuid]<br/>    <br/>        create_sp_event(client, agent_client, new_context, sp_name, sp_name,<br/>                        SP_CREATE, host_uuids, sp_name,<br/>&gt;                       access_mode=&#39;singleHostRW&#39;)<br/>test_shared_volumes.py:163: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95ff818710&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95fbca8910&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95fbcb4f10&gt;<br/>external_id = &#39;storage-random-639565-1499967013&#39;<br/>name = &#39;storage-random-639565-1499967013&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;4958d7b5-1de3-440f-a7ed-a0bf437a64cc&#39;, &#39;50b52c19-e90e-4a3b-8b52-524e271a9652&#39;]<br/>driver_name = &#39;storage-random-639565-1499967013&#39;, agent_account = None<br/>access_mode = &#39;singleHostRW&#39;, block_device_path = None<br/>volume_capabilities = None, driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.96 s</div>
</em><em class="status">failed</em>test_single_host_race_condition</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:206 (test_single_host_race_condition)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95f7a56d10&gt;<br/>    def test_single_host_race_condition(super_client, new_context):<br/>        client, agent_client, host = from_context(new_context)<br/>        sp_name = &#39;storage-%s&#39; % random_str()<br/>        host2 = register_simulated_host(new_context)<br/>        host_uuids = [host.uuid, host2.uuid]<br/>    <br/>        d1 = super_client.create_storageDriver(name=sp_name)<br/>        d1 = super_client.wait_success(d1)<br/>        d1 = super_client.update(d1, data={&#39;fields&#39;:<br/>                                           {&#39;volumeAccessMode&#39;:<br/>                                            &#39;singleHostRW&#39;}})<br/>        d1 = super_client.wait_success(d1)<br/>        assert d1.data[&quot;fields&quot;][&quot;volumeAccessMode&quot;] == &quot;singleHostRW&quot;<br/>    <br/>        create_sp_event(client, agent_client, new_context, sp_name, sp_name,<br/>                        SP_CREATE, host_uuids, sp_name,<br/>&gt;                       access_mode=&#39;singleHostRW&#39;)<br/>test_shared_volumes.py:223: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95f8a6fa90&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95f7a51310&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f7a56d10&gt;<br/>external_id = &#39;storage-random-64457-1499967020&#39;<br/>name = &#39;storage-random-64457-1499967020&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;e0bd7934-d53b-4758-8cf9-21dcf56c3766&#39;, &#39;4e522c22-7030-4116-9597-7ab41e130c0f&#39;]<br/>driver_name = &#39;storage-random-64457-1499967020&#39;, agent_account = None<br/>access_mode = &#39;singleHostRW&#39;, block_device_path = None<br/>volume_capabilities = None, driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_storage_pool_update</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:262 (test_storage_pool_update)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95f5b58e90&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_storage_pool_update(new_context, super_client):<br/>        client = new_context.client<br/>&gt;       sp = add_storage_pool(new_context)<br/>test_shared_volumes.py:265: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_shared_volumes.py:26: in add_storage_pool<br/>    sp_name, sp_name, SP_CREATE, host_uuids, sp_name, **kwargs)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95f6d9dd50&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95f7a51410&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f5b58e90&gt;<br/>external_id = &#39;new-sp-random-343606-1499967031&#39;<br/>name = &#39;new-sp-random-343606-1499967031&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;6e6d3710-fabc-4e5b-b121-e16c65a97ae1&#39;]<br/>driver_name = &#39;new-sp-random-343606-1499967031&#39;, agent_account = None<br/>access_mode = None, block_device_path = None, volume_capabilities = None<br/>driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_storage_pool_agent_delete</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:280 (test_storage_pool_agent_delete)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95f069aed0&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_storage_pool_agent_delete(new_context, super_client):<br/>        client = new_context.client<br/>&gt;       sp = add_storage_pool(new_context)<br/>test_shared_volumes.py:283: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_shared_volumes.py:26: in add_storage_pool<br/>    sp_name, sp_name, SP_CREATE, host_uuids, sp_name, **kwargs)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95f59d0ed0&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95f5a4e550&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f069aed0&gt;<br/>external_id = &#39;new-sp-random-701829-1499967036&#39;<br/>name = &#39;new-sp-random-701829-1499967036&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;a8565c6b-6117-4bbb-93de-60b9aed79e99&#39;]<br/>driver_name = &#39;new-sp-random-701829-1499967036&#39;, agent_account = None<br/>access_mode = None, block_device_path = None, volume_capabilities = None<br/>driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_finding_shared_volumes</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:293 (test_finding_shared_volumes)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95eef91e10&gt;<br/>    def test_finding_shared_volumes(new_context):<br/>        # Tests that when a named is specified in dataVolumes and a volume of<br/>        # that name already exists in a shared storage pool, the pre-existing<br/>        # volume is used<br/>        client, agent_client, host = from_context(new_context)<br/>&gt;       storage_pool = add_storage_pool(new_context)<br/>test_shared_volumes.py:299: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_shared_volumes.py:26: in add_storage_pool<br/>    sp_name, sp_name, SP_CREATE, host_uuids, sp_name, **kwargs)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95f05caed0&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95f064e4d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95eef91e10&gt;<br/>external_id = &#39;new-sp-random-903452-1499967041&#39;<br/>name = &#39;new-sp-random-903452-1499967041&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;e779321a-76eb-4fa5-8a2c-852c8e49185c&#39;]<br/>driver_name = &#39;new-sp-random-903452-1499967041&#39;, agent_account = None<br/>access_mode = None, block_device_path = None, volume_capabilities = None<br/>driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_data_volume_mounts</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:348 (test_data_volume_mounts)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95ed883a10&gt;<br/>    def test_data_volume_mounts(new_context):<br/>        client, agent_client, host = from_context(new_context)<br/>&gt;       storage_pool = add_storage_pool(new_context)<br/>test_shared_volumes.py:351: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_shared_volumes.py:26: in add_storage_pool<br/>    sp_name, sp_name, SP_CREATE, host_uuids, sp_name, **kwargs)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95eef00490&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95ed948e10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ed883a10&gt;<br/>external_id = &#39;new-sp-random-28588-1499967046&#39;<br/>name = &#39;new-sp-random-28588-1499967046&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;5842be6d-0103-4c1a-a735-06bdc378c50a&#39;]<br/>driver_name = &#39;new-sp-random-28588-1499967046&#39;, agent_account = None<br/>access_mode = None, block_device_path = None, volume_capabilities = None<br/>driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_volume_create</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:368 (test_volume_create)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95ed08eb90&gt;<br/>    def test_volume_create(new_context):<br/>        client, agent_client, host = from_context(new_context)<br/>&gt;       storage_pool = add_storage_pool(new_context)<br/>test_shared_volumes.py:371: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_shared_volumes.py:26: in add_storage_pool<br/>    sp_name, sp_name, SP_CREATE, host_uuids, sp_name, **kwargs)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95ed0a2cd0&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95ed08ebd0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ed08eb90&gt;<br/>external_id = &#39;new-sp-random-941508-1499967051&#39;<br/>name = &#39;new-sp-random-941508-1499967051&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;90b92646-13c9-4d92-90d7-51169db2c2db&#39;]<br/>driver_name = &#39;new-sp-random-941508-1499967051&#39;, agent_account = None<br/>access_mode = None, block_device_path = None, volume_capabilities = None<br/>driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_volume_create_failed_allocation</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:430 (test_volume_create_failed_allocation)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95eaae7350&gt;<br/>    def test_volume_create_failed_allocation(new_context):<br/>        client, agent_client, host = from_context(new_context)<br/>&gt;       storage_pool = add_storage_pool(new_context)<br/>test_shared_volumes.py:433: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_shared_volumes.py:26: in add_storage_pool<br/>    sp_name, sp_name, SP_CREATE, host_uuids, sp_name, **kwargs)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95eb9b0990&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95eb1eb4d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95eaae7350&gt;<br/>external_id = &#39;new-sp-random-96129-1499967056&#39;<br/>name = &#39;new-sp-random-96129-1499967056&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;923db9cf-662e-429b-8ae5-a0bb7187822a&#39;]<br/>driver_name = &#39;new-sp-random-96129-1499967056&#39;, agent_account = None<br/>access_mode = None, block_device_path = None, volume_capabilities = None<br/>driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_external_volume_event</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:464 (test_external_volume_event)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95ea284610&gt;<br/>    def test_external_volume_event(super_client, new_context):<br/>        client, agent_client, host = from_context(new_context)<br/>&gt;       storage_pool = add_storage_pool(new_context)<br/>test_shared_volumes.py:467: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_shared_volumes.py:26: in add_storage_pool<br/>    sp_name, sp_name, SP_CREATE, host_uuids, sp_name, **kwargs)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95ea2718d0&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95eaa84650&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ea284610&gt;<br/>external_id = &#39;new-sp-random-854248-1499967062&#39;<br/>name = &#39;new-sp-random-854248-1499967062&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;377f8401-d90e-456a-9045-c5f0d220eb63&#39;]<br/>driver_name = &#39;new-sp-random-854248-1499967062&#39;, agent_account = None<br/>access_mode = None, block_device_path = None, volume_capabilities = None<br/>driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">0 ms</div>
</em><em class="status">failed</em>test_external_storage_pool_event</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:492 (test_external_storage_pool_event)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95f4780ed0&gt;<br/>    def test_external_storage_pool_event(new_context):<br/>        client, agent_client, host = from_context(new_context)<br/>        sp_name = &#39;convoy-%s&#39; % random_str()<br/>    <br/>        # Create a new storage pool with a single host<br/>        uuids = [host.uuid]<br/>        create_sp_event(client, agent_client, new_context,<br/>&gt;                       sp_name, sp_name, SP_CREATE, uuids, sp_name)<br/>test_shared_volumes.py:500: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95e93a5150&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95f4780d10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f4780ed0&gt;<br/>external_id = &#39;convoy-random-47083-1499967071&#39;<br/>name = &#39;convoy-random-47083-1499967071&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;06611a8d-26dc-434b-8fcd-7a1bdb344260&#39;]<br/>driver_name = &#39;convoy-random-47083-1499967071&#39;, agent_account = None<br/>access_mode = None, block_device_path = None, volume_capabilities = None<br/>driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.24 s</div>
</em><em class="status">failed</em>test_ebs_volume_hard_affinity</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:541 (test_ebs_volume_hard_affinity)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95ed6ffad0&gt;<br/>    def test_ebs_volume_hard_affinity(super_client, new_context):<br/>        client, agent_client, host = from_context(new_context)<br/>        sp_name = &#39;storage-%s&#39; % random_str()<br/>        host2 = register_simulated_host(new_context)<br/>        host_uuids = [host.uuid, host2.uuid]<br/>        host = super_client.update(host, labels={&#39;io.rancher.host.zone&#39;: &#39;east&#39;})<br/>        super_client.wait_success(host)<br/>    <br/>        d1 = super_client.create_storageDriver(name=sp_name)<br/>        d1 = super_client.wait_success(d1)<br/>        d1 = super_client.update(d1, data={&#39;fields&#39;:<br/>                                           {&#39;volumeAccessMode&#39;:<br/>                                            &#39;singleHostRW&#39;}})<br/>        d1 = super_client.wait_success(d1)<br/>        assert d1.data[&quot;fields&quot;][&quot;volumeAccessMode&quot;] == &quot;singleHostRW&quot;<br/>    <br/>        create_sp_event(client, agent_client, new_context, sp_name, sp_name,<br/>                        SP_CREATE, host_uuids, sp_name,<br/>&gt;                       access_mode=&#39;singleHostRW&#39;)<br/>test_shared_volumes.py:560: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95f234d1d0&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95f7650b90&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ed6ffad0&gt;<br/>external_id = &#39;storage-random-273697-1499967076&#39;<br/>name = &#39;storage-random-273697-1499967076&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;52aaab1a-2dc0-4c66-8a5e-2e1bd43a649b&#39;, &#39;f14ace40-1eeb-43c7-aa42-21bda1d14612&#39;]<br/>driver_name = &#39;storage-random-273697-1499967076&#39;, agent_account = None<br/>access_mode = &#39;singleHostRW&#39;, block_device_path = None<br/>volume_capabilities = None, driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.93 s</div>
</em><em class="status">failed</em>test_ebs_volume_hard_affinity_no_override</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:592 (test_ebs_volume_hard_affinity_no_override)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95ee00cd90&gt;<br/>    def test_ebs_volume_hard_affinity_no_override(super_client, new_context):<br/>        client, agent_client, host = from_context(new_context)<br/>        sp_name = &#39;storage-%s&#39; % random_str()<br/>        host2 = register_simulated_host(new_context)<br/>        host_uuids = [host.uuid, host2.uuid]<br/>        host = super_client.update(host, labels={&#39;io.rancher.host.zone&#39;: &#39;east&#39;,<br/>                                                 &#39;foo&#39;: &#39;bar&#39;})<br/>        super_client.wait_success(host)<br/>    <br/>        d1 = super_client.create_storageDriver(name=sp_name)<br/>        d1 = super_client.wait_success(d1)<br/>        d1 = super_client.update(d1, data={&#39;fields&#39;:<br/>                                           {&#39;volumeAccessMode&#39;:<br/>                                            &#39;singleHostRW&#39;}})<br/>        d1 = super_client.wait_success(d1)<br/>        assert d1.data[&quot;fields&quot;][&quot;volumeAccessMode&quot;] == &quot;singleHostRW&quot;<br/>    <br/>        create_sp_event(client, agent_client, new_context, sp_name, sp_name,<br/>                        SP_CREATE, host_uuids, sp_name,<br/>&gt;                       access_mode=&#39;singleHostRW&#39;)<br/>test_shared_volumes.py:612: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95ed1d3290&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95ed1bbd50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ee00cd90&gt;<br/>external_id = &#39;storage-random-616507-1499967082&#39;<br/>name = &#39;storage-random-616507-1499967082&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;24e2aec0-a40f-41b0-8d35-a2333e2f7aaa&#39;, &#39;c80e33f2-c152-427e-9961-3da1155c5cd2&#39;]<br/>driver_name = &#39;storage-random-616507-1499967082&#39;, agent_account = None<br/>access_mode = &#39;singleHostRW&#39;, block_device_path = None<br/>volume_capabilities = None, driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.90 s</div>
</em><em class="status">failed</em>test_last_allocated_host_id</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_shared_volumes.py:647 (test_last_allocated_host_id)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95f637da50&gt;<br/>    def test_last_allocated_host_id(super_client, new_context):<br/>        client, agent_client, host = from_context(new_context)<br/>        sp_name = &#39;storage-%s&#39; % random_str()<br/>        host2 = register_simulated_host(new_context)<br/>        host_uuids = [host2.uuid]<br/>    <br/>        d1 = super_client.create_storageDriver(name=sp_name)<br/>        d1 = super_client.wait_success(d1)<br/>        d1 = super_client.update(d1, data={&#39;fields&#39;:<br/>                                           {&#39;volumeAccessMode&#39;:<br/>                                            &#39;singleHostRW&#39;}})<br/>        d1 = super_client.wait_success(d1)<br/>        assert d1.data[&quot;fields&quot;][&quot;volumeAccessMode&quot;] == &quot;singleHostRW&quot;<br/>    <br/>        create_sp_event(client, agent_client, new_context, sp_name, sp_name,<br/>                        SP_CREATE, host_uuids, sp_name,<br/>&gt;                       access_mode=&#39;singleHostRW&#39;)<br/>test_shared_volumes.py:664: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95f5b9fc90&gt;<br/>agent_client = &lt;cattle.Client object at 0x7f95f637c690&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f637da50&gt;<br/>external_id = &#39;storage-random-986836-1499967094&#39;<br/>name = &#39;storage-random-986836-1499967094&#39;, event_type = &#39;storagepool.create&#39;<br/>host_uuids = [&#39;eb45660c-25ee-4d0d-9050-91f71659e832&#39;]<br/>driver_name = &#39;storage-random-986836-1499967094&#39;, agent_account = None<br/>access_mode = &#39;singleHostRW&#39;, block_device_path = None<br/>volume_capabilities = None, driver_id = None<br/>    def create_sp_event(client, agent_client, context, external_id, name,<br/>                        event_type, host_uuids, driver_name, agent_account=None,<br/>                        access_mode=None, block_device_path=None,<br/>                        volume_capabilities=None, driver_id=None):<br/>        storage_pool = {<br/>            &#39;name&#39;: name,<br/>            &#39;externalId&#39;: external_id,<br/>            &#39;driverName&#39;: driver_name,<br/>        }<br/>    <br/>        if access_mode is not None:<br/>            storage_pool[&#39;volumeAccessMode&#39;] = access_mode<br/>    <br/>        if block_device_path is not None:<br/>            storage_pool[&#39;blockDevicePath&#39;] = block_device_path<br/>    <br/>        if volume_capabilities is not None:<br/>            storage_pool[&#39;volumeCapabilities&#39;] = volume_capabilities<br/>    <br/>        if driver_id is not None:<br/>            storage_pool[&#39;storageDriverId&#39;] = driver_id<br/>    <br/>&gt;       event = agent_client.create_external_storage_pool_event(<br/>            externalId=external_id,<br/>            eventType=event_type,<br/>            hostUuids=host_uuids,<br/>            storagePool=storage_pool)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;create_external_storage_pool_event&#39;<br/>test_shared_volumes.py:739: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">47 ms</div>
</em>test_stack</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">47 ms</div>
</em><em class="status">failed</em>test_create_stack_binding</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_stack.py:20 (test_create_stack_binding)<br/>client = &lt;cattle.Client object at 0x7f95ffaf8f50&gt;<br/>    def test_create_stack_binding(client):<br/>        env = _create_stack(client)<br/>&gt;       del env.binding.__dict__[&#39;type&#39;]<br/>test_stack.py:23: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967103000, &#39;createTsFields&#39;: True, &#39;description&#39;: None, &#39;group&#39;: None, &#39;uuid&#39;: u&#39;c8b6b9b4-0695-46f9-...&#39;, &#39;name&#39;: u&#39;random-447840-1499967102&#39;, &#39;created&#39;: u&#39;2017-07-13T17:31:43Z&#39;, &#39;rancherCompose&#39;: None, &#39;serviceIds&#39;: None}<br/>k = &#39;binding&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;binding&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">14.22 s</div>
</em>test_storage_driver</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.69 s</div>
</em><em class="status">failed</em>test_storage_driver_in_use</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_storage_driver.py:34 (test_storage_driver_in_use)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95f654f850&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_storage_driver_in_use(new_context, super_client):<br/>        client = new_context.client<br/>        stack = client.create_stack(name=random_str(),<br/>                                    startOnCreate=True)<br/>        super_client.update(stack, system=True)<br/>        stack = client.wait_success(stack)<br/>        assert stack.state == &#39;active&#39;<br/>    <br/>        s = client.create_storage_driver_service(<br/>            name=random_str(),<br/>            startOnCreate=True,<br/>            stackId=stack.id,<br/>            storageDriver={<br/>                &#39;foo&#39;: &#39;bar&#39;<br/>            })<br/>        s = client.wait_success(s)<br/>        assert s.state == &#39;active&#39;<br/>    <br/>        driver = find_one(s.storageDrivers)<br/>        vol_name = random_str()<br/>        c = new_context.create_container(dataVolumes=[<br/>                                            &#39;{}:/tmp&#39;.format(vol_name)<br/>                                        ],<br/>                                        volumeDriver=driver.name)<br/>        c = client.wait_success(c)<br/>        assert c.state == &#39;running&#39;<br/>    <br/>        vol = find_one(client.list_volume, name=vol_name)<br/>&gt;       assert find_one(vol.storagePools).storageDriverId == driver.id<br/>test_storage_driver.py:63: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967109000, &#39;driverOpts&#39;: None, &#39;hostId&#39;: None, &#39;createTsFields&#39;: True, &#39;description&#39;: None, &#39;uuid&#39;: ..., &#39;name&#39;: u&#39;random-642866-1499967109&#39;, &#39;created&#39;: u&#39;2017-07-13T17:31:49Z&#39;, &#39;uri&#39;: None, &#39;sizeMb&#39;: None, &#39;mounts&#39;: None}<br/>k = &#39;storagePools&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;storagePools&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">796 ms</div>
</em><em class="status">passed</em>test_create_storage_driver_create_local</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.46 s</div>
</em><em class="status">passed</em>test_create_storage_driver_create_delete</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">2.73 s</div>
</em><em class="status">passed</em>test_volume_create_from_driver</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">2.73 s</div>
</em><em class="status">failed</em>test_volume_create_from_driver2</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_storage_driver.py:183 (test_volume_create_from_driver2)<br/>storage_driver_context = &lt;core.test_storage_driver.Context instance at 0x7f95ec4c9368&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_volume_create_from_driver2(storage_driver_context, super_client):<br/>        client = storage_driver_context.new_context.client<br/>        host = storage_driver_context.new_context.host<br/>        driver = storage_driver_context.driver<br/>    <br/>        volume = client.create_volume(name=random_str(),<br/>                                      storageDriverId=driver.id,<br/>                                      hostId=host.id,<br/>                                      driverOpts={&#39;created&#39;: &#39;true&#39;})<br/>        volume = client.wait_success(volume)<br/>        assert volume.state == &#39;detached&#39;<br/>        assert volume.storageDriverId == driver.id<br/>        assert volume.driver == driver.name<br/>    <br/>        volume = super_client.reload(volume)<br/>&gt;       assert len(volume.storagePools()) == 1<br/>test_storage_driver.py:199: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967140000, &#39;virtualSizeMb&#39;: None, &#39;driverOpts&#39;: {&#39;created&#39;: u&#39;true&#39;}, &#39;removeTime&#39;: None, &#39;hostId&#39;: ...967139&#39;, &#39;created&#39;: u&#39;2017-07-13T17:32:20Z&#39;, &#39;uri&#39;: None, &#39;sizeMb&#39;: None, &#39;storagePoolId&#39;: u&#39;1sp21093&#39;, &#39;mounts&#39;: None}<br/>k = &#39;storagePools&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;storagePools&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">4.82 s</div>
</em><em class="status">passed</em>test_volume_create_from_user</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite open">
<span><em class="time">
<div class="time">744 ms</div>
</em>test_subscribe</span>
<ul>
<li class="level test">
<span><em class="time">
<div class="time">744 ms</div>
</em><em class="status">passed</em>test_websocket_close</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">5.14 s</div>
</em>test_svc_api_validation</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">905 ms</div>
</em><em class="status">failed</em>test_create_duplicated_services</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_api_validation.py:11 (test_create_duplicated_services)<br/>client = &lt;cattle.Client object at 0x7f9606aa9b90&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f78bfc10&gt;<br/>    def test_create_duplicated_services(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>        service_name = random_str()<br/>        service1 = client.create_service(name=service_name,<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        client.wait_success(service1)<br/>    <br/>        with pytest.raises(ApiError) as e:<br/>            client.create_service(name=service_name,<br/>                                  stackId=env.id,<br/>                                  launchConfig=launch_config)<br/>        assert e.value.error.status == 422<br/>        assert e.value.error.code == &#39;NotUnique&#39;<br/>        assert e.value.error.fieldName == &#39;name&#39;<br/>    <br/>        with pytest.raises(ApiError) as e:<br/>            client.create_service(name=service_name.upper(),<br/>                                  stackId=env.id,<br/>                                  launchConfig=launch_config)<br/>        assert e.value.error.status == 422<br/>        assert e.value.error.code == &#39;NotUnique&#39;<br/>        assert e.value.error.fieldName == &#39;name&#39;<br/>    <br/>        with pytest.raises(ApiError) as e:<br/>            client.create_externalService(name=service_name,<br/>                                          stackId=env.id,<br/>                                          launchConfig=launch_config,<br/>                                          externalIpAddresses=[&quot;72.22.16.5&quot;])<br/>        assert e.value.error.status == 422<br/>        assert e.value.error.code == &#39;NotUnique&#39;<br/>        assert e.value.error.fieldName == &#39;name&#39;<br/>    <br/>        with pytest.raises(ApiError) as e:<br/>            client.create_dnsService(name=service_name,<br/>                                     stackId=env.id)<br/>        assert e.value.error.status == 422<br/>        assert e.value.error.code == &#39;NotUnique&#39;<br/>        assert e.value.error.fieldName == &#39;name&#39;<br/>    <br/>        # remove the service and try to re-use its name<br/>&gt;       client.wait_success(service1.remove())<br/>test_svc_api_validation.py:56: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f9606aa9b90&gt;<br/>url = &#39;http://localhost:8080/v2/scalinggroups/1s296/?action=remove&#39;, args = ()<br/>kw = {}, retries = 3<br/>last_error = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;35d6c56e-a76a-41bb-b5cd-49cfe0f20ad5&#39;}&quot;)<br/>i = 2<br/>e = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;35d6c56e-a76a-41bb-b5cd-49cfe0f20ad5&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>                    raise e<br/>&gt;       raise last_error<br/>E       ApiError: (ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Conflict&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;35d6c56e-a76a-41bb-b5cd-49cfe0f20ad5&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:388: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">62 ms</div>
</em><em class="status">passed</em>test_external_service_w_hostname</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">98 ms</div>
</em><em class="status">passed</em>test_circular_refs</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">148 ms</div>
</em><em class="status">passed</em>test_no_circular_ref</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">107 ms</div>
</em><em class="status">passed</em>test_vip_requested_ip</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">496 ms</div>
</em><em class="status">passed</em>test_add_svc_to_removed_stack</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">325 ms</div>
</em><em class="status">passed</em>test_validate_launch_config_name</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">354 ms</div>
</em><em class="status">passed</em>test_validate_service_token</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">387 ms</div>
</em><em class="status">failed</em>test_ip_retain</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_api_validation.py:239 (test_ip_retain)<br/>client = &lt;cattle.Client object at 0x7f9606aa9b90&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f78bfc10&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_ip_retain(client, context, super_client):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>                                    scale=1,<br/>                                    retainIp=True)<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>    <br/>        # validate that startFirst can&#39;t be used on a service with retainIp = true<br/>        strategy = {&quot;launchConfig&quot;: launch_config,<br/>                    &quot;intervalMillis&quot;: 100,<br/>                    &quot;startFirst&quot;: True}<br/>        with pytest.raises(ApiError) as e:<br/>&gt;           svc.upgrade_action(inServiceStrategy=strategy)<br/>E           Failed: DID NOT RAISE &lt;class &#39;gdapi.ApiError&#39;&gt;<br/>test_svc_api_validation.py:259: Failed<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">179 ms</div>
</em><em class="status">passed</em>test_null_scale</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">297 ms</div>
</em><em class="status">passed</em>test_validate_svc_name</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">774 ms</div>
</em><em class="status">failed</em>test_setlinks_on_removed</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_api_validation.py:328 (test_setlinks_on_removed)<br/>client = &lt;cattle.Client object at 0x7f9606aa9b90&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f78bfc10&gt;<br/>    def test_setlinks_on_removed(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config)<br/>        svc = client.wait_success(svc)<br/>    <br/>        target = client.create_service(name=random_str(),<br/>                                       stackId=env.id,<br/>                                       launchConfig=launch_config)<br/>        target = client.wait_success(target)<br/>&gt;       client.wait_success(target.remove())<br/>test_svc_api_validation.py:344: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f9606aa9b90&gt;<br/>url = &#39;http://localhost:8080/v2/scalinggroups/1s307/?action=remove&#39;, args = ()<br/>kw = {}, retries = 3<br/>last_error = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;6d1b0f08-c194-4314-b3ef-09cfc889d635&#39;}&quot;)<br/>i = 2<br/>e = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;6d1b0f08-c194-4314-b3ef-09cfc889d635&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>                    raise e<br/>&gt;       raise last_error<br/>E       ApiError: (ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Conflict&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;6d1b0f08-c194-4314-b3ef-09cfc889d635&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:388: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">93 ms</div>
</em><em class="status">passed</em>test_invalid_ports</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">112 ms</div>
</em><em class="status">passed</em>test_service_kind_external</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">159 ms</div>
</em><em class="status">passed</em>test_service_kind_storage</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">260 ms</div>
</em><em class="status">passed</em>test_service_kind_network</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">150 ms</div>
</em><em class="status">failed</em>test_service_kind_alias</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_api_validation.py:411 (test_service_kind_alias)<br/>client = &lt;cattle.Client object at 0x7f9606aa9b90&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f78bfc10&gt;<br/>    def test_service_kind_alias(client, context):<br/>        stack = _create_stack(client)<br/>        launch_config = {&quot;imageUuid&quot;: &quot;rancher/dns-service&quot;}<br/>        svc = client. \<br/>            create_service(name=random_str(),<br/>                           stackId=stack.id,<br/>                           launchConfig=launch_config)<br/>&gt;       assert svc.kind == &#39;dnsService&#39;<br/>E       assert &#39;scalingGroup&#39; == &#39;dnsService&#39;<br/>E         - scalingGroup<br/>E         + dnsService<br/>test_svc_api_validation.py:419: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">118 ms</div>
</em><em class="status">failed</em>test_service_kind_selector</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_api_validation.py:421 (test_service_kind_selector)<br/>client = &lt;cattle.Client object at 0x7f9606aa9b90&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f78bfc10&gt;<br/>    def test_service_kind_selector(client, context):<br/>        stack = _create_stack(client)<br/>        svc = client. \<br/>            create_service(name=random_str(),<br/>                           stackId=stack.id,<br/>                           selectorContainer=&quot;foo=bar&quot;)<br/>&gt;       assert svc.kind == &#39;selectorService&#39;<br/>E       assert &#39;service&#39; == &#39;selectorService&#39;<br/>E         - service<br/>E         + selectorService<br/>test_svc_api_validation.py:428: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">120 ms</div>
</em><em class="status">passed</em>test_service_kind_lb</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">6 m 45 s</div>
</em>test_svc_discovery</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">942 ms</div>
</em><em class="status">failed</em>test_mix_cased_labels</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:34 (test_mix_cased_labels)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_mix_cased_labels(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &#39;labels&#39;: {<br/>                &#39;aAa&#39;: &#39;AaA&#39;,<br/>            }}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config)<br/>        assert launch_config[&#39;labels&#39;] == service.launchConfig.labels<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>        service = client.wait_success(service.activate())<br/>        assert launch_config[&#39;labels&#39;] == service.launchConfig.labels<br/>    <br/>&gt;       instance = find_one(_get_instance_for_service, client, service.id)<br/>test_svc_discovery.py:54: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:690: in find_one<br/>    return find_count(1, method, *args, **kw)[0]<br/>common_fixtures.py:694: in find_count<br/>    ret = method(*args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>super_client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;, serviceId = &#39;1s315&#39;<br/>    def _get_instance_for_service(super_client, serviceId):<br/>        instances = []<br/>&gt;       instance_service_maps = super_client. \<br/>            list_serviceExposeMap(serviceId=serviceId, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:3030: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">319 ms</div>
</em><em class="status">passed</em>test_update_env_service</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">244 ms</div>
</em><em class="status">passed</em>test_env_set_outputs</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">891 ms</div>
</em><em class="status">failed</em>test_service_fields</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:99 (test_service_fields)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_service_fields(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>    <br/>        container1 = client.create_container(imageUuid=image_uuid,<br/>                                             startOnCreate=True)<br/>        container2 = client.create_container(imageUuid=image_uuid,<br/>                                             startOnCreate=True)<br/>    <br/>        client.wait_success(container1)<br/>    <br/>        container2 = client.wait_success(container2)<br/>    <br/>        caps = [&quot;SYS_MODULE&quot;]<br/>    <br/>        dns = [&#39;8.8.8.8&#39;, &#39;1.2.3.4&#39;]<br/>        search = [&#39;foo&#39;, &#39;bar&#39;]<br/>    <br/>        health_check = {&quot;name&quot;: &quot;check1&quot;, &quot;responseTimeout&quot;: 3,<br/>                        &quot;interval&quot;: 4, &quot;healthyThreshold&quot;: 5,<br/>                        &quot;unhealthyThreshold&quot;: 6, &quot;requestLine&quot;: &quot;index.html&quot;,<br/>                        &quot;port&quot;: 200}<br/>    <br/>        labels = {&quot;foo&quot;: &quot;bar&quot;}<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        consumed_service = client.create_service(name=random_str(),<br/>                                                 stackId=env.id,<br/>                                                 launchConfig=launch_config)<br/>        client.wait_success(consumed_service)<br/>        container_meta = {&quot;foo&quot;: &quot;bar&quot;, &quot;foo1&quot;: &quot;bar1&quot;}<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &quot;command&quot;: [&#39;sleep&#39;, &#39;42&#39;],<br/>                         &quot;environment&quot;: {&#39;TEST_FILE&#39;: &quot;/etc/testpath.conf&quot;},<br/>                         &quot;ports&quot;: [&#39;8681&#39;, &#39;8082/tcp&#39;],<br/>                         &quot;dataVolumes&quot;: [&#39;/foo&#39;],<br/>                         &quot;capAdd&quot;: caps,<br/>                         &quot;capDrop&quot;: caps,<br/>                         &quot;dnsSearch&quot;: search,<br/>                         &quot;dns&quot;: dns,<br/>                         &quot;privileged&quot;: True,<br/>                         &quot;domainName&quot;: &quot;rancher.io&quot;,<br/>                         &quot;memory&quot;: 8000000,<br/>                         &quot;stdinOpen&quot;: True,<br/>                         &quot;tty&quot;: True,<br/>                         &quot;entryPoint&quot;: [&quot;/bin/sh&quot;, &quot;-c&quot;],<br/>                         &quot;cpuShares&quot;: 400,<br/>                         &quot;cpuSet&quot;: &quot;2&quot;,<br/>                         &quot;workingDir&quot;: &quot;/&quot;,<br/>                         &quot;hostname&quot;: &quot;test&quot;,<br/>                         &quot;user&quot;: &quot;test&quot;,<br/>                         &quot;instanceLinks&quot;: {<br/>                             &#39;container2_link&#39;:<br/>                                 container2.id},<br/>                         &quot;healthCheck&quot;: health_check,<br/>                         &quot;labels&quot;: labels,<br/>                         &quot;metadata&quot;: container_meta}<br/>    <br/>        metadata = {&quot;bar&quot;: {&quot;foo&quot;: [{&quot;id&quot;: 0}]}}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>                                    metadata=metadata)<br/>        svc = client.wait_success(svc)<br/>    <br/>        # validate that parameters were set for service<br/>        assert svc.state == &quot;inactive&quot;<br/>&gt;       assert svc.launchConfig.imageUuid == image_uuid<br/>E       assert &#39;docker:rando...72-1499967184&#39; == &#39;random-514072-1499967184&#39;<br/>E         - docker:random-514072-1499967184<br/>E         ? -------<br/>E         + random-514072-1499967184<br/>test_svc_discovery.py:169: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.00 s</div>
</em><em class="status">passed</em>test_activate_single_service</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.25 s</div>
</em><em class="status">passed</em>test_activate_services</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">960 ms</div>
</em><em class="status">failed</em>test_deactivate_remove_service</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:300 (test_deactivate_remove_service)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_deactivate_remove_service(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>&gt;       instance_service_map = client. \<br/>            list_serviceExposeMap(serviceId=service.id)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:314: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">2.08 s</div>
</em><em class="status">failed</em>test_env_deactivate_services</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:333 (test_env_deactivate_services)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_env_deactivate_services(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service1 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service1 = client.wait_success(service1)<br/>        assert service1.state == &quot;inactive&quot;<br/>    <br/>        service2 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service2 = client.wait_success(service2)<br/>        assert service2.state == &quot;inactive&quot;<br/>    <br/>        # activate services<br/>        env = env.activateservices()<br/>        service1 = client.wait_success(service1, 120)<br/>        service2 = client.wait_success(service2, 120)<br/>        assert service1.state == &quot;active&quot;<br/>        assert service2.state == &quot;active&quot;<br/>    <br/>        # deactivate service<br/>&gt;       service1 = client.wait_success(service1.deactivate())<br/>test_svc_discovery.py:360: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>url = &#39;http://localhost:8080/v2/scalinggroups/1s324/?action=deactivate&#39;<br/>args = (), kw = {}, retries = 3<br/>last_error = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;cd40bd1b-a701-4ea1-bf16-bcde178d410c&#39;}&quot;)<br/>i = 2<br/>e = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;cd40bd1b-a701-4ea1-bf16-bcde178d410c&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>                    raise e<br/>&gt;       raise last_error<br/>E       ApiError: (ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Conflict&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;cd40bd1b-a701-4ea1-bf16-bcde178d410c&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:388: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.20 s</div>
</em><em class="status">failed</em>test_remove_inactive_service</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:376 (test_remove_inactive_service)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_remove_inactive_service(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service1 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service1 = client.wait_success(service1)<br/>        assert service1.state == &quot;inactive&quot;<br/>    <br/>        client.create_service(name=random_str(),<br/>                              stackId=env.id,<br/>                              launchConfig=launch_config)<br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # activate service<br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>&gt;       instance_service_map = client. \<br/>            list_serviceExposeMap(serviceId=service.id)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:401: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.56 s</div>
</em><em class="status">failed</em>test_remove_stack</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:420 (test_remove_stack)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_remove_stack(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # activate services<br/>        env = env.activateservices()<br/>        service = client.wait_success(service, 120)<br/>        assert service.state == &quot;active&quot;<br/>&gt;       instance_service_map = client. \<br/>            list_serviceExposeMap(serviceId=service.id)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:437: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.80 s</div>
</em><em class="status">passed</em>test_link_volumes</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.68 s</div>
</em><em class="status">passed</em>test_volumes_service_links_scale_one</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">3.44 s</div>
</em><em class="status">failed</em>test_volumes_service_links_deactivate</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:524 (test_volumes_service_links_deactivate)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_volumes_service_links_deactivate(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &quot;dataVolumesFromLaunchConfigs&quot;: [&quot;secondary1&quot;]}<br/>        sec_lc_1 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary1&quot;,<br/>                    &quot;dataVolumesFromLaunchConfigs&quot;: [&quot;secondary2&quot;]}<br/>        sec_lc_2 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary2&quot;}<br/>        service = client. \<br/>            create_service(name=&quot;primary&quot;,<br/>                           stackId=env.id,<br/>                           launchConfig=launch_config,<br/>                           secondaryLaunchConfigs=[sec_lc_1, sec_lc_2])<br/>        service = client.wait_success(service)<br/>    <br/>        service = client.wait_success(service.activate(), 120)<br/>    <br/>        assert service.state == &quot;active&quot;<br/>    <br/>        # 2. validate instances<br/>        s1_container = _validate_compose_instance_start(client, service, env, &quot;1&quot;)<br/>        s2_container = _validate_compose_instance_start(client, service, env,<br/>                                                        &quot;1&quot;, &quot;secondary1&quot;)<br/>        s3_container = _validate_compose_instance_start(client, service, env,<br/>                                                        &quot;1&quot;, &quot;secondary2&quot;)<br/>    <br/>        # deactivate service and activate again<br/>&gt;       service = client.wait_success(service.deactivate())<br/>test_svc_discovery.py:553: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>url = &#39;http://localhost:8080/v2/scalinggroups/1s332/?action=deactivate&#39;<br/>args = (), kw = {}, retries = 3<br/>last_error = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;a462b19c-aa0a-433f-8585-48bdae463276&#39;}&quot;)<br/>i = 2<br/>e = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;a462b19c-aa0a-433f-8585-48bdae463276&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>                    raise e<br/>&gt;       raise last_error<br/>E       ApiError: (ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Conflict&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;a462b19c-aa0a-433f-8585-48bdae463276&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:388: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.76 s</div>
</em><em class="status">passed</em>test_volumes_service_links_scale_two</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">919 ms</div>
</em><em class="status">failed</em>test_remove_active_service</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:589 (test_remove_active_service)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_remove_active_service(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # activate service<br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>&gt;       instance_service_map = client. \<br/>            list_serviceExposeMap(serviceId=service.id)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:605: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">899 ms</div>
</em><em class="status">failed</em>test_remove_stack_w_active_svcs</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:631 (test_remove_stack_w_active_svcs)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_remove_stack_w_active_svcs(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # activate services<br/>        env = env.activateservices()<br/>        service = client.wait_success(service, 120)<br/>        assert service.state == &quot;active&quot;<br/>&gt;       instance_service_map = client. \<br/>            list_serviceExposeMap(serviceId=service.id)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:648: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">15.70 s</div>
</em><em class="status">failed</em>test_validate_service_scaleup_scaledown</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:691 (test_validate_service_scaleup_scaledown)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_validate_service_scaleup_scaledown(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service = client.create_service(name=&quot;scaleup&quot;,<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=2)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>&gt;       wait_for(lambda: client.reload(service).healthState == &#39;unhealthy&#39;)<br/>test_svc_discovery.py:704: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f95f8fc9b90&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">4.41 s</div>
</em><em class="status">failed</em>test_destroy_service_instance</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:777 (test_destroy_service_instance)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_destroy_service_instance(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=3)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # activate service<br/>        service.activate()<br/>        service = client.wait_success(service, 120)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        instance1 = _validate_compose_instance_start(client, service, env, &quot;1&quot;)<br/>        instance2 = _validate_compose_instance_start(client, service, env, &quot;2&quot;)<br/>        instance3 = _validate_compose_instance_start(client, service, env, &quot;3&quot;)<br/>    <br/>        # 1. stop and remove the instance2. Validate the mapping is gone<br/>        _instance_remove(instance2, client)<br/>&gt;       wait_for(lambda: len(client.<br/>                             list_serviceExposeMap(serviceId=service.id,<br/>                                                   instanceId=instance2.id)) == 0)<br/>test_svc_discovery.py:802: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>&gt;   wait_for(lambda: len(client.<br/>                         list_serviceExposeMap(serviceId=service.id,<br/>                                               instanceId=instance2.id)) == 0)<br/>E   AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:802: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.77 s</div>
</em><em class="status">passed</em>test_service_rename</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">2.21 s</div>
</em><em class="status">passed</em>test_env_rename</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">13.15 s</div>
</em><em class="status">failed</em>test_validate_scale_down_restore_state</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:900 (test_validate_scale_down_restore_state)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_validate_scale_down_restore_state(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=3)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # activate services<br/>        env.activateservices()<br/>        service = client.wait_success(service, 120)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        instance1 = _validate_compose_instance_start(client, service, env, &quot;1&quot;)<br/>        instance2 = _validate_compose_instance_start(client, service, env, &quot;2&quot;)<br/>        instance3 = _validate_compose_instance_start(client, service, env, &quot;3&quot;)<br/>        # stop the instances 1, 2 and destroy instance 3<br/>        client.wait_success(instance1.stop(stopSource=&quot;external&quot;))<br/>        client.wait_success(instance2.stop(stopSource=&quot;external&quot;))<br/>        _instance_remove(instance3, client)<br/>    <br/>        # wait for reconcile<br/>        service = wait_state(client, service, &#39;active&#39;)<br/>    <br/>        # scale down the service and validate that:<br/>        # first instance is running<br/>        # second instance is removed<br/>        # third instance is removed<br/>        service = client.update(service, scale=1, name=service.name)<br/>        service = wait_state(client, service, &#39;active&#39;)<br/>    <br/>        # validate that only one service instance mapping exists<br/>        wait_for(<br/>&gt;           lambda: len(client.list_serviceExposeMap(serviceId=service.id,<br/>                                                     state=&#39;active&#39;)) == 1<br/>        )<br/>test_svc_discovery.py:939: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>&gt;   lambda: len(client.list_serviceExposeMap(serviceId=service.id,<br/>                                             state=&#39;active&#39;)) == 1<br/>        )<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:939: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.21 s</div>
</em><em class="status">passed</em>test_validate_labels</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.62 s</div>
</em><em class="status">failed</em>test_deployment_unit_destroy_instance</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:994 (test_deployment_unit_destroy_instance)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95ff839b10&gt;<br/>    def test_deployment_unit_destroy_instance(super_client, new_context):<br/>        client = new_context.client<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &quot;labels&quot;: {&quot;io.rancher.sidekicks&quot;: &quot;secondary&quot;}}<br/>        secondary_lc = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary&quot;}<br/>    <br/>        assert len(client.list_host()) == 1<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        secondaryLaunchConfigs=[secondary_lc])<br/>        service = client.wait_success(service)<br/>    <br/>        # activate service1<br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>&gt;       _validate_service_instance_map_count(client, service, &quot;active&quot;, 2)<br/>test_svc_discovery.py:1015: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_discovery.py:1196: in _validate_service_instance_map_count<br/>    wait_for(lambda: wait_for_condition(client, service,<br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_discovery.py:1197: in &lt;lambda&gt;<br/>    wait_for_map_count))<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499967251000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...017-07-13T17:34:11Z&#39;, &#39;revisionId&#39;: u&#39;1r600&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 2, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=state)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:1192: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.60 s</div>
</em><em class="status">failed</em>test_sidekick_destroy_instance</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1040 (test_sidekick_destroy_instance)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_sidekick_destroy_instance(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &quot;dataVolumesFromLaunchConfigs&quot;: [&#39;secondary&#39;]}<br/>        secondary_lc = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary&quot;}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        secondaryLaunchConfigs=[secondary_lc])<br/>        service = client.wait_success(service)<br/>    <br/>        # activate service1<br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>&gt;       _validate_service_instance_map_count(client, service, &quot;active&quot;, 2)<br/>test_svc_discovery.py:1058: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_discovery.py:1196: in _validate_service_instance_map_count<br/>    wait_for(lambda: wait_for_condition(client, service,<br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_discovery.py:1197: in &lt;lambda&gt;<br/>    wait_for_map_count))<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499967253000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;da...&#39;2017-07-13T17:34:13Z&#39;, &#39;revisionId&#39;: u&#39;1r601&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 2, &#39;instanceIds&#39;: []}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=state)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:1192: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.84 s</div>
</em><em class="status">failed</em>test_sidekick_restart_instances</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1086 (test_sidekick_restart_instances)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_sidekick_restart_instances(client, context):<br/>        env = _create_stack(client)<br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>        secondary_lc = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary&quot;}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=2,<br/>                                        secondaryLaunchConfigs=[secondary_lc])<br/>        service = client.wait_success(service)<br/>    <br/>        # activate service1<br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        i11 = _validate_compose_instance_start(client, service, env, &quot;1&quot;)<br/>        i12 = _validate_compose_instance_start(client, service, env, &quot;2&quot;)<br/>        i21 = _validate_compose_instance_start(client, service, env, &quot;1&quot;,<br/>                                               &quot;secondary&quot;)<br/>        i22 = _validate_compose_instance_start(client, service,<br/>                                               env, &quot;2&quot;, &quot;secondary&quot;)<br/>    <br/>&gt;       _wait_until_active_map_count(service, 4, client)<br/>test_svc_discovery.py:1111: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_discovery.py:627: in _wait_until_active_map_count<br/>    wait_for(lambda: wait_for_condition(client, service, wait_for_map_count))<br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_discovery.py:627: in &lt;lambda&gt;<br/>    wait_for(lambda: wait_for_condition(client, service, wait_for_map_count))<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499967255000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...017-07-13T17:34:15Z&#39;, &#39;revisionId&#39;: u&#39;1r602&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 4, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:623: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">9.17 s</div>
</em><em class="status">failed</em>test_sidekick_scaleup</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1153 (test_sidekick_scaleup)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_sidekick_scaleup(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>        secondary_lc = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary&quot;}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=1,<br/>                                        secondaryLaunchConfigs=[secondary_lc])<br/>        service = client.wait_success(service)<br/>    <br/>        # activate service1, service 2 should be activated too<br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        _validate_compose_instance_start(client, service, env, &quot;1&quot;)<br/>        _validate_compose_instance_start(client, service, env, &quot;1&quot;, &quot;secondary&quot;)<br/>    <br/>        # scale up service1, verify that the service 2 was scaled up and updated<br/>        service = client.update(service, scale=2, name=service.name)<br/>        _wait_compose_instance_start(client, service, env, &quot;1&quot;)<br/>        _wait_compose_instance_start(client, service, env, &quot;2&quot;)<br/>        _wait_compose_instance_start(client, service, env, &quot;1&quot;)<br/>        _wait_compose_instance_start(client, service, env, &quot;2&quot;)<br/>    <br/>        service = client.wait_success(service, 120)<br/>        assert service.state == &quot;active&quot;<br/>        assert service.scale == 2<br/>    <br/>&gt;       wait_for(lambda: len(client.<br/>                 list_serviceExposeMap(serviceId=service.id, state=&quot;active&quot;)) == 4)<br/>test_svc_discovery.py:1186: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>&gt;   wait_for(lambda: len(client.<br/>             list_serviceExposeMap(serviceId=service.id, state=&quot;active&quot;)) == 4)<br/>E   AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:1186: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.50 s</div>
</em><em class="status">failed</em>test_external_service_w_ips</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1202 (test_external_service_w_ips)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_external_service_w_ips(client, context):<br/>        env = _create_stack(client)<br/>        # create service1 as a regular service<br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service1 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service1 = client.wait_success(service1)<br/>    <br/>        # create service 2 as external<br/>        ips = [&quot;72.22.16.5&quot;, &#39;192.168.0.10&#39;]<br/>        service2 = client.create_externalService(name=random_str(),<br/>                                                 stackId=env.id,<br/>                                                 launchConfig=launch_config,<br/>                                                 externalIpAddresses=ips)<br/>        service2 = client.wait_success(service2)<br/>    <br/>        # activate services<br/>        env.activateservices()<br/>        service1 = client.wait_success(service1)<br/>        assert service1.state == &#39;active&#39;<br/>    <br/>        service2 = client.wait_success(service2)<br/>        assert service2.state == &#39;active&#39;<br/>        assert service2.externalIpAddresses == ips<br/>    <br/>        # deactivate external service<br/>&gt;       service2 = client.wait_success(service2.deactivate())<br/>test_svc_discovery.py:1232: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>url = &#39;http://localhost:8080/v2/externalservices/1s350/?action=deactivate&#39;<br/>args = (), kw = {}, retries = 3<br/>last_error = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;6cd06a5c-5263-4c7d-85e5-19ade53bb5ee&#39;}&quot;)<br/>i = 2<br/>e = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;6cd06a5c-5263-4c7d-85e5-19ade53bb5ee&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>                    raise e<br/>&gt;       raise last_error<br/>E       ApiError: (ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Conflict&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;6cd06a5c-5263-4c7d-85e5-19ade53bb5ee&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:388: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.31 s</div>
</em><em class="status">failed</em>test_external_service_w_hostname</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1255 (test_external_service_w_hostname)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_external_service_w_hostname(super_client, client, context):<br/>        env = _create_stack(client)<br/>        # create service1 as a regular service<br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service1 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service1 = client.wait_success(service1)<br/>    <br/>        # create service 2 as external<br/>        service2 = client.create_externalService(name=random_str(),<br/>                                                 stackId=env.id,<br/>                                                 launchConfig=launch_config,<br/>                                                 hostname=&quot;a.com&quot;)<br/>        service2 = client.wait_success(service2)<br/>    <br/>        # activate services<br/>        env.activateservices()<br/>        service1 = client.wait_success(service1)<br/>        assert service1.state == &#39;active&#39;<br/>    <br/>        service2 = client.wait_success(service2)<br/>        assert service2.state == &#39;active&#39;<br/>        assert service2.hostname == &quot;a.com&quot;<br/>    <br/>        # deactivate external service<br/>&gt;       service2 = client.wait_success(service2.deactivate())<br/>test_svc_discovery.py:1284: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:235: in &lt;lambda&gt;<br/>    *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:429: in action<br/>    return self._post_and_retry(url, *args, **kw)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>url = &#39;http://localhost:8080/v2/externalservices/1s352/?action=deactivate&#39;<br/>args = (), kw = {}, retries = 3<br/>last_error = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;17608280-f8f0-4f56-9872-bf6d4cc817ff&#39;}&quot;)<br/>i = 2<br/>e = ApiError(ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Confli...u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;17608280-f8f0-4f56-9872-bf6d4cc817ff&#39;}&quot;)<br/>    def _post_and_retry(self, url, *args, **kw):<br/>        retries = kw.get(&#39;retries&#39;, 3)<br/>        last_error = None<br/>        for i in range(retries):<br/>            try:<br/>                return self._post(url, data=self._to_dict(*args, **kw))<br/>            except ApiError as e:<br/>                if e.error.status == 409:<br/>                    last_error = e<br/>                    time.sleep(.1)<br/>                else:<br/>                    raise e<br/>&gt;       raise last_error<br/>E       ApiError: (ApiError(...), &quot;Conflict : Conflict\n{&#39;status&#39;: 409, &#39;code&#39;: u&#39;Conflict&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;message&#39;: u&#39;Conflict&#39;, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;17608280-f8f0-4f56-9872-bf6d4cc817ff&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:388: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">5.23 s</div>
</em><em class="status">failed</em>test_global_service</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1300 (test_global_service)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95f7185810&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_global_service(new_context, super_client):<br/>        client = new_context.client<br/>        host1 = new_context.host<br/>        host2 = register_simulated_host(new_context)<br/>    <br/>        # add labels to the hosts<br/>        labels = {&#39;group&#39;: &#39;web&#39;, &#39;subgroup&#39;: &#39;Foo&#39;}<br/>        host1 = client.update(host1, labels=labels)<br/>        host2 = client.update(host2, labels=labels)<br/>    <br/>        # create stack and services<br/>        env = _create_stack(client)<br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &quot;labels&quot;: {<br/>                &#39;io.rancher.scheduler.global&#39;: &#39;true&#39;,<br/>                &#39;io.rancher.scheduler.affinity:host_label&#39;:<br/>                    &#39;group=Web,subgroup=foo&#39;<br/>            }<br/>        }<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config)<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>    <br/>        # 1. verify that the service was activated<br/>&gt;       svc = client.wait_success(svc.activate(), 120)<br/>test_svc_discovery.py:1329: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f814a690&gt;<br/>obj = {&#39;createdTS&#39;: 1499967279000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:34:39Z&#39;, &#39;revisionId&#39;: u&#39;1r609&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>timeout = 120<br/>    def wait_success(self, obj, timeout=-1):<br/>        obj = self.wait_transitioning(obj, timeout)<br/>        if obj.transitioning != &#39;no&#39;:<br/>&gt;           raise gdapi.ClientApiError(obj.transitioningMessage)<br/>E           ClientApiError: None<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:17: ClientApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">2.02 s</div>
</em><em class="status">failed</em>test_global_service_update_label</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1353 (test_global_service_update_label)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95f47f4650&gt;<br/>    def test_global_service_update_label(new_context):<br/>        client = new_context.client<br/>        host1 = new_context.host<br/>        host2 = register_simulated_host(new_context)<br/>    <br/>        # add labels to the hosts<br/>        labels = {&#39;group&#39;: &#39;web&#39;}<br/>        host1 = client.update(host1, labels=labels)<br/>    <br/>        # create stack and services<br/>        env = _create_stack(client)<br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &quot;labels&quot;: {<br/>                &#39;io.rancher.scheduler.global&#39;: &#39;true&#39;,<br/>                &#39;io.rancher.scheduler.affinity:host_label&#39;: &#39;group=web&#39;<br/>            }<br/>        }<br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # 1. verify that the service was activated<br/>&gt;       service = client.wait_success(service.activate(), 120)<br/>test_svc_discovery.py:1380: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f5245710&gt;<br/>obj = {&#39;createdTS&#39;: 1499967291000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:34:51Z&#39;, &#39;revisionId&#39;: u&#39;1r611&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>timeout = 120<br/>    def wait_success(self, obj, timeout=-1):<br/>        obj = self.wait_transitioning(obj, timeout)<br/>        if obj.transitioning != &#39;no&#39;:<br/>&gt;           raise gdapi.ClientApiError(obj.transitioningMessage)<br/>E           ClientApiError: None<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:17: ClientApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">929 ms</div>
</em><em class="status">failed</em>test_global_add_host</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1421 (test_global_add_host)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95fb96bd90&gt;<br/>    def test_global_add_host(new_context):<br/>        client = new_context.client<br/>        host1 = new_context.host<br/>    <br/>        # create stack and services<br/>        env = _create_stack(client)<br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &quot;labels&quot;: {<br/>                &#39;io.rancher.scheduler.global&#39;: &#39;true&#39;<br/>            }<br/>        }<br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # 1. verify that the service was activated<br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        # 2. verify that the instance was started on host1<br/>        instance1 = _validate_compose_instance_start(client,<br/>                                                     service, env, &quot;1&quot;)<br/>&gt;       instance1_host = instance1.hosts()[0].id<br/>test_svc_discovery.py:1448: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.wait&#39;: u&#39;true&#39;, &#39;io.rancher...9967297.rancher.internal&#39;, u&#39;random-943441-1499967297.random-481314-1499967297.rancher.internal&#39;, u&#39;rancher.internal&#39;]}<br/>k = &#39;hosts&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;hosts&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.55 s</div>
</em><em class="status">passed</em>test_svc_container_reg_cred_and_image</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.92 s</div>
</em><em class="status">passed</em>test_network_from_service</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.65 s</div>
</em><em class="status">passed</em>test_sidekick_network_from</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">5.15 s</div>
</em><em class="status">failed</em>test_service_affinity_rules</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1595 (test_service_affinity_rules)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95f0d24b10&gt;<br/>    def test_service_affinity_rules(super_client, new_context):<br/>        register_simulated_host(new_context)<br/>        register_simulated_host(new_context)<br/>    <br/>        client = new_context.client<br/>    <br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = new_context.image_uuid<br/>        name = random_str()<br/>        service_name = &quot;service&quot; + name<br/>    <br/>        # test anti-affinity<br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &quot;labels&quot;: {<br/>                &quot;io.rancher.scheduler.affinity:container_label_ne&quot;:<br/>                    &quot;io.rancher.stack_service.name=&quot; +<br/>                    env.name + &#39;/&#39; + service_name<br/>            }<br/>        }<br/>    <br/>        service = client.create_service(name=service_name,<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=3)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        # check that all containers are on different hosts<br/>&gt;       instances = _get_instance_for_service(super_client, service.id)<br/>test_svc_discovery.py:1629: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;, serviceId = &#39;1s363&#39;<br/>    def _get_instance_for_service(super_client, serviceId):<br/>        instances = []<br/>&gt;       instance_service_maps = super_client. \<br/>            list_serviceExposeMap(serviceId=serviceId, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:3030: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">4.61 s</div>
</em><em class="status">failed</em>test_affinity_auto_prepend_stack</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1666 (test_affinity_auto_prepend_stack)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95ee6c5290&gt;<br/>    def test_affinity_auto_prepend_stack(super_client, new_context):<br/>        register_simulated_host(new_context)<br/>        register_simulated_host(new_context)<br/>    <br/>        client = new_context.client<br/>    <br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = new_context.image_uuid<br/>        name = random_str()<br/>        service_name = &quot;service&quot; + name<br/>    <br/>        # test anti-affinity<br/>        # only service_name is supplied.<br/>        # env/project/stack should be automatically prepended<br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &quot;labels&quot;: {<br/>                &quot;io.rancher.scheduler.affinity:container_label_ne&quot;:<br/>                    &quot;io.rancher.stack_service.name=&quot; +<br/>                    service_name<br/>            }<br/>        }<br/>    <br/>        service = client.create_service(name=service_name,<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=3)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        # check that all containers are on different hosts<br/>&gt;       instances = _get_instance_for_service(super_client, service.id)<br/>test_svc_discovery.py:1702: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;, serviceId = &#39;1s365&#39;<br/>    def _get_instance_for_service(super_client, serviceId):<br/>        instances = []<br/>&gt;       instance_service_maps = super_client. \<br/>            list_serviceExposeMap(serviceId=serviceId, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:3030: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">4.74 s</div>
</em><em class="status">failed</em>test_affinity_auto_prepend_stack_other_service</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1708 (test_affinity_auto_prepend_stack_other_service)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95ea5abd10&gt;<br/>    def test_affinity_auto_prepend_stack_other_service(super_client, new_context):<br/>        register_simulated_host(new_context)<br/>    <br/>        client = new_context.client<br/>    <br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = new_context.image_uuid<br/>        service_name1 = &quot;service&quot; + random_str()<br/>        service_name2 = &quot;service&quot; + random_str()<br/>    <br/>        service1 = client.create_service(name=service_name1,<br/>                                         stackId=env.id,<br/>                                         launchConfig={<br/>                                             &quot;imageUuid&quot;: image_uuid,<br/>                                         },<br/>                                         scale=1)<br/>        service1 = client.wait_success(service1)<br/>        assert service1.state == &quot;inactive&quot;<br/>    <br/>        service1 = client.wait_success(service1.activate(), 120)<br/>        assert service1.state == &quot;active&quot;<br/>    <br/>        # test anti-affinity<br/>        # only service_name is supplied.<br/>        # env/project/stack should be automatically prepended<br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &quot;labels&quot;: {<br/>                &quot;io.rancher.scheduler.affinity:container_label_ne&quot;:<br/>                    &quot;io.rancher.stack_service.name=&quot; + service_name1<br/>            }<br/>        }<br/>    <br/>        service2 = client.create_service(name=service_name2,<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config,<br/>                                         scale=2)<br/>        service2 = client.wait_success(service2)<br/>        assert service2.state == &quot;inactive&quot;<br/>    <br/>        service2 = client.wait_success(service2.activate(), 120)<br/>        assert service2.state == &quot;active&quot;<br/>    <br/>        # check that all containers are on different hosts<br/>&gt;       svc1_instance = _get_instance_for_service(super_client, service1.id)[0]<br/>test_svc_discovery.py:1754: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;, serviceId = &#39;1s367&#39;<br/>    def _get_instance_for_service(super_client, serviceId):<br/>        instances = []<br/>&gt;       instance_service_maps = super_client. \<br/>            list_serviceExposeMap(serviceId=serviceId, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:3030: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">3.29 s</div>
</em><em class="status">failed</em>test_affinity_auto_prepend_stack_same_service</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1760 (test_affinity_auto_prepend_stack_same_service)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95e7ed2690&gt;<br/>    def test_affinity_auto_prepend_stack_same_service(super_client, new_context):<br/>        image_uuid = new_context.image_uuid<br/>        client = new_context.client<br/>    <br/>        # create 2 containers on the default simulator host, we call it one<br/>        # in order to make default scheduler consider the second host<br/>        # for both containers of the same service. Build a trap.<br/>        cs = client.create_container(imageUuid=image_uuid,<br/>                                     count=2)<br/>        assert len(cs) == 2<br/>    <br/>        for c in cs:<br/>            c = super_client.wait_success(c)<br/>            assert c.state == &#39;running&#39;<br/>    <br/>        # create a second host, we call it two<br/>        register_simulated_host(new_context)<br/>    <br/>        env = _create_stack(client)<br/>        service_name = &quot;service&quot;<br/>    <br/>        # upper case for the label service name, test logic in cattle<br/>        # prepending the stack name should be case insensitive<br/>        label_service_name = &quot;SERVICE&quot;<br/>    <br/>        # test anti-affinity<br/>        # only service_name is supplied.<br/>        # env/project/stack should be automatically prepended<br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &quot;labels&quot;: {<br/>                &quot;io.rancher.scheduler.affinity:container_label_ne&quot;:<br/>                    &quot;io.rancher.stack_service.name=&quot; + label_service_name<br/>            }<br/>        }<br/>    <br/>        service = client.create_service(name=service_name,<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=2)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        # check that all containers are on different hosts<br/>&gt;       instances = _get_instance_for_service(super_client, service.id)<br/>test_svc_discovery.py:1808: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;, serviceId = &#39;1s370&#39;<br/>    def _get_instance_for_service(super_client, serviceId):<br/>        instances = []<br/>&gt;       instance_service_maps = super_client. \<br/>            list_serviceExposeMap(serviceId=serviceId, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:3030: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">3.63 s</div>
</em><em class="status">failed</em>test_anti_affinity_sidekick</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1812 (test_anti_affinity_sidekick)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95e68fb590&gt;<br/>    def test_anti_affinity_sidekick(new_context):<br/>        register_simulated_host(new_context)<br/>    <br/>        client = new_context.client<br/>    <br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = new_context.image_uuid<br/>        name = random_str()<br/>        service_name = &quot;service&quot; + name<br/>    <br/>        # only service name is provided.<br/>        # stack name should be prepended and secondaryLaunchConfig<br/>        # should automatically be appended for the sidekick<br/>        # containers<br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &quot;labels&quot;: {<br/>                &quot;io.rancher.sidekicks&quot;: &quot;secondary&quot;,<br/>                &quot;io.rancher.scheduler.affinity:container_label_ne&quot;:<br/>                    &quot;io.rancher.stack_service.name=&quot; +<br/>                    service_name<br/>            }<br/>        }<br/>        secondary_lc = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &quot;name&quot;: &quot;secondary&quot;<br/>        }<br/>    <br/>        service = client.create_service(name=service_name,<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=2,<br/>                                        secondaryLaunchConfigs=[secondary_lc])<br/>        service = client.wait_success(service)<br/>    <br/>        # activate service1<br/>        service.activate()<br/>        service = client.wait_success(service, 120)<br/>        assert service.state == &quot;active&quot;<br/>        _validate_compose_instance_start(client, service, env, &quot;1&quot;)<br/>        _validate_compose_instance_start(client, service, env, &quot;2&quot;)<br/>        _validate_compose_instance_start(client, service, env, &quot;1&quot;, &quot;secondary&quot;)<br/>        _validate_compose_instance_start(client, service, env, &quot;2&quot;, &quot;secondary&quot;)<br/>    <br/>&gt;       instance_service_map1 = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&quot;active&quot;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:1858: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">3.55 s</div>
</em><em class="status">failed</em>test_host_delete_reconcile_service</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1862 (test_host_delete_reconcile_service)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95e574fa50&gt;<br/>    def test_host_delete_reconcile_service(super_client, new_context):<br/>        register_simulated_host(new_context)<br/>    <br/>        client = new_context.client<br/>    <br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = new_context.image_uuid<br/>        name = random_str()<br/>        service_name = &quot;service&quot; + name<br/>        stack_svc_name = env.name + &quot;/&quot; + service_name<br/>    <br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &quot;labels&quot;: {<br/>                &quot;io.rancher.scheduler.affinity:container_label_soft_ne&quot;:<br/>                    &quot;io.rancher.stack_service.name=&quot; + stack_svc_name<br/>            }<br/>        }<br/>        service = client.create_service(name=service_name,<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=2)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        instance1 = _validate_compose_instance_start(client,<br/>                                                     service, env, &quot;1&quot;)<br/>        instance2 = _validate_compose_instance_start(client,<br/>                                                     service, env, &quot;2&quot;)<br/>&gt;       instance1_host = instance1.hosts()[0]<br/>test_svc_discovery.py:1896: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.wait&#39;: u&#39;true&#39;, &#39;io.rancher...2.rancher.internal&#39;, u&#39;servicerandom-208863-1499967363.random-33448-1499967362.rancher.internal&#39;, u&#39;rancher.internal&#39;]}<br/>k = &#39;hosts&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;hosts&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">257 ms</div>
</em><em class="status">failed</em>test_export_config</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:1919 (test_export_config)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_export_config(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        # test:<br/>        # cpuCet<br/>        # global vs scale<br/>        image_uuid = context.image_uuid<br/>        labels = {&#39;io.rancher.scheduler.global&#39;: &#39;true&#39;,<br/>                  &#39;io.rancher.service.hash&#39;: &#39;088b54be-2b79-99e30b3a1a24&#39;}<br/>        metadata = {&quot;io.rancher.service.hash&quot;: &quot;088b54be-2b79-99e30b3a1a24&quot;,<br/>                    &quot;$bar&quot;: {&quot;metadata&quot;: [{&quot;$id$$foo$bar$$&quot;: &quot;${HOSTNAME}&quot;}]}}<br/>        restart_policy = {&quot;maximumRetryCount&quot;: 2, &quot;name&quot;: &quot;on-failure&quot;}<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &quot;cpuSet&quot;: &quot;0,1&quot;, &quot;labels&quot;: labels,<br/>                         &quot;restartPolicy&quot;: restart_policy,<br/>                         &quot;startOnCreate&quot;: True,<br/>                         &quot;pidMode&quot;: &quot;host&quot;,<br/>                         &quot;memory&quot;: 1048576,<br/>                         &quot;memorySwap&quot;: 2097152,<br/>                         &quot;memoryReservation&quot;: 4194304,<br/>                         &quot;milliCpuReservation&quot;: 1000,<br/>                         &quot;devices&quot;: [&quot;/dev/sdc:/dev/xsdc:rwm&quot;],<br/>                         &quot;logConfig&quot;: {&quot;config&quot;: {&quot;labels&quot;: &quot;foo&quot;},<br/>                                       &quot;driver&quot;: &quot;json-file&quot;},<br/>                         &quot;blkioWeight&quot;: 100,<br/>                         &quot;cpuPeriod&quot;: 10000,<br/>                         &quot;cpuQuota&quot;: 20000,<br/>                         &quot;memorySwappiness&quot;: 50,<br/>                         &quot;oomScoreAdj&quot;: 500,<br/>                         &quot;shmSize&quot;: 67108864,<br/>                         &quot;uts&quot;: &quot;host&quot;,<br/>                         &quot;ipcMode&quot;: &quot;host&quot;,<br/>                         &quot;stopSignal&quot;: &quot;SIGTERM&quot;,<br/>                         &quot;groupAdd&quot;: &quot;root&quot;,<br/>                         &quot;cgroupParent&quot;: &quot;parent&quot;,<br/>                         &quot;extraHosts&quot;: [&quot;host1&quot;, &quot;host2&quot;],<br/>                         &quot;securityOpt&quot;: [&quot;sopt1&quot;, &#39;sopt2&#39;],<br/>                         &quot;readOnly&quot;: True,<br/>                         &quot;oomKillDisable&quot;: True,<br/>                         &quot;isolation&quot;: &quot;hyper-v&quot;,<br/>                         &quot;dnsOpt&quot;: [&quot;opt&quot;],<br/>                         &quot;dnsSearch&quot;: [&quot;192.168.1.1&quot;],<br/>                         &quot;cpuShares&quot;: 100,<br/>                         &quot;blkioDeviceOptions&quot;: {<br/>                             &#39;/dev/sda&#39;: {<br/>                                 &#39;readIops&#39;: 1000,<br/>                                 &#39;writeIops&#39;: 2000,<br/>                             },<br/>                             &#39;/dev/null&#39;: {<br/>                                 &#39;readBps&#39;: 3000,<br/>                                 &#39;writeBps&#39;: 3000,<br/>                                 &#39;weight&#39;: 3000,<br/>                             }<br/>                         },<br/>                         &quot;tmpfs&quot;: {&quot;/run&quot;: &quot;rw&quot;},<br/>                         &quot;sysctls&quot;: {&quot;net.ipv4.ip_forward&quot;: &quot;1&quot;},<br/>                         &quot;ulimits&quot;: [{&quot;name&quot;: &quot;cpu&quot;, &quot;soft&quot;: 1234, &quot;hard&quot;: 1234},<br/>                                     {&quot;name&quot;: &quot;nporc&quot;, &quot;soft&quot;: 1234}]<br/>                         }<br/>        service = client. \<br/>            create_service(name=&quot;web&quot;,<br/>                           stackId=env.id,<br/>                           launchConfig=launch_config,<br/>                           metadata=metadata,<br/>                           retainIp=True<br/>                           )<br/>    <br/>        service = client.wait_success(service)<br/>    <br/>        compose_config = env.exportconfig()<br/>        labels = {&#39;io.rancher.scheduler.global&#39;: &#39;true&#39;}<br/>    <br/>        assert compose_config is not None<br/>        docker_yml = yaml.load(compose_config.dockerComposeConfig)<br/>        assert &quot;version&quot; in docker_yml<br/>        assert docker_yml[&quot;version&quot;] == &quot;2&quot;<br/>        svc = docker_yml[&#39;services&#39;][service.name]<br/>        assert svc[&#39;cpuset&#39;] == &quot;0,1&quot;<br/>        assert svc[&#39;labels&#39;] == labels<br/>        assert &quot;restart&quot; in svc<br/>        assert svc[&quot;logging&quot;] is not None<br/>        assert svc[&quot;logging&quot;][&quot;driver&quot;] == &quot;json-file&quot;<br/>        assert svc[&quot;logging&quot;][&quot;options&quot;] is not None<br/>        assert svc[&quot;pid&quot;] == &quot;host&quot;<br/>        assert svc[&quot;mem_limit&quot;] == 1048576<br/>        assert svc[&quot;memswap_limit&quot;] == 2097152<br/>        assert svc[&quot;mem_reservation&quot;] == 4194304<br/>        assert svc[&quot;devices&quot;] is not None<br/>        assert svc[&quot;blkio_weight&quot;] == 100<br/>        assert svc[&quot;cpu_period&quot;] == 10000<br/>        assert svc[&quot;cpu_quota&quot;] == 20000<br/>        assert svc[&quot;mem_swappiness&quot;] == 50<br/>        assert svc[&quot;oom_score_adj&quot;] == 500<br/>        assert svc[&quot;shm_size&quot;] == 67108864<br/>        assert svc[&quot;uts&quot;] == &quot;host&quot;<br/>        assert svc[&quot;ipc&quot;] == &quot;host&quot;<br/>        assert svc[&quot;stop_signal&quot;] == &quot;SIGTERM&quot;<br/>        assert svc[&quot;group_add&quot;] == [&quot;root&quot;]<br/>        assert svc[&quot;cgroup_parent&quot;] == &quot;parent&quot;<br/>        assert svc[&quot;extra_hosts&quot;] == [&quot;host1&quot;, &quot;host2&quot;]<br/>        assert svc[&quot;security_opt&quot;] == [&quot;sopt1&quot;, &quot;sopt2&quot;]<br/>        assert svc[&quot;read_only&quot;]<br/>        assert svc[&quot;oom_kill_disable&quot;]<br/>        assert svc[&quot;isolation&quot;] == &quot;hyper-v&quot;<br/>        assert svc[&quot;dns_opt&quot;] == [&quot;opt&quot;]<br/>        assert svc[&quot;dns_search&quot;] == [&quot;192.168.1.1&quot;]<br/>        assert svc[&quot;cpu_shares&quot;] == 100<br/>        assert svc[&quot;device_read_iops&quot;] == {&quot;/dev/sda&quot;: 1000}<br/>        assert svc[&quot;device_write_iops&quot;] == {&quot;/dev/sda&quot;: 2000}<br/>        assert svc[&quot;device_read_bps&quot;] == {&quot;/dev/null&quot;: 3000}<br/>        assert svc[&quot;device_write_bps&quot;] == {&quot;/dev/null&quot;: 3000}<br/>        assert svc[&quot;blkio_weight_device&quot;] == {&quot;/dev/null&quot;: 3000}<br/>        assert svc[&quot;tmpfs&quot;] == [&quot;/run:rw&quot;]<br/>        assert svc[&quot;ulimits&quot;] == {&quot;cpu&quot;: {&quot;hard&quot;: 1234, &quot;soft&quot;: 1234},<br/>                                  &quot;nporc&quot;: 1234}<br/>        assert svc[&quot;sysctls&quot;] == {&quot;net.ipv4.ip_forward&quot;: &quot;1&quot;}<br/>    <br/>        rancher_yml = yaml.load(compose_config.rancherComposeConfig)<br/>        svc = rancher_yml[&#39;services&#39;][service.name]<br/>        assert &#39;scale&#39; not in svc<br/>        updated = {&quot;$$id$$$$foo$$bar$$$$&quot;: &quot;$${HOSTNAME}&quot;}<br/>        metadata = {&quot;$$bar&quot;: {&quot;metadata&quot;: [updated]}}<br/>        assert svc[&#39;metadata&#39;] is not None<br/>        assert svc[&#39;metadata&#39;] == metadata<br/>        assert svc[&#39;start_on_create&#39;]<br/>&gt;       assert svc[&#39;retain_ip&#39;] is True<br/>E       KeyError: &#39;retain_ip&#39;<br/>test_svc_discovery.py:2045: KeyError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">227 ms</div>
</em><em class="status">passed</em>test_malform_export_config</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">4.54 s</div>
</em><em class="status">failed</em>test_validate_create_only_containers</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2111 (test_validate_create_only_containers)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_validate_create_only_containers(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        labels = {&quot;io.rancher.container.start_once&quot;: &quot;true&quot;}<br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;labels&quot;: labels}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=3)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # activate services<br/>        env.activateservices()<br/>        service = client.wait_success(service, 120)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        instance1 = _wait_for_compose_instance_start(client, service, env, &quot;1&quot;)<br/>        _wait_for_compose_instance_start(client, service, env, &quot;2&quot;)<br/>        instance3 = _wait_for_compose_instance_start(client, service, env, &quot;3&quot;)<br/>        # stop instance1 and destroy instance 3<br/>        client.wait_success(instance1.stop(stopSource=&quot;external&quot;))<br/>        _instance_remove(instance3, client)<br/>    <br/>        # wait for reconcile<br/>&gt;       _wait_until_active_map_count(service, 3, client)<br/>test_svc_discovery.py:2139: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_discovery.py:627: in _wait_until_active_map_count<br/>    wait_for(lambda: wait_for_condition(client, service, wait_for_map_count))<br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_discovery.py:627: in &lt;lambda&gt;<br/>    wait_for(lambda: wait_for_condition(client, service, wait_for_map_count))<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499967366000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...017-07-13T17:36:06Z&#39;, &#39;revisionId&#39;: u&#39;1r634&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 4, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:623: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">2.01 s</div>
</em><em class="status">failed</em>test_indirect_ref_sidekick_destroy_instance</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2166 (test_indirect_ref_sidekick_destroy_instance)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_indirect_ref_sidekick_destroy_instance(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &quot;dataVolumesFromLaunchConfigs&quot;: [&#39;secondary&#39;]}<br/>        secondary_lc = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary&quot;,<br/>                        &quot;dataVolumesFromLaunchConfigs&quot;: [&#39;secondary1&#39;]}<br/>        secondary_lc1 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary1&quot;}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        secondaryLaunchConfigs=[secondary_lc,<br/>                                                                secondary_lc1])<br/>        service = client.wait_success(service)<br/>    <br/>        # activate service<br/>        service = client.wait_success(service.activate(), 120)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        instance11 = _validate_compose_instance_start(client, service, env, &quot;1&quot;)<br/>        instance12 = _validate_compose_instance_start(client,<br/>                                                      service,<br/>                                                      env, &quot;1&quot;, &quot;secondary&quot;)<br/>    <br/>        instance13 = _validate_compose_instance_start(client,<br/>                                                      service,<br/>                                                      env, &quot;1&quot;, &quot;secondary1&quot;)<br/>    <br/>&gt;       _wait_until_active_map_count(service, 3, client)<br/>test_svc_discovery.py:2197: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_discovery.py:627: in _wait_until_active_map_count<br/>    wait_for(lambda: wait_for_condition(client, service, wait_for_map_count))<br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_discovery.py:627: in &lt;lambda&gt;<br/>    wait_for(lambda: wait_for_condition(client, service, wait_for_map_count))<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499967370000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;da...017-07-13T17:36:10Z&#39;, &#39;revisionId&#39;: u&#39;1r635&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 3, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:623: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.89 s</div>
</em><em class="status">passed</em>test_validate_hostname_override</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.88 s</div>
</em><em class="status">passed</em>test_validate_long_hostname_override</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.92 s</div>
</em><em class="status">passed</em>test_validate_long_hostname_with_domainname_override</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">195 ms</div>
</em><em class="status">failed</em>test_vip_service</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2366 (test_vip_service)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_vip_service(client, context):<br/>        env = _create_stack(client)<br/>        image_uuid = context.image_uuid<br/>        init_labels = {&#39;io.rancher.network.services&#39;: &quot;vipService&quot;}<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;labels&quot;: init_labels}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        assignServiceIpAddress=True)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>&gt;       assert service.vip is not None<br/>E       assert None is not None<br/>E        +  where None = {&#39;createdTS&#39;: 1499967378000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:36:18Z&#39;, &#39;revisionId&#39;: u&#39;1r642&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}.vip<br/>test_svc_discovery.py:2379: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">141 ms</div>
</em><em class="status">passed</em>test_vip_requested_ip</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">10.42 s</div>
</em><em class="status">failed</em>test_validate_scaledown_updating</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2397 (test_validate_scaledown_updating)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_validate_scaledown_updating(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=3)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # activate service<br/>        env.activateservices()<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        # change scale two times in a row<br/>        service = client.update(service, scale=10, name=service.name)<br/>    <br/>        def wait():<br/>            s = client.reload(service)<br/>            return s.scale == 10<br/>    <br/>        wait_for(wait)<br/>    <br/>        service = client.update(service, scale=1, name=service.name)<br/>        service = client.wait_success(service, 120)<br/>        assert service.state == &quot;active&quot;<br/>        wait_for(lambda: client.reload(service).scale == 1)<br/>&gt;       _wait_until_active_map_count(service, 1, client)<br/>test_svc_discovery.py:2429: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_discovery.py:627: in _wait_until_active_map_count<br/>    wait_for(lambda: wait_for_condition(client, service, wait_for_map_count))<br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_discovery.py:627: in &lt;lambda&gt;<br/>    wait_for(lambda: wait_for_condition(client, service, wait_for_map_count))<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499967379000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...17-07-13T17:36:19Z&#39;, &#39;revisionId&#39;: u&#39;1r644&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 10, &#39;instanceIds&#39;: None}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:623: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">18.02 s</div>
</em><em class="status">failed</em>test_stop_network_from_container</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2431 (test_stop_network_from_container)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_stop_network_from_container(client, context, super_client):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;networkMode&quot;: &#39;container&#39;,<br/>                         &quot;networkLaunchConfig&quot;: &quot;secondary&quot;}<br/>        secondary_lc = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary&quot;}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=1,<br/>                                        secondaryLaunchConfigs=[secondary_lc])<br/>        service = client.wait_success(service)<br/>        assert len(service.secondaryLaunchConfigs) == 1<br/>        assert service.launchConfig.networkMode == &#39;container&#39;<br/>        assert service.secondaryLaunchConfigs[0].networkMode == &#39;managed&#39;<br/>    <br/>        service = client.wait_success(service.activate(), 120)<br/>    <br/>        assert service.state == &quot;active&quot;<br/>    <br/>        s11_container = _validate_compose_instance_start(client, service, env, &quot;1&quot;)<br/>        s21_container = _validate_compose_instance_start(client, service,<br/>                                                         env, &quot;1&quot;, &quot;secondary&quot;)<br/>        s11_container = super_client.reload(s11_container)<br/>        init_start_count = s11_container.startCount<br/>        assert init_start_count is not None<br/>    <br/>        assert s11_container.networkContainerId is not None<br/>        assert s11_container.networkContainerId == s21_container.id<br/>    <br/>        # stop s21 container, wait till it&#39;s started<br/>        # and validate s11 was restarted as well<br/>        s21_container = s21_container.stop(stopSource=&quot;external&quot;)<br/>        client.wait_success(s21_container)<br/>        wait_for(lambda: client.reload(s21_container).state == &#39;running&#39;)<br/>    <br/>        wait_for(<br/>&gt;           lambda:<br/>            super_client.reload(s11_container).startCount &gt; init_start_count<br/>        )<br/>test_svc_discovery.py:2471: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function &lt;lambda&gt; at 0x7f95e4991668&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">2.76 s</div>
</em><em class="status">failed</em>test_remove_network_from_container</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2485 (test_remove_network_from_container)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_remove_network_from_container(client, context, super_client):<br/>        env = _create_stack(client)<br/>        svc_name = random_str()<br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;networkMode&quot;: &#39;container&#39;}<br/>        secondary_lc = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary&quot;,<br/>                        &quot;networkLaunchConfig&quot;: svc_name}<br/>    <br/>        service = client.create_service(name=svc_name,<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=1,<br/>                                        secondaryLaunchConfigs=[secondary_lc])<br/>        service = client.wait_success(service)<br/>        assert len(service.secondaryLaunchConfigs) == 1<br/>        assert service.launchConfig.networkMode == &#39;container&#39;<br/>        assert service.secondaryLaunchConfigs[0].networkMode == &#39;managed&#39;<br/>    <br/>        service = client.wait_success(service.activate(), 120)<br/>    <br/>        assert service.state == &quot;active&quot;<br/>    <br/>        s11_container = _validate_compose_instance_start(client, service, env, &quot;1&quot;)<br/>        s21_container = _validate_compose_instance_start(client, service,<br/>                                                         env, &quot;1&quot;, &quot;secondary&quot;)<br/>        s11_container = super_client.reload(s11_container)<br/>        init_start_count = s11_container.startCount<br/>        assert init_start_count is not None<br/>    <br/>        assert s21_container.networkContainerId is not None<br/>        assert s21_container.networkContainerId == s11_container.id<br/>    <br/>        # remove s11 container, and validate s21 was removed as well<br/>        _instance_remove(s11_container, client)<br/>        wait_for_condition(<br/>            client, s21_container, _resource_is_removed,<br/>            lambda x: &#39;State is: &#39; + x.state)<br/>    <br/>        service = client.wait_success(service)<br/>&gt;       _wait_until_active_map_count(service, 2, client)<br/>test_svc_discovery.py:2525: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_discovery.py:627: in _wait_until_active_map_count<br/>    wait_for(lambda: wait_for_condition(client, service, wait_for_map_count))<br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_discovery.py:627: in &lt;lambda&gt;<br/>    wait_for(lambda: wait_for_condition(client, service, wait_for_map_count))<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499967408000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;container&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;...&#39;2017-07-13T17:36:48Z&#39;, &#39;revisionId&#39;: u&#39;1r646&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 4, &#39;instanceIds&#39;: []}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:623: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">15.68 s</div>
</em><em class="status">failed</em>test_metadata</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2527 (test_metadata)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_metadata(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>        metadata = {&quot;bar&quot;: {&quot;people&quot;: [{&quot;id&quot;: 0}]}}<br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        metadata=metadata)<br/>        service = client.wait_success(service)<br/>        assert service.metadata == metadata<br/>    <br/>        # Wait until unhealthy to avoid a race condition<br/>        def wait_unhealthy():<br/>            svc = client.reload(service)<br/>            if svc.healthState == &#39;unhealthy&#39;:<br/>                return svc<br/>            else:<br/>                return None<br/>    <br/>&gt;       service = wait_for(wait_unhealthy)<br/>test_svc_discovery.py:2549: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>callback = &lt;function wait_unhealthy at 0x7f95e4aec050&gt;, timeout = 15<br/>fail_handler = None<br/>    def wait_for(callback, timeout=DEFAULT_TIMEOUT, fail_handler=None):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        ret = callback()<br/>        while ret is None or ret is False:<br/>            time.sleep(sleep_time.next())<br/>            if time.time() - start &gt; timeout:<br/>                exception_msg = &#39;Timeout waiting for condition.&#39;<br/>                if fail_handler:<br/>                    exception_msg = exception_msg + &#39; Fail handler message: &#39; + \<br/>                                    fail_handler()<br/>&gt;               raise Exception(exception_msg)<br/>E               Exception: Timeout waiting for condition.<br/>common_fixtures.py:684: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">55 ms</div>
</em><em class="status">passed</em>test_env_external_id</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">19.01 s</div>
</em><em class="status">failed</em>test_sidekick_labels_merge</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2560 (test_sidekick_labels_merge)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95e4635510&gt;<br/>    def test_sidekick_labels_merge(new_context):<br/>        client = new_context.client<br/>        host1 = register_simulated_host(new_context)<br/>        labels = {&#39;group&#39;: &#39;web&#39;, &#39;subgroup&#39;: &#39;Foo&#39;}<br/>        client.update(host1, labels=labels)<br/>    <br/>        env = _create_stack(client)<br/>        image_uuid = new_context.image_uuid<br/>        labels = {&#39;foo&#39;: &quot;bar&quot;}<br/>        affinity_labels = {&#39;io.rancher.scheduler.affinity:host_label&#39;:<br/>                           &#39;group=Web,subgroup=foo&#39;}<br/>        labels.update(affinity_labels)<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;labels&quot;: labels}<br/>    <br/>        secondary_labels = {&#39;bar&#39;: &quot;foo&quot;}<br/>        secondary_labels.update(affinity_labels)<br/>        secondary_lc = {&quot;imageUuid&quot;: image_uuid,<br/>                        &quot;name&quot;: &quot;secondary&quot;, &quot;labels&quot;: secondary_labels}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        secondaryLaunchConfigs=[secondary_lc])<br/>        service = client.wait_success(service)<br/>&gt;       service = wait_state(client, service.activate(), &#39;active&#39;)<br/>test_svc_discovery.py:2585: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95e4a8ab50&gt;<br/>obj = {&#39;createdTS&#39;: 1499967436000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...017-07-13T17:37:16Z&#39;, &#39;revisionId&#39;: u&#39;1r649&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 2, &#39;instanceIds&#39;: None}<br/>state = &#39;active&#39;<br/>    def wait_state(client, obj, state):<br/>        def is_state():<br/>            o = client.reload(obj)<br/>            if o.state == state:<br/>                return True<br/>            if state == &#39;removed&#39; and o.removed is not None:<br/>                return True<br/>            return False<br/>        try:<br/>            wait_for(is_state)<br/>        except:<br/>            obj = client.reload(obj)<br/>            msg = &#39;Timeout waiting for state {}, resource is {} : {}&#39;.format(<br/>                state, obj.state, obj<br/>            )<br/>&gt;           raise Exception(msg)<br/>E           Exception: Timeout waiting for state active, resource is activating : {&#39;pause&#39;: &lt;function &lt;lambda&gt; at 0x7f95e366ea28&gt;, &#39;garbagecollect&#39;: &lt;function &lt;lambda&gt; at 0x7f95e3673848&gt;, &#39;networkDrivers&#39;: &lt;function &lt;lambda&gt; at 0x7f95e3673758&gt;, &#39;links&#39;: {&#39;containerStats&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/containerstats&#39;, &#39;account&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/account&#39;, &#39;networkDrivers&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/networkdrivers&#39;, &#39;deploymentUnits&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/deploymentunits&#39;, &#39;self&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392&#39;, &#39;storageDrivers&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/storagedrivers&#39;, &#39;instances&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/instances&#39;, &#39;serviceLogs&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/servicelogs&#39;, &#39;revision&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/revision&#39;, &#39;stack&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/stack&#39;, &#39;revisions&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/revisions&#39;}, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;image&#39;: u&#39;random-276222-1499967432&#39;, &#39;labels&#39;: {&#39;foo&#39;: u&#39;bar&#39;, &#39;io.rancher.scheduler.affinity:host_label&#39;: u&#39;group=Web,subgroup=foo&#39;}, &#39;kind&#39;: u&#39;container&#39;, &#39;system&#39;: False, &#39;startOnCreate&#39;: True, &#39;prePullOnUpgrade&#39;: u&#39;all&#39;, &#39;readOnly&#39;: False, &#39;publishAllPorts&#39;: False, &#39;imageUuid&#39;: u&#39;docker:random-276222-1499967432&#39;, &#39;instanceTriggeredStop&#39;: u&#39;stop&#39;, &#39;stdinOpen&#39;: False, &#39;completeUpdate&#39;: False, &#39;privileged&#39;: False}, &#39;startFirst&#39;: False, &#39;actions&#39;: {&#39;pause&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/?action=pause&#39;, &#39;deactivate&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/?action=deactivate&#39;, &#39;garbagecollect&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/?action=garbagecollect&#39;, &#39;update&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/?action=update&#39;, &#39;remove&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/?action=remove&#39;, &#39;upgrade&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/?action=upgrade&#39;, &#39;error&#39;: u&#39;http://localhost:8080/v2/scalinggroups/1s392/?action=error&#39;}, &#39;instances&#39;: &lt;function &lt;lambda&gt; at 0x7f95e36738c0&gt;, &#39;vip&#39;: None, &#39;revision&#39;: &lt;function &lt;lambda&gt; at 0x7f95e3673938&gt;, &#39;id&#39;: u&#39;1s392&#39;, &#39;createTsFields&#39;: True, &#39;accountId&#39;: u&#39;1a873&#39;, &#39;secondaryLaunchConfigs&#39;: [{&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;name&#39;: u&#39;secondary&#39;, &#39;privileged&#39;: False, &#39;vcpu&#39;: 1, &#39;image&#39;: u&#39;random-276222-1499967432&#39;, &#39;labels&#39;: {&#39;bar&#39;: u&#39;foo&#39;, &#39;io.rancher.scheduler.affinity:host_label&#39;: u&#39;group=Web,subgroup=foo&#39;}, &#39;system&#39;: False, &#39;stdinOpen&#39;: False, &#39;startOnCreate&#39;: True, &#39;prePullOnUpgrade&#39;: u&#39;all&#39;, &#39;readOnly&#39;: False, &#39;publishAllPorts&#39;: False, &#39;version&#39;: u&#39;0&#39;, &#39;imageUuid&#39;: u&#39;docker:random-276222-1499967432&#39;, &#39;instanceTriggeredStop&#39;: u&#39;stop&#39;, &#39;completeUpdate&#39;: False, &#39;kind&#39;: u&#39;container&#39;}], &#39;scale&#39;: 1, &#39;scaleMax&#39;: None, &#39;createdTS&#39;: 1499967436000, &#39;baseType&#39;: u&#39;service&#39;, &#39;deactivate&#39;: &lt;function &lt;lambda&gt; at 0x7f95e3673578&gt;, &#39;batchSize&#39;: 1, &#39;system&#39;: False, &#39;state&#39;: u&#39;activating&#39;, &#39;externalId&#39;: None, &#39;previousRevisionId&#39;: None, &#39;currentScale&#39;: None, &#39;transitioning&#39;: u&#39;yes&#39;, &#39;serviceLogs&#39;: &lt;function &lt;lambda&gt; at 0x7f95e3673230&gt;, &#39;completeUpdate&#39;: False, &#39;linkedServices&#39;: None, &#39;metadata&#39;: None, &#39;containerStats&#39;: &lt;function &lt;lambda&gt; at 0x7f95e3673c80&gt;, &#39;update_action&#39;: &lt;function &lt;lambda&gt; at 0x7f95e36739b0&gt;, &#39;description&#39;: None, &#39;deploymentUnits&#39;: &lt;function &lt;lambda&gt; at 0x7f95e3673488&gt;, &#39;transitioningMessage&#39;: u&#39;In Progress&#39;, &#39;revisions&#39;: &lt;function &lt;lambda&gt; at 0x7f95e3673668&gt;, &#39;error&#39;: &lt;function &lt;lambda&gt; at 0x7f95e366eb90&gt;, &#39;kind&#39;: u&#39;scalingGroup&#39;, &#39;priorityFieldNames&#39;: [u&#39;name&#39;, u&#39;state&#39;], &#39;intervalMillis&#39;: 2000, &#39;startOnCreate&#39;: False, &#39;upgrade&#39;: None, &#39;storageDrivers&#39;: &lt;function &lt;lambda&gt; at 0x7f95e36735f0&gt;, &#39;account&#39;: &lt;function &lt;lambda&gt; at 0x7f95e3673ed8&gt;, &#39;scaleMin&#39;: 0, &#39;removed&#39;: None, &#39;lbConfig&#39;: None, &#39;stack&#39;: &lt;function &lt;lambda&gt; at 0x7f95e3673410&gt;, &#39;uuid&#39;: u&#39;5c66c10d-d3d7-428c-bc56-ff0c65ba3f42&#39;, &#39;stackId&#39;: u&#39;1st474&#39;, &#39;healthState&#39;: u&#39;healthy&#39;, &#39;assignServiceIpAddress&#39;: False, &#39;name&#39;: u&#39;random-497089-1499967435&#39;, &#39;created&#39;: u&#39;2017-07-13T17:37:16Z&#39;, &#39;type&#39;: u&#39;scalingGroup&#39;, &#39;revisionId&#39;: u&#39;1r649&#39;, &#39;upgrade_action&#39;: &lt;function &lt;lambda&gt; at 0x7f95e36737d0&gt;, &#39;fqdn&#39;: None, &#39;remove&#39;: &lt;function &lt;lambda&gt; at 0x7f95e36736e0&gt;, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 2, &#39;self&#39;: &lt;function &lt;lambda&gt; at 0x7f95e3673500&gt;, &#39;instanceIds&#39;: None}<br/>common_fixtures.py:668: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.64 s</div>
</em><em class="status">failed</em>test_service_restart</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2597 (test_service_restart)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_service_restart(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>        secondary_lc = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary&quot;}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>                                    scale=2,<br/>                                    secondaryLaunchConfigs=[secondary_lc])<br/>        svc = client.wait_success(svc)<br/>    <br/>        svc = client.wait_success(svc.activate(), 120)<br/>    <br/>        assert svc.state == &quot;active&quot;<br/>    <br/>        # get initial start count for all the instances<br/>        instances = []<br/>&gt;       for exposeMap in svc.serviceExposeMaps():<br/>test_svc_discovery.py:2617: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967452000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...&#39;2017-07-13T17:37:32Z&#39;, &#39;revisionId&#39;: u&#39;1r650&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 4, &#39;instanceIds&#39;: []}<br/>k = &#39;serviceExposeMaps&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;serviceExposeMaps&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">7.81 s</div>
</em><em class="status">failed</em>test_public_endpoints_no_ip</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2656 (test_public_endpoints_no_ip)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95e4ec7190&gt;<br/>    def test_public_endpoints_no_ip(new_context):<br/>&gt;       _test_public_endpoints(new_context)<br/>test_svc_discovery.py:2658: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_discovery.py:2700: in _test_public_endpoints<br/>    lambda: client.reload(service1).publicEndpoints is not None and len(<br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_discovery.py:2700: in &lt;lambda&gt;<br/>    lambda: client.reload(service1).publicEndpoints is not None and len(<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967465000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...&#39;2017-07-13T17:37:45Z&#39;, &#39;revisionId&#39;: u&#39;1r652&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 2, &#39;instanceIds&#39;: []}<br/>k = &#39;publicEndpoints&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;publicEndpoints&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">5.17 s</div>
</em><em class="status">failed</em>test_public_endpoints_0_0_0_0</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2660 (test_public_endpoints_0_0_0_0)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95fb94e290&gt;<br/>    def test_public_endpoints_0_0_0_0(new_context):<br/>&gt;       _test_public_endpoints(new_context, &quot;0.0.0.0:&quot;)<br/>test_svc_discovery.py:2662: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_discovery.py:2700: in _test_public_endpoints<br/>    lambda: client.reload(service1).publicEndpoints is not None and len(<br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_discovery.py:2700: in &lt;lambda&gt;<br/>    lambda: client.reload(service1).publicEndpoints is not None and len(<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967480000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...017-07-13T17:38:00Z&#39;, &#39;revisionId&#39;: u&#39;1r655&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 2, &#39;instanceIds&#39;: None}<br/>k = &#39;publicEndpoints&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;publicEndpoints&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">3.43 s</div>
</em><em class="status">failed</em>test_random_ports</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2734 (test_random_ports)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95ec8ac6d0&gt;<br/>    def test_random_ports(new_context):<br/>        client = new_context.client<br/>        new_context.host<br/>        register_simulated_host(new_context)<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;ports&quot;: [&#39;6666&#39;, &#39;7775&#39;]}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>                                    scale=2)<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>        svc = client.wait_success(svc.activate())<br/>        assert svc.state == &quot;active&quot;<br/>        c1 = _wait_for_compose_instance_start(client, svc, env, &quot;1&quot;)<br/>        c2 = _wait_for_compose_instance_start(client, svc, env, &quot;1&quot;)<br/>&gt;       port11 = c1.ports_link()[0]<br/>test_svc_discovery.py:2753: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.wait&#39;: u&#39;true&#39;, &#39;io.rancher...9967491.rancher.internal&#39;, u&#39;random-217962-1499967491.random-244197-1499967491.rancher.internal&#39;, u&#39;rancher.internal&#39;]}<br/>k = &#39;ports_link&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;ports_link&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">3.62 s</div>
</em><em class="status">failed</em>test_random_ports_sidekicks</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2771 (test_random_ports_sidekicks)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95ef8a3a10&gt;<br/>    def test_random_ports_sidekicks(new_context):<br/>        client = new_context.client<br/>        new_context.host<br/>        register_simulated_host(new_context)<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;ports&quot;: [&#39;6666&#39;, &#39;7775&#39;]}<br/>        secondary_lc = {&quot;imageUuid&quot;: image_uuid,<br/>                        &quot;name&quot;: &quot;secondary&quot;, &quot;ports&quot;: [&#39;6666&#39;]}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>                                    secondaryLaunchConfigs=[secondary_lc])<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>        svc = client.wait_success(svc.activate())<br/>        assert svc.state == &quot;active&quot;<br/>        c1 = _wait_for_compose_instance_start(client, svc, env, &quot;1&quot;)<br/>        c2 = _validate_compose_instance_start(client, svc,<br/>                                              env, &quot;1&quot;, &quot;secondary&quot;)<br/>    <br/>&gt;       port1 = c1.ports_link()[0]<br/>test_svc_discovery.py:2795: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.wait&#39;: u&#39;true&#39;, &#39;io.rancher...99967499.rancher.internal&#39;, u&#39;random-990049-1499967500.random-83542-1499967499.rancher.internal&#39;, u&#39;rancher.internal&#39;]}<br/>k = &#39;ports_link&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;ports_link&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">2.81 s</div>
</em><em class="status">failed</em>test_random_ports_static_port</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2801 (test_random_ports_static_port)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95f8646950&gt;<br/>    def test_random_ports_static_port(new_context):<br/>        client = new_context.client<br/>        new_context.host<br/>        register_simulated_host(new_context)<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;ports&quot;: [&#39;6666:7775&#39;]}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config)<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>        svc = client.wait_success(svc.activate())<br/>        assert svc.state == &quot;active&quot;<br/>        c1 = _wait_for_compose_instance_start(client, svc, env, &quot;1&quot;)<br/>    <br/>&gt;       port11 = c1.ports_link()[0]<br/>test_svc_discovery.py:2819: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.wait&#39;: u&#39;true&#39;, &#39;io.rancher...9967509.rancher.internal&#39;, u&#39;random-266978-1499967509.random-886978-1499967509.rancher.internal&#39;, u&#39;rancher.internal&#39;]}<br/>k = &#39;ports_link&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;ports_link&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">3.60 s</div>
</em><em class="status">failed</em>test_project_random_port_update_create</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2823 (test_project_random_port_update_create)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95f0d27650&gt;<br/>    def test_project_random_port_update_create(new_context):<br/>        client = new_context.client<br/>        user_client = new_context.user_client<br/>        new_context.host<br/>        register_simulated_host(new_context)<br/>        env = _create_stack(client)<br/>        image_uuid = new_context.image_uuid<br/>    <br/>        ports = [&#39;6666&#39;, &#39;7775&#39;, &#39;776&#39;]<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;ports&quot;: ports}<br/>        # update the port<br/>        new_range = {&quot;startPort&quot;: 65532, &quot;endPort&quot;: 65535}<br/>        p = user_client.update(new_context.project,<br/>                               servicesPortRange=new_range)<br/>        p = user_client.wait_success(p)<br/>        assert p.servicesPortRange.startPort == new_range[&#39;startPort&#39;]<br/>        assert p.servicesPortRange.endPort == new_range[&#39;endPort&#39;]<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config)<br/>        svc = client.wait_success(svc)<br/>        svc = client.wait_success(svc.activate())<br/>        c = _wait_for_compose_instance_start(client, svc, env, &quot;1&quot;)<br/>&gt;       port = c.ports_link()[0]<br/>test_svc_discovery.py:2848: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.wait&#39;: u&#39;true&#39;, &#39;io.rancher...9967518.rancher.internal&#39;, u&#39;random-199206-1499967518.random-905321-1499967518.rancher.internal&#39;, u&#39;rancher.internal&#39;]}<br/>k = &#39;ports_link&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;ports_link&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">909 ms</div>
</em><em class="status">failed</em>test_update_port_endpoint</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2882 (test_update_port_endpoint)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95edf20710&gt;<br/>    def test_update_port_endpoint(new_context):<br/>        client = new_context.client<br/>        host1 = new_context.host<br/>        env = _create_stack(client)<br/>        hosts = [host1]<br/>    <br/>        port1 = 5557<br/>        port2 = 5558<br/>    <br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;ports&quot;: [str(port1) + &#39;:6666&#39;]}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config)<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>        svc = client.wait_success(svc.activate(), 120)<br/>        assert svc.state == &quot;active&quot;<br/>    <br/>&gt;       wait_for(lambda: client.reload(svc).publicEndpoints is not None and len(<br/>            client.reload(svc).publicEndpoints) == 1)<br/>test_svc_discovery.py:2902: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_discovery.py:2902: in &lt;lambda&gt;<br/>    wait_for(lambda: client.reload(svc).publicEndpoints is not None and len(<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967526000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...017-07-13T17:38:46Z&#39;, &#39;revisionId&#39;: u&#39;1r666&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 1, &#39;instanceIds&#39;: None}<br/>k = &#39;publicEndpoints&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;publicEndpoints&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">8.17 s</div>
</em><em class="status">failed</em>test_ip_retain</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:2939 (test_ip_retain)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_ip_retain(client, context, super_client):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>                                    scale=1,<br/>                                    retainIp=True)<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>    <br/>        env.activateservices()<br/>        svc = client.wait_success(svc, 120)<br/>        assert svc.state == &quot;active&quot;<br/>    <br/>        c1 = _wait_for_compose_instance_start(client, svc, env, &quot;1&quot;)<br/>        c1 = super_client.reload(c1)<br/>        ip1 = c1.primaryIpAddress<br/>    <br/>        # remove instance and<br/>        # check that c1 and c2 got the same ip<br/>        _instance_remove(c1, client)<br/>&gt;       _wait_until_active_map_count(svc, 1, client)<br/>test_svc_discovery.py:2965: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_discovery.py:627: in _wait_until_active_map_count<br/>    wait_for(lambda: wait_for_condition(client, service, wait_for_map_count))<br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_discovery.py:627: in &lt;lambda&gt;<br/>    wait_for(lambda: wait_for_condition(client, service, wait_for_map_count))<br/>common_fixtures.py:422: in wait_for_condition<br/>    while not check_function(resource):<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>service = {&#39;createdTS&#39;: 1499967528000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...&#39;2017-07-13T17:38:48Z&#39;, &#39;revisionId&#39;: u&#39;1r667&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 2, &#39;instanceIds&#39;: []}<br/>    def wait_for_map_count(service):<br/>&gt;       m = client. \<br/>            list_serviceExposeMap(serviceId=service.id, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:623: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">924 ms</div>
</em><em class="status">failed</em>test_host_dns</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:3064 (test_host_dns)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_host_dns(client, context, super_client):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;networkMode&quot;: &quot;host&quot;}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config)<br/>        svc = client.wait_success(svc)<br/>    <br/>        # activate the service and validate that parameters were set for instance<br/>        service = client.wait_success(svc.activate())<br/>        assert service.state == &quot;active&quot;<br/>&gt;       instance_service_map = client \<br/>            .list_serviceExposeMap(serviceId=service.id)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:3080: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">931 ms</div>
</em><em class="status">failed</em>test_dns_label</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:3094 (test_dns_label)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_dns_label(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        labels = {&#39;io.rancher.container.dns&#39;: &quot;false&quot;}<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &quot;labels&quot;: labels}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config)<br/>        svc = client.wait_success(svc)<br/>    <br/>        service = client.wait_success(svc.activate())<br/>        assert service.state == &quot;active&quot;<br/>&gt;       instance_service_map = client \<br/>            .list_serviceExposeMap(serviceId=service.id)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:3110: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">908 ms</div>
</em><em class="status">failed</em>test_dns_label_true</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:3124 (test_dns_label_true)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_dns_label_true(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        labels = {&#39;io.rancher.container.dns&#39;: &quot;true&quot;}<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &quot;labels&quot;: labels}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config)<br/>        svc = client.wait_success(svc)<br/>    <br/>        service = client.wait_success(svc.activate())<br/>        assert service.state == &quot;active&quot;<br/>&gt;       instance_service_map = client \<br/>            .list_serviceExposeMap(serviceId=service.id)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:3140: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.79 s</div>
</em><em class="status">failed</em>test_dns_label_and_dns_param</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:3154 (test_dns_label_and_dns_param)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_dns_label_and_dns_param(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        labels = {&#39;io.rancher.container.dns&#39;: &quot;false&quot;}<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &quot;labels&quot;: labels,<br/>                         &quot;dns&quot;: [&quot;1.1.1.1&quot;],<br/>                         &quot;dnsSearch&quot;: [&quot;foo&quot;]}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config)<br/>        svc = client.wait_success(svc)<br/>    <br/>        service = client.wait_success(svc.activate())<br/>        assert service.state == &quot;active&quot;<br/>&gt;       instance_service_map = client \<br/>            .list_serviceExposeMap(serviceId=service.id)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:3172: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.39 s</div>
</em><em class="status">failed</em>test_standalone_container_endpoint</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:3187 (test_standalone_container_endpoint)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95ede375d0&gt;<br/>    def test_standalone_container_endpoint(new_context):<br/>        client = new_context.client<br/>        host = new_context.host<br/>        client.wait_success(host)<br/>        env = _create_stack(client)<br/>        port0 = 5534<br/>        port1 = 5535<br/>        port2 = 6636<br/>        port3 = 6637<br/>    <br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &quot;ports&quot;: [&#39;127.2.2.2:%s:%s&#39; % (port0, &#39;6666&#39;),<br/>                                   &#39;%s:%s&#39; % (port1, &#39;6666&#39;)]}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config)<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>        svc = client.wait_success(svc.activate(), 120)<br/>        assert svc.state == &quot;active&quot;<br/>    <br/>        c = client.create_container(imageUuid=image_uuid,<br/>                                    startOnCreate=True,<br/>                                    ports=[&#39;%s:%s&#39; % (port2, &#39;6666&#39;),<br/>                                           &#39;127.0.0.1:%s:%s&#39; % (port3, &#39;6666&#39;)])<br/>        c = client.wait_success(c)<br/>    <br/>        wait_for(<br/>&gt;           lambda: client.reload(host).publicEndpoints is not None and len(<br/>                client.reload(host).publicEndpoints) == 4)<br/>test_svc_discovery.py:3217: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_discovery.py:3217: in &lt;lambda&gt;<br/>    lambda: client.reload(host).publicEndpoints is not None and len(<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;localStorageMb&#39;: None, &#39;createdTS&#39;: 1499967546000, &#39;labels&#39;: {}, &#39;agentState&#39;: None, &#39;createTsFields&#39;: True, &#39;accoun...thost-06ff64bd-4bc5-4d0f-abfe-a9b3f52edb0d&#39;, &#39;created&#39;: u&#39;2017-07-13T17:39:06Z&#39;, &#39;instanceIds&#39;: [u&#39;1i5277&#39;, u&#39;1i5279&#39;]}<br/>k = &#39;publicEndpoints&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;publicEndpoints&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">935 ms</div>
</em><em class="status">passed</em>test_service_start_on_create</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">12.49 s</div>
</em><em class="status">passed</em>test_validate_scaledown_order</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.77 s</div>
</em><em class="status">failed</em>test_retain_ip_update</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:3314 (test_retain_ip_update)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_retain_ip_update(client, context, super_client):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>                                    scale=1)<br/>        svc = client.wait_success(svc)<br/>        assert svc.state == &quot;inactive&quot;<br/>    <br/>        env.activateservices()<br/>        svc = client.wait_success(svc, 120)<br/>        assert svc.state == &quot;active&quot;<br/>    <br/>        c1 = _wait_for_compose_instance_start(client, svc, env, &quot;1&quot;)<br/>        c1 = super_client.reload(c1)<br/>        ip1 = c1.primaryIpAddress<br/>    <br/>        # change retain ip to true<br/>        svc = client.update(svc, retainIp=True)<br/>        svc = client.wait_success(svc)<br/>&gt;       assert svc.retainIp is True<br/>test_svc_discovery.py:3339: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967564000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...017-07-13T17:39:24Z&#39;, &#39;revisionId&#39;: u&#39;1r677&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 1, &#39;instanceIds&#39;: None}<br/>k = &#39;retainIp&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;retainIp&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.96 s</div>
</em><em class="status">failed</em>test_svc_ports_update</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:3367 (test_svc_ports_update)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_svc_ports_update(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &quot;ports&quot;: [&#39;8681:8681&#39;]}<br/>    <br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # activate service<br/>        env.activateservices()<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;active&quot;<br/>    <br/>        new_launch_config = {&quot;ports&quot;: [&#39;8682:8682&#39;]}<br/>    <br/>        # test for regular service<br/>        service = client.update(service, launchConfig=new_launch_config)<br/>&gt;       service = client.wait_success(service)<br/>test_svc_discovery.py:3389: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>obj = {&#39;createdTS&#39;: 1499967565000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...&#39;2017-07-13T17:39:25Z&#39;, &#39;revisionId&#39;: u&#39;1r679&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 1, &#39;instanceIds&#39;: []}<br/>timeout = -1<br/>    def wait_success(self, obj, timeout=-1):<br/>        obj = self.wait_transitioning(obj, timeout)<br/>        if obj.transitioning != &#39;no&#39;:<br/>&gt;           raise gdapi.ClientApiError(obj.transitioningMessage)<br/>E           ClientApiError: None<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:17: ClientApiError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">4.33 s</div>
</em><em class="status">passed</em>test_upgrade_scale_to_global</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.03 s</div>
</em><em class="status">passed</em>test_populate_system_label</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">5.39 s</div>
</em><em class="status">failed</em>test_sidekicks_container_anti_affinity</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:3452 (test_sidekicks_container_anti_affinity)<br/>client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95f1a11710&gt;<br/>    def test_sidekicks_container_anti_affinity(client, context):<br/>        register_simulated_host(context)<br/>        register_simulated_host(context)<br/>        stack = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        name = random_str()<br/>        service_name = &quot;service&quot; + name<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &quot;labels&quot;: {<br/>                             &quot;io.rancher.sidekicks&quot;: &quot;secondary&quot;,<br/>                             &quot;io.rancher.scheduler.affinity:container_label_ne&quot;:<br/>                                 &quot;io.rancher.stack_service.name=&quot; +<br/>                                 stack.name + &#39;/&#39; + service_name<br/>                         }}<br/>        secondary_lc = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary&quot;}<br/>        service = client.create_service(name=service_name,<br/>                                        stackId=stack.id,<br/>                                        launchConfig=launch_config,<br/>                                        scale=3,<br/>                                        secondaryLaunchConfigs=[secondary_lc])<br/>        service = client.wait_success(service)<br/>        service = client.wait_success(service.activate(), 120)<br/>&gt;       instances = _get_instance_for_service(client, service.id)<br/>test_svc_discovery.py:3476: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>super_client = &lt;cattle.Client object at 0x7f95f26b91d0&gt;, serviceId = &#39;1s423&#39;<br/>    def _get_instance_for_service(super_client, serviceId):<br/>        instances = []<br/>&gt;       instance_service_maps = super_client. \<br/>            list_serviceExposeMap(serviceId=serviceId, state=&#39;active&#39;)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_discovery.py:3030: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">2 m 0 s</div>
</em><em class="status">failed</em>test_error_state</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:3482 (test_error_state)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95e71ca050&gt;<br/>    def test_error_state(new_context):<br/>        client = new_context.client<br/>        # create volume<br/>        opts = {&#39;foo&#39;: &#39;true&#39;, &#39;bar&#39;: &#39;true&#39;}<br/>        stack = _create_stack(client)<br/>    <br/>        client.create_volumeTemplate(name=&quot;foo&quot;, driver=&quot;nfs&quot;,<br/>                                     driverOpts=opts,<br/>                                     stackId=stack.id,<br/>                                     perContainer=True)<br/>        # create stack and services<br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &quot;labels&quot;: {<br/>                &#39;io.rancher.scheduler.affinity:host_label&#39;:<br/>                    &#39;group=Web,subgroup=foo&#39;<br/>            }, &quot;dataVolumes&quot;: &quot;foo:/bar&quot;<br/>        }<br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=stack.id,<br/>                                        launchConfig=launch_config)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # 1. service should fail to activate<br/>        service.activate()<br/>    <br/>        timeout = time.time() + 60*2<br/>        c1 = None<br/>        while True:<br/>            cs = client.reload(service).instances()<br/>            if len(cs) == 1 or time.time() &gt; timeout:<br/>&gt;               c1 = cs[0]<br/>E               IndexError: list index out of range<br/>test_svc_discovery.py:3516: IndexError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">6.66 s</div>
</em><em class="status">failed</em>test_host_remove_error_state</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:3537 (test_host_remove_error_state)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f96072129d0&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_host_remove_error_state(new_context, super_client):<br/>        register_simulated_host(new_context)<br/>        client = new_context.client<br/>        # create volume<br/>        opts = {&#39;foo&#39;: &#39;true&#39;, &#39;bar&#39;: &#39;true&#39;}<br/>        stack = _create_stack(client)<br/>    <br/>        client.create_volumeTemplate(name=&quot;foo&quot;, driver=&quot;local&quot;,<br/>                                     driverOpts=opts,<br/>                                     stackId=stack.id,<br/>                                     perContainer=True)<br/>        # create stack and services<br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid, &quot;dataVolumes&quot;: &quot;foo:/bar&quot;<br/>        }<br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=stack.id,<br/>                                        launchConfig=launch_config)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        # 1. service should fail to activate<br/>        service.activate()<br/>        c1 = _validate_compose_instance_start(client, service, stack, &quot;1&quot;)<br/>        name = stack.name + &quot;_foo_1&quot;<br/>        volumes = client.list_volume(name_like=name + &quot;_%&quot;)<br/>        assert len(volumes) == 1<br/>        v = volumes[0]<br/>        assert v.driver == &#39;local&#39;<br/>        assert v.driverOpts == opts<br/>    <br/>        # remove host and validate the volume is gone<br/>&gt;       host = c1.hosts()[0]<br/>test_svc_discovery.py:3571: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;tty&#39;: False, &#39;registryCredentialId&#39;: None, &#39;userPorts&#39;: None, &#39;labels&#39;: {&#39;io.rancher.cni.wait&#39;: u&#39;true&#39;, &#39;io.rancher...9967722.rancher.internal&#39;, u&#39;random-668390-1499967723.random-976657-1499967722.rancher.internal&#39;, u&#39;rancher.internal&#39;]}<br/>k = &#39;hosts&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;hosts&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.18 s</div>
</em><em class="status">passed</em>test_on_failure_policy</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">1.65 s</div>
</em><em class="status">passed</em>test_on_failure_policy_retry_zero</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">4.18 s</div>
</em><em class="status">passed</em>test_service_pause</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">6.67 s</div>
</em><em class="status">failed</em>test_max_scale</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_discovery.py:3669 (test_max_scale)<br/>new_context = &lt;core.common_fixtures.Context object at 0x7f95ec5ee7d0&gt;<br/>    def test_max_scale(new_context):<br/>        client = new_context.client<br/>        host1 = new_context.host<br/>        host2 = register_simulated_host(new_context)<br/>        host3 = register_simulated_host(new_context)<br/>        host4 = register_simulated_host(new_context)<br/>    <br/>        # add labels to the hosts<br/>        labels = {&#39;group&#39;: &#39;web&#39;, &#39;subgroup&#39;: &#39;Foo&#39;}<br/>        client.update(host1, labels=labels)<br/>        client.update(host2, labels=labels)<br/>        client.update(host3, labels=labels)<br/>        client.update(host4, labels=labels)<br/>    <br/>        # create stack and services<br/>        env = _create_stack(client)<br/>        image_uuid = new_context.image_uuid<br/>        launch_config = {<br/>            &quot;imageUuid&quot;: image_uuid,<br/>            &quot;labels&quot;: {<br/>                &#39;io.rancher.scheduler.global&#39;: &#39;true&#39;,<br/>                &#39;io.rancher.scheduler.affinity:host_label&#39;:<br/>                    &#39;group=Web,subgroup=foo&#39;<br/>            }<br/>        }<br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        scaleMax=4,<br/>                                        scaleIncrement=2)<br/>        service = client.wait_success(service)<br/>        assert service.state == &quot;inactive&quot;<br/>    <br/>        with pytest.raises(ApiError) as e:<br/>            client.update(service, scaleMax=2, scaleMin=3)<br/>        assert e.value.error.status == 422<br/>        assert e.value.error.code == &#39;InvalidOption&#39;<br/>    <br/>        # 1. verify that the service was activated<br/>&gt;       service = client.wait_success(service.activate(), 120)<br/>test_svc_discovery.py:3709: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95fb94e8d0&gt;<br/>obj = {&#39;createdTS&#39;: 1499967744000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:42:24Z&#39;, &#39;revisionId&#39;: u&#39;1r692&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 2, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>timeout = 120<br/>    def wait_success(self, obj, timeout=-1):<br/>        obj = self.wait_transitioning(obj, timeout)<br/>        if obj.transitioning != &#39;no&#39;:<br/>&gt;           raise gdapi.ClientApiError(obj.transitioningMessage)<br/>E           ClientApiError: None<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:17: ClientApiError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">5.93 s</div>
</em>test_svc_links</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">337 ms</div>
</em><em class="status">failed</em>test_service_add_remove_service_link</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_links.py:11 (test_service_add_remove_service_link)<br/>client = &lt;cattle.Client object at 0x7f95f5e1fe50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ea4005d0&gt;<br/>    def test_service_add_remove_service_link(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service1 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service1 = client.wait_success(service1)<br/>    <br/>        service2 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service2 = client.wait_success(service2)<br/>    <br/>        # link service2 to service1<br/>        service_link = {&quot;serviceId&quot;: service2.id}<br/>&gt;       service1 = service1.addservicelink(serviceLink=service_link)<br/>test_svc_links.py:30: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967751000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:42:31Z&#39;, &#39;revisionId&#39;: u&#39;1r694&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>k = &#39;addservicelink&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;addservicelink&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">325 ms</div>
</em><em class="status">failed</em>test_links_after_service_remove</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_links.py:45 (test_links_after_service_remove)<br/>client = &lt;cattle.Client object at 0x7f95f5e1fe50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ea4005d0&gt;<br/>    def test_links_after_service_remove(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>        service1 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service1 = client.wait_success(service1)<br/>    <br/>        service2 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service2 = client.wait_success(service2)<br/>    <br/>        # link servic2 to service1<br/>        service_link = {&quot;serviceId&quot;: service2.id}<br/>&gt;       service1 = service1.addservicelink(serviceLink=service_link)<br/>test_svc_links.py:63: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967751000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:42:31Z&#39;, &#39;revisionId&#39;: u&#39;1r696&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>k = &#39;addservicelink&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;addservicelink&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">479 ms</div>
</em><em class="status">failed</em>test_link_services_from_diff_env</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_links.py:78 (test_link_services_from_diff_env)<br/>client = &lt;cattle.Client object at 0x7f95f5e1fe50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ea4005d0&gt;<br/>    def test_link_services_from_diff_env(client, context):<br/>        env1 = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service1 = client.create_service(name=random_str(),<br/>                                         stackId=env1.id,<br/>                                         launchConfig=launch_config)<br/>        service1 = client.wait_success(service1)<br/>    <br/>        env2 = _create_stack(client)<br/>        service2 = client.create_service(name=random_str(),<br/>                                         stackId=env2.id,<br/>                                         launchConfig=launch_config)<br/>        service2 = client.wait_success(service2)<br/>    <br/>        # try to link - should work<br/>        service_link = {&quot;serviceId&quot;: service2.id}<br/>&gt;       service1.addservicelink(serviceLink=service_link)<br/>test_svc_links.py:98: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967752000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:42:32Z&#39;, &#39;revisionId&#39;: u&#39;1r698&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>k = &#39;addservicelink&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;addservicelink&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">451 ms</div>
</em><em class="status">failed</em>test_set_service_links</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_links.py:101 (test_set_service_links)<br/>client = &lt;cattle.Client object at 0x7f95f5e1fe50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ea4005d0&gt;<br/>    def test_set_service_links(client, context):<br/>        env1 = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service1 = client.create_service(name=random_str(),<br/>                                         stackId=env1.id,<br/>                                         launchConfig=launch_config)<br/>        service1 = client.wait_success(service1)<br/>    <br/>        service2 = client.create_service(name=random_str(),<br/>                                         stackId=env1.id,<br/>                                         launchConfig=launch_config)<br/>        service2 = client.wait_success(service2)<br/>    <br/>        service3 = client.create_service(name=random_str(),<br/>                                         stackId=env1.id,<br/>                                         launchConfig=launch_config)<br/>        service3 = client.wait_success(service3)<br/>    <br/>        # set service2, service3 links for service1<br/>        service_link1 = {&quot;serviceId&quot;: service2.id, &quot;name&quot;: &quot;link1&quot;}<br/>        service_link2 = {&quot;serviceId&quot;: service3.id, &quot;name&quot;: &quot;link2&quot;}<br/>&gt;       service1 = service1. \<br/>            setservicelinks(serviceLinks=[service_link1, service_link2])<br/>test_svc_links.py:126: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967752000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:42:32Z&#39;, &#39;revisionId&#39;: u&#39;1r700&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>k = &#39;setservicelinks&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;setservicelinks&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">375 ms</div>
</em><em class="status">failed</em>test_link_service_twice</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_links.py:165 (test_link_service_twice)<br/>client = &lt;cattle.Client object at 0x7f95f5e1fe50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ea4005d0&gt;<br/>    def test_link_service_twice(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service1 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service1 = client.wait_success(service1)<br/>    <br/>        service2 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service2 = client.wait_success(service2)<br/>    <br/>        # link service2 to service1<br/>        service_link = {&quot;serviceId&quot;: service2.id}<br/>&gt;       service1 = service1.addservicelink(serviceLink=service_link)<br/>test_svc_links.py:184: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967753000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:42:33Z&#39;, &#39;revisionId&#39;: u&#39;1r703&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>k = &#39;addservicelink&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;addservicelink&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">2.17 s</div>
</em><em class="status">failed</em>test_dns_service</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_links.py:195 (test_dns_service)<br/>client = &lt;cattle.Client object at 0x7f95f5e1fe50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ea4005d0&gt;<br/>    def test_dns_service(client, context):<br/>        env = _create_stack(client)<br/>        # create 1 app service, 1 dns service and 2 web services<br/>        # app service would link to dns, and dns to the web services<br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        web1 = client.create_service(name=random_str(),<br/>                                     stackId=env.id,<br/>                                     launchConfig=launch_config)<br/>        web1 = client.wait_success(web1)<br/>    <br/>        web2 = client.create_service(name=random_str(),<br/>                                     stackId=env.id,<br/>                                     launchConfig=launch_config)<br/>        web2 = client.wait_success(web2)<br/>    <br/>        app = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config)<br/>        app = client.wait_success(app)<br/>    <br/>        dns = client.create_dnsService(name=&#39;tata&#39;,<br/>                                       stackId=env.id)<br/>        dns = client.wait_success(dns)<br/>    <br/>        env.activateservices()<br/>        web1 = client.wait_success(web1, 120)<br/>        web2 = client.wait_success(web2)<br/>        app = client.wait_success(app)<br/>        dns = client.wait_success(dns)<br/>        assert web1.state == &#39;active&#39;<br/>        assert web2.state == &#39;active&#39;<br/>        assert app.state == &#39;active&#39;<br/>        assert dns.state == &#39;active&#39;<br/>    <br/>        service_link = {&quot;serviceId&quot;: web1.id}<br/>&gt;       dns = app.addservicelink(serviceLink=service_link)<br/>test_svc_links.py:233: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967753000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...017-07-13T17:42:33Z&#39;, &#39;revisionId&#39;: u&#39;1r707&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 1, &#39;instanceIds&#39;: None}<br/>k = &#39;addservicelink&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;addservicelink&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">521 ms</div>
</em><em class="status">failed</em>test_service_link_emu_docker_link</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_links.py:244 (test_service_link_emu_docker_link)<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>client = &lt;cattle.Client object at 0x7f95f5e1fe50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ea4005d0&gt;<br/>    def test_service_link_emu_docker_link(super_client, client, context):<br/>        env = _create_stack(client)<br/>    <br/>        dns = client.create_dns_service(name=&#39;dns&#39;, stackId=env.id)<br/>    <br/>        server = client.create_service(name=&#39;server&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid<br/>        }, stackId=env.id)<br/>    <br/>        server2 = client.create_service(name=&#39;server2&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid<br/>        }, stackId=env.id)<br/>    <br/>        service = client.create_service(name=&#39;client&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid<br/>        }, stackId=env.id)<br/>    <br/>        server3 = client.create_service(name=&#39;server3&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid<br/>        }, stackId=env.id)<br/>    <br/>        server4 = client.create_service(name=&#39;server4&#39;, launchConfig={<br/>            &#39;imageUuid&#39;: context.image_uuid<br/>        }, stackId=env.id)<br/>    <br/>        service_link1 = {&quot;serviceId&quot;: dns.id, &quot;name&quot;: &quot;dns&quot;}<br/>        service_link2 = {&quot;serviceId&quot;: server.id, &quot;name&quot;: &quot;other&quot;}<br/>        service_link3 = {&quot;serviceId&quot;: server2.id, &quot;name&quot;: &quot;server2&quot;}<br/>        service_link4 = {&quot;serviceId&quot;: server3.id}<br/>        service_link5 = {&quot;serviceId&quot;: server4.id, &quot;name&quot;: &quot;&quot;}<br/>&gt;       service. \<br/>            setservicelinks(serviceLinks=[service_link1,<br/>                                          service_link2, service_link3,<br/>                                          service_link4, service_link5])<br/>test_svc_links.py:275: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967755000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:42:35Z&#39;, &#39;revisionId&#39;: u&#39;1r712&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>k = &#39;setservicelinks&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;setservicelinks&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">426 ms</div>
</em><em class="status">failed</em>test_set_service_links_duplicated_service</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_links.py:343 (test_set_service_links_duplicated_service)<br/>client = &lt;cattle.Client object at 0x7f95f5e1fe50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ea4005d0&gt;<br/>    def test_set_service_links_duplicated_service(client, context):<br/>        env1 = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service1 = client.create_service(name=random_str(),<br/>                                         stackId=env1.id,<br/>                                         launchConfig=launch_config)<br/>        service1 = client.wait_success(service1)<br/>    <br/>        service2 = client.create_service(name=random_str(),<br/>                                         stackId=env1.id,<br/>                                         launchConfig=launch_config)<br/>        service2 = client.wait_success(service2)<br/>    <br/>        # set service links having same service id, diff name<br/>        service_link1 = {&quot;serviceId&quot;: service2.id, &quot;name&quot;: &quot;link1&quot;}<br/>        service_link2 = {&quot;serviceId&quot;: service2.id, &quot;name&quot;: &quot;link2&quot;}<br/>    <br/>&gt;       service1 = service1. \<br/>            setservicelinks(serviceLinks=[service_link1, service_link2])<br/>test_svc_links.py:364: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967756000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:42:36Z&#39;, &#39;revisionId&#39;: u&#39;1r715&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>k = &#39;setservicelinks&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;setservicelinks&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">308 ms</div>
</em><em class="status">failed</em>test_validate_svc_link_name</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_links.py:423 (test_validate_svc_link_name)<br/>client = &lt;cattle.Client object at 0x7f95f5e1fe50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ea4005d0&gt;<br/>    def test_validate_svc_link_name(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        service1 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service1 = client.wait_success(service1)<br/>    <br/>        service2 = client.create_service(name=random_str(),<br/>                                         stackId=env.id,<br/>                                         launchConfig=launch_config)<br/>        service2 = client.wait_success(service2)<br/>    <br/>        # single invalid char<br/>        # cannot contain special chars other than &quot;.&quot;, &quot;-&quot;, &quot;_&quot;, &quot;/&quot;<br/>        service_link = {&quot;serviceId&quot;: service2.id, &quot;name&quot;: &#39;+&#39;}<br/>    <br/>        with pytest.raises(ApiError) as e:<br/>&gt;           service1.addservicelink(serviceLink=service_link)<br/>test_svc_links.py:445: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967756000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:42:36Z&#39;, &#39;revisionId&#39;: u&#39;1r717&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>k = &#39;addservicelink&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;addservicelink&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">537 ms</div>
</em><em class="status">failed</em>test_dependencies_start</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_links.py:568 (test_dependencies_start)<br/>client = &lt;cattle.Client object at 0x7f95f5e1fe50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95ea4005d0&gt;<br/>    def test_dependencies_start(client, context):<br/>        stack = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid}<br/>    <br/>        svc1 = client.create_service(name=random_str(),<br/>                                     stackId=stack.id,<br/>                                     launchConfig=launch_config)<br/>        svc1 = client.wait_success(svc1)<br/>    <br/>        svc2 = client.create_service(name=random_str(),<br/>                                     stackId=stack.id,<br/>                                     launchConfig=launch_config)<br/>        svc2 = client.wait_success(svc2)<br/>    <br/>        svc3 = client.create_service(name=random_str(),<br/>                                     stackId=stack.id,<br/>                                     launchConfig=launch_config)<br/>        svc3 = client.wait_success(svc3)<br/>    <br/>        # set service2, service3 links for service1<br/>        service_link1 = {&quot;serviceId&quot;: svc2.id, &quot;name&quot;: &quot;link1&quot;}<br/>        service_link2 = {&quot;serviceId&quot;: svc3.id, &quot;name&quot;: &quot;link2&quot;}<br/>&gt;       svc1 = svc1. \<br/>            setservicelinks(serviceLinks=[service_link1, service_link2])<br/>test_svc_links.py:593: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967757000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:42:37Z&#39;, &#39;revisionId&#39;: u&#39;1r719&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>k = &#39;setservicelinks&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;setservicelinks&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">2.57 s</div>
</em>test_svc_selectors</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">529 ms</div>
</em><em class="status">failed</em>test_service_add_instance_selector</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_selectors.py:41 (test_service_add_instance_selector)<br/>client = &lt;cattle.Client object at 0x7f95f60f3a50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95e386ee10&gt;<br/>    def test_service_add_instance_selector(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>    <br/>        # use case #1 - instance having selector&#39;s label,<br/>        # is present when service with selector is created<br/>        labels = {&#39;foo&#39;: &quot;bar&quot;}<br/>        container1 = client.create_container(imageUuid=image_uuid,<br/>                                             startOnCreate=True,<br/>                                             labels=labels)<br/>        container1 = client.wait_success(container1)<br/>        assert container1.state == &quot;running&quot;<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: &quot;rancher/none&quot;}<br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>&gt;                                       selectorContainer=&quot;foo=bar&quot;)<br/>test_svc_selectors.py:60: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f60f3a50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;01bdd23f-9ced-4df0-aa53-f052cf97faca&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:422,&quot;code&quot;:&quot;InvalidOption&quot;,&quot;message&quot;:null,&quot;detail&quot;:null,&quot;fieldName&quot;:&quot;Image is required when selector is not passed in&quot;,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;InvalidOption : None\n{&#39;status&#39;: 422, &#39;code&#39;: u&#39;InvalidOption&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;fieldName&#39;: u&#39;Image is required when selector is not passed in&#39;, &#39;message&#39;: None, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;01bdd23f-9ced-4df0-aa53-f052cf97faca&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">750 ms</div>
</em><em class="status">failed</em>test_service_mixed_selector_based_wo_image</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_selectors.py:99 (test_service_mixed_selector_based_wo_image)<br/>client = &lt;cattle.Client object at 0x7f95f60f3a50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95e386ee10&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_service_mixed_selector_based_wo_image(client, context, super_client):<br/>        env = _create_stack(client)<br/>        image_uuid = context.image_uuid<br/>    <br/>        labels = {&#39;foo&#39;: &quot;barbar&quot;}<br/>        container1 = client.create_container(imageUuid=image_uuid,<br/>                                             startOnCreate=True,<br/>                                             labels=labels)<br/>        container1 = client.wait_success(container1)<br/>        assert container1.state == &quot;running&quot;<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: &quot;docker:rancher/none:latest&quot;}<br/>        service = client.create_service(name=random_str(),<br/>                                        stackId=env.id,<br/>                                        launchConfig=launch_config,<br/>                                        selectorContainer=&quot;foo=barbar&quot;)<br/>        service = client.wait_success(service)<br/>&gt;       assert service.selectorContainer == &quot;foo=barbar&quot;<br/>test_svc_selectors.py:117: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = {&#39;createdTS&#39;: 1499967765000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...-07-13T17:42:45Z&#39;, &#39;revisionId&#39;: u&#39;1r725&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: None, &#39;instanceIds&#39;: None}<br/>k = &#39;selectorContainer&#39;<br/>    def __getattr__(self, k):<br/>        if self._is_list() and k in LIST_METHODS:<br/>            return getattr(self.data, k)<br/>&gt;       return getattr(self.__dict__, k)<br/>E       AttributeError: &#39;dict&#39; object has no attribute &#39;selectorContainer&#39;<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:112: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">126 ms</div>
</em><em class="status">passed</em>test_service_no_image_no_selector</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">102 ms</div>
</em><em class="status">failed</em>test_svc_invalid_selector</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_selectors.py:149 (test_svc_invalid_selector)<br/>client = &lt;cattle.Client object at 0x7f95f60f3a50&gt;<br/>    def test_svc_invalid_selector(client):<br/>        env = _create_stack(client)<br/>        launch_config = {&quot;imageUuid&quot;: &quot;rancher/none&quot;}<br/>    <br/>        with pytest.raises(ApiError) as e:<br/>            client.create_service(name=random_str(),<br/>                                  stackId=env.id,<br/>                                  launchConfig=launch_config,<br/>                                  selectorContainer=&quot;foo not in barbar&quot;)<br/>        assert e.value.error.status == 422<br/>&gt;       assert e.value.error.code == &#39;InvalidFormat&#39;<br/>E       assert &#39;InvalidOption&#39; == &#39;InvalidFormat&#39;<br/>E         - InvalidOption<br/>E         + InvalidFormat<br/>test_svc_selectors.py:160: AssertionError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.06 s</div>
</em><em class="status">failed</em>test_update_instance_selector</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_selectors.py:162 (test_update_instance_selector)<br/>client = &lt;cattle.Client object at 0x7f95f60f3a50&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95e386ee10&gt;<br/>    def test_update_instance_selector(client, context):<br/>        env = _create_stack(client)<br/>    <br/>        image_uuid = context.image_uuid<br/>    <br/>        labels = {&#39;foo1&#39;: &quot;bar1&quot;}<br/>        c1 = client.create_container(name=random_str(),<br/>                                     imageUuid=image_uuid,<br/>                                     startOnCreate=True,<br/>                                     labels=labels)<br/>        c1 = client.wait_success(c1)<br/>        assert c1.state == &quot;running&quot;<br/>    <br/>        labels = {&#39;bar1&#39;: &quot;foo1&quot;}<br/>        c2 = client.create_container(name=random_str(),<br/>                                     imageUuid=image_uuid,<br/>                                     startOnCreate=True,<br/>                                     labels=labels)<br/>        c2 = client.wait_success(c2)<br/>        assert c2.state == &quot;running&quot;<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: &quot;rancher/none&quot;}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    launchConfig=launch_config,<br/>&gt;                                   selectorContainer=&quot;foo1=bar1&quot;)<br/>test_svc_selectors.py:188: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f60f3a50&gt;<br/>text = &#39;{&quot;id&quot;:&quot;79046502-80b0-4bb7-aad8-dec217ccf856&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:422,&quot;code&quot;:&quot;InvalidOption&quot;,&quot;message&quot;:null,&quot;detail&quot;:null,&quot;fieldName&quot;:&quot;Image is required when selector is not passed in&quot;,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;InvalidOption : None\n{&#39;status&#39;: 422, &#39;code&#39;: u&#39;InvalidOption&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;fieldName&#39;: u&#39;Image is required when selector is not passed in&#39;, &#39;message&#39;: None, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;79046502-80b0-4bb7-aad8-dec217ccf856&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
</ul>
</li>
<li class="level suite failed open">
<span><em class="time">
<div class="time">4 m 29 s</div>
</em>test_svc_update</span>
<ul>
<li class="level test failed open">
<span><em class="time">
<div class="time">11.05 s</div>
</em><em class="status">failed</em>test_u_update_check_revision</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:3 (test_u_update_check_revision)<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>    def test_u_update_check_revision(client, super_client, context):<br/>        stack = client.create_stack(name=random_str())<br/>        image_uuid = context.image_uuid<br/>        launch_config = {&#39;imageUuid&#39;: image_uuid,<br/>                         &#39;capAdd&#39;: &#39;AUDIT_CONTROL&#39;}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=stack.id,<br/>                                    launchConfig=launch_config)<br/>        svc = client.wait_success(svc)<br/>        svc = client.wait_success(svc.activate())<br/>    <br/>        revisions = client.list_revision(serviceId=svc.id)<br/>        assert len(revisions) == 1<br/>        rev1 = revisions[0]<br/>        assert rev1.config[&#39;launchConfig&#39;][&#39;capAdd&#39;] == [&#39;AUDIT_CONTROL&#39;]<br/>        assert svc.revisionId == rev1.id<br/>        p_v1 = svc.launchConfig.version<br/>        assert p_v1 == &#39;0&#39;<br/>        c11 = _validate_compose_instance_start(client, svc, stack, &quot;1&quot;)<br/>    <br/>        # update field that triggers upgrade<br/>        launch_config = {&#39;capAdd&#39;: &#39;AUDIT_WRITE&#39;}<br/>        svc = client.update(svc, launchConfig=launch_config)<br/>        svc = client.wait_success(svc)<br/>        assert svc.previousRevisionId == rev1.id<br/>    <br/>        revisions = client.list_revision(serviceId=svc.id)<br/>        assert len(revisions) == 2<br/>        rev2_id = 0<br/>        for rev in revisions:<br/>            if rev.id != rev1.id:<br/>                assert rev.config[&#39;launchConfig&#39;][&#39;capAdd&#39;] == [&#39;AUDIT_WRITE&#39;]<br/>                rev2_id = rev.id<br/>                break<br/>    <br/>        assert rev2_id != 0<br/>        assert svc.revisionId == rev2_id<br/>        p_v2 = svc.launchConfig.version<br/>        assert p_v2 != p_v1<br/>        c12 = _validate_compose_instance_start(client, svc, stack, &quot;1&quot;)<br/>        assert c12.id != c11.id<br/>        assert client.reload(c11).state != &#39;running&#39;<br/>    <br/>        # update ports, validate that the revision got created<br/>        # but the container is still the same<br/>        launch_config = {&#39;ports&#39;: &#39;80:80/tcp&#39;}<br/>        svc = client.update(svc, launchConfig=launch_config)<br/>&gt;       svc = client.wait_success(svc)<br/>test_svc_update.py:51: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499967773000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;8e7cc4dd-e91e-4c3d...017-07-13T17:42:53Z&#39;, &#39;revisionId&#39;: u&#39;1r731&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 2, &#39;instanceIds&#39;: None}<br/>timeout = -1<br/>    def wait_success(self, obj, timeout=-1):<br/>        obj = self.wait_transitioning(obj, timeout)<br/>        if obj.transitioning != &#39;no&#39;:<br/>&gt;           raise gdapi.ClientApiError(obj.transitioningMessage)<br/>E           ClientApiError: None<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:17: ClientApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">19.65 s</div>
</em><em class="status">failed</em>test_u_in_service_upgrade_primary</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:133 (test_u_in_service_upgrade_primary)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_u_in_service_upgrade_primary(context, client, super_client):<br/>        env, svc, up_svc = _insvc_upgrade(context,<br/>                                          client,<br/>                                          super_client,<br/>                                          True,<br/>                                          launchConfig={&#39;labels&#39;: {&#39;foo&#39;: &quot;bar&quot;}},<br/>&gt;                                         startFirst=True)<br/>test_svc_update.py:140: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_update.py:860: in _insvc_upgrade<br/>    env, svc = _create_multi_lc_svc(client, super_client, context, activate)<br/>test_svc_update.py:895: in _create_multi_lc_svc<br/>    svc = client.wait_success(svc.activate())<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499967785000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: None, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;image&#39;: ...&#39;2017-07-13T17:43:05Z&#39;, &#39;revisionId&#39;: u&#39;1r732&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 6, &#39;instanceIds&#39;: []}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [scalingGroup:1s466] to be done after 16.9061119556 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">17.02 s</div>
</em><em class="status">failed</em>test_u_in_service_upgrade_inactive</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:144 (test_u_in_service_upgrade_inactive)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_u_in_service_upgrade_inactive(context, client, super_client):<br/>        env, svc, up_svc = _insvc_upgrade(context,<br/>                                          client, super_client,<br/>                                          False,<br/>                                          launchConfig={&#39;labels&#39;: {&#39;foo&#39;: &quot;bar&quot;}},<br/>&gt;                                         startFirst=True)<br/>test_svc_update.py:150: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_update.py:860: in _insvc_upgrade<br/>    env, svc = _create_multi_lc_svc(client, super_client, context, activate)<br/>test_svc_update.py:895: in _create_multi_lc_svc<br/>    svc = client.wait_success(svc.activate())<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499967804000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: None, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;image&#39;: ...&#39;2017-07-13T17:43:24Z&#39;, &#39;revisionId&#39;: u&#39;1r733&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 6, &#39;instanceIds&#39;: []}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [scalingGroup:1s467] to be done after 16.7549479008 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">17.06 s</div>
</em><em class="status">failed</em>test_u_in_service_upgrade_all</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:156 (test_u_in_service_upgrade_all)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_u_in_service_upgrade_all(context, client, super_client):<br/>        secondary = [{&#39;name&#39;: &quot;secondary1&quot;, &#39;labels&#39;: {&#39;foo&#39;: &quot;bar&quot;}},<br/>                     {&#39;name&#39;: &quot;secondary2&quot;, &#39;labels&#39;: {&#39;foo&#39;: &quot;bar&quot;}}]<br/>        env, svc, up_svc = _insvc_upgrade(context, client,<br/>                                          super_client,<br/>                                          True,<br/>                                          launchConfig={&#39;labels&#39;: {&#39;foo&#39;: &quot;bar&quot;}},<br/>                                          secondaryLaunchConfigs=secondary,<br/>                                          batchSize=3,<br/>&gt;                                         intervalMillis=100)<br/>test_svc_update.py:166: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_update.py:860: in _insvc_upgrade<br/>    env, svc = _create_multi_lc_svc(client, super_client, context, activate)<br/>test_svc_update.py:895: in _create_multi_lc_svc<br/>    svc = client.wait_success(svc.activate())<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499967821000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: None, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;image&#39;: ...&#39;2017-07-13T17:43:41Z&#39;, &#39;revisionId&#39;: u&#39;1r734&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 6, &#39;instanceIds&#39;: []}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [scalingGroup:1s468] to be done after 16.83593297 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">17.23 s</div>
</em><em class="status">failed</em>test_u_in_service_upgrade_one_secondary</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:170 (test_u_in_service_upgrade_one_secondary)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_u_in_service_upgrade_one_secondary(context, client, super_client):<br/>        secondary = [{&#39;name&#39;: &quot;secondary1&quot;, &#39;labels&#39;: {&#39;foo&#39;: &quot;bar&quot;}}]<br/>        env, svc, upgraded_svc = _insvc_upgrade(context, client,<br/>                                                super_client, True,<br/>                                                secondaryLaunchConfigs=secondary,<br/>                                                batchSize=2,<br/>&gt;                                               intervalMillis=100)<br/>test_svc_update.py:177: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_update.py:860: in _insvc_upgrade<br/>    env, svc = _create_multi_lc_svc(client, super_client, context, activate)<br/>test_svc_update.py:895: in _create_multi_lc_svc<br/>    svc = client.wait_success(svc.activate())<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499967838000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: None, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;image&#39;: ...017-07-13T17:43:58Z&#39;, &#39;revisionId&#39;: u&#39;1r735&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 6, &#39;instanceIds&#39;: None}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [scalingGroup:1s469] to be done after 16.9228470325 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">17.02 s</div>
</em><em class="status">failed</em>test_u_in_service_upgrade_mix</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:181 (test_u_in_service_upgrade_mix)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_u_in_service_upgrade_mix(context, client, super_client):<br/>        secondary = [{&#39;name&#39;: &quot;secondary1&quot;, &#39;labels&#39;: {&#39;foo&#39;: &quot;bar&quot;}}]<br/>        env, svc, up_svc = _insvc_upgrade(context, client, super_client, True,<br/>                                          launchConfig={&#39;labels&#39;: {&#39;foo&#39;: &quot;bar&quot;}},<br/>                                          secondaryLaunchConfigs=secondary,<br/>&gt;                                         batchSize=1)<br/>test_svc_update.py:187: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_update.py:860: in _insvc_upgrade<br/>    env, svc = _create_multi_lc_svc(client, super_client, context, activate)<br/>test_svc_update.py:895: in _create_multi_lc_svc<br/>    svc = client.wait_success(svc.activate())<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499967855000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: None, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;image&#39;: ...&#39;2017-07-13T17:44:15Z&#39;, &#39;revisionId&#39;: u&#39;1r736&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 6, &#39;instanceIds&#39;: []}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [scalingGroup:1s470] to be done after 16.7452700138 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.98 s</div>
</em><em class="status">failed</em>test_u_big_scale</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:191 (test_u_big_scale)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>    def test_u_big_scale(context, client):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        assert env.state == &#39;active&#39;<br/>        image_uuid = context.image_uuid<br/>        launch_config = {&#39;imageUuid&#39;: image_uuid,<br/>                         &#39;networkMode&#39;: None,<br/>                         &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>    <br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    scale=5,<br/>                                    launchConfig=launch_config,<br/>                                    intervalMillis=100)<br/>        svc = client.wait_success(svc)<br/>&gt;       svc = client.wait_success(svc.activate())<br/>test_svc_update.py:207: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499967872000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: None, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;image&#39;: ...&#39;2017-07-13T17:44:32Z&#39;, &#39;revisionId&#39;: u&#39;1r737&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 5, &#39;instanceIds&#39;: []}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [scalingGroup:1s471] to be done after 16.7444729805 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.99 s</div>
</em><em class="status">failed</em>test_u_cancelupgrade_rollback</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:217 (test_u_cancelupgrade_rollback)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>    def test_u_cancelupgrade_rollback(context, client):<br/>        # upgrading-pausing-paused-rollback<br/>&gt;       svc = _create_and_schedule_inservice_upgrade(client, context)<br/>test_svc_update.py:220: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_update.py:841: in _create_and_schedule_inservice_upgrade<br/>    svc = client.wait_success(svc.activate())<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499967890000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: None, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;image&#39;: ...&#39;2017-07-13T17:44:50Z&#39;, &#39;revisionId&#39;: u&#39;1r738&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 4, &#39;instanceIds&#39;: []}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [scalingGroup:1s472] to be done after 16.7283139229 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.98 s</div>
</em><em class="status">failed</em>test_u_in_service_upgrade_networks_from</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:224 (test_u_in_service_upgrade_networks_from)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_u_in_service_upgrade_networks_from(context, client, super_client):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        image_uuid = context.image_uuid<br/>        lc1 = {&quot;imageUuid&quot;: image_uuid, &quot;networkMode&quot;: &#39;container&#39;,<br/>               &quot;networkLaunchConfig&quot;: &quot;secondary1&quot;,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        s11 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary1&quot;,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        s12 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary2&quot;,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    scale=2,<br/>                                    launchConfig=lc1,<br/>                                    secondaryLaunchConfigs=[s11,<br/>                                                            s12])<br/>        svc = client.wait_success(svc)<br/>        svc = client.wait_success(svc.activate())<br/>    <br/>        p11 = _validate_compose_instance_start(client, svc, env, &quot;1&quot;)<br/>        p12 = _validate_compose_instance_start(client, svc, env, &quot;2&quot;)<br/>    <br/>        s11 = _validate_compose_instance_start(client, svc, env,<br/>                                               &quot;1&quot;, &quot;secondary1&quot;)<br/>        s12 = _validate_compose_instance_start(client, svc, env,<br/>                                               &quot;2&quot;, &quot;secondary1&quot;)<br/>    <br/>        s21 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary1&quot;,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;, &#39;dns&#39;: [&#39;10.1.1.1&#39;]}<br/>        u_svc = _run_insvc_upgrade(client, svc,<br/>                                   secondaryLaunchConfigs=[s21],<br/>                                   batchSize=1)<br/>&gt;       u_svc = client.wait_success(u_svc)<br/>test_svc_update.py:258: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499967907000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;container&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;...2017-07-13T17:45:07Z&#39;, &#39;revisionId&#39;: u&#39;1r740&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 10, &#39;instanceIds&#39;: []}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [scalingGroup:1s473] to be done after 15.060423851 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">23.81 s</div>
</em><em class="status">failed</em>test_u_in_service_upgrade_volumes_from</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:270 (test_u_in_service_upgrade_volumes_from)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_u_in_service_upgrade_volumes_from(context, client, super_client):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        image_uuid = context.image_uuid<br/>        lc1 = {&quot;imageUuid&quot;: image_uuid,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        sec11 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary1&quot;,<br/>                 &quot;dataVolumesFromLaunchConfigs&quot;: [&#39;secondary2&#39;],<br/>                 &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        sec12 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary2&quot;,<br/>                 &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    scale=2,<br/>                                    launchConfig=lc1,<br/>                                    secondaryLaunchConfigs=[sec11,<br/>                                                            sec12])<br/>        svc = client.wait_success(svc)<br/>        svc = client.wait_success(svc.activate())<br/>    <br/>        s11 = _validate_compose_instance_start(client, svc, env,<br/>                                               &quot;1&quot;, &quot;secondary1&quot;)<br/>        s12 = _validate_compose_instance_start(client, svc, env,<br/>                                               &quot;2&quot;, &quot;secondary1&quot;)<br/>    <br/>        s21 = _validate_compose_instance_start(client, svc, env,<br/>                                               &quot;1&quot;, &quot;secondary2&quot;)<br/>        s22 = _validate_compose_instance_start(client, svc, env,<br/>                                               &quot;2&quot;, &quot;secondary2&quot;)<br/>    <br/>        lc2 = {&quot;imageUuid&quot;: image_uuid,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;,<br/>               &#39;dns&#39;: [&#39;10.1.1.1&#39;]}<br/>        sec22 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary2&quot;,<br/>                 &#39;prePullOnUpgrade&#39;: &#39;none&#39;,<br/>                 &#39;dns&#39;: [&#39;10.1.1.1&#39;]}<br/>        u_svc = _run_insvc_upgrade(client, svc,<br/>                                   launchConfig=lc2,<br/>                                   secondaryLaunchConfigs=[sec22],<br/>                                   batchSize=1)<br/>&gt;       u_svc = client.wait_success(u_svc)<br/>test_svc_update.py:311: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499967924000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;vcpu&#39;: 1, &#39;image&#39;: u&#39;random-39...17-07-13T17:45:24Z&#39;, &#39;revisionId&#39;: u&#39;1r742&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 12, &#39;instanceIds&#39;: None}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [scalingGroup:1s474] to be done after 16.7287631035 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">97 ms</div>
</em><em class="status">failed</em>test_u_dns_service_upgrade</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:322 (test_u_dns_service_upgrade)<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>    def test_u_dns_service_upgrade(client):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        labels = {&quot;foo&quot;: &quot;bar&quot;}<br/>        launch_config = {&quot;labels&quot;: labels}<br/>        dns = client.create_dnsService(name=random_str(),<br/>                                       stackId=env.id,<br/>&gt;                                      launchConfig=launch_config)<br/>test_svc_update.py:330: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>text = &#39;{&quot;id&quot;:&quot;7f988067-1592-4e53-a5c8-ccbadc96f231&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:422,&quot;code&quot;:&quot;MissingRequired&quot;,&quot;message&quot;:null,&quot;detail&quot;:null,&quot;fieldName&quot;:&quot;image&quot;,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;MissingRequired : None\n{&#39;status&#39;: 422, &#39;code&#39;: u&#39;MissingRequired&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;fieldName&#39;: u&#39;image&#39;, &#39;message&#39;: None, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;7f988067-1592-4e53-a5c8-ccbadc96f231&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">73 ms</div>
</em><em class="status">failed</em>test_u_external_service_upgrade</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:345 (test_u_external_service_upgrade)<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>    def test_u_external_service_upgrade(client):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        labels = {&quot;foo&quot;: &quot;bar&quot;}<br/>        launch_config = {&quot;labels&quot;: labels,<br/>                         &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        ips = [&quot;72.22.16.5&quot;, &#39;192.168.0.10&#39;]<br/>        svc = client.create_externalService(name=random_str(),<br/>                                            stackId=env.id,<br/>                                            externalIpAddresses=ips,<br/>&gt;                                           launchConfig=launch_config)<br/>test_svc_update.py:356: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:509: in &lt;lambda&gt;<br/>    lambda *args, **kw: method(type_name, *args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:420: in create<br/>    return self._post(collection_url, data=self._to_dict(*args, **kw))<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:64: in wrapped<br/>    return fn(*args, **kw)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:275: in _post<br/>    self._error(r.text)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>text = &#39;{&quot;id&quot;:&quot;1f8f3692-0b38-4e98-9fd8-59769e276ad7&quot;,&quot;type&quot;:&quot;error&quot;,&quot;links&quot;:{},&quot;actions&quot;:{},&quot;status&quot;:422,&quot;code&quot;:&quot;MissingRequired&quot;,&quot;message&quot;:null,&quot;detail&quot;:null,&quot;fieldName&quot;:&quot;image&quot;,&quot;baseType&quot;:&quot;error&quot;}&#39;<br/>    def _error(self, text):<br/>&gt;       raise ApiError(self._unmarshall(text))<br/>E       ApiError: (ApiError(...), &quot;MissingRequired : None\n{&#39;status&#39;: 422, &#39;code&#39;: u&#39;MissingRequired&#39;, &#39;links&#39;: {}, &#39;baseType&#39;: u&#39;error&#39;, &#39;detail&#39;: None, &#39;actions&#39;: {}, &#39;fieldName&#39;: u&#39;image&#39;, &#39;message&#39;: None, &#39;type&#39;: u&#39;error&#39;, &#39;id&#39;: u&#39;1f8f3692-0b38-4e98-9fd8-59769e276ad7&#39;}&quot;)<br/>../../.venv/local/lib/python2.7/site-packages/gdapi.py:255: ApiError<br/></span>
</li>
</ul>
</li>
<li class="level test">
<span><em class="time">
<div class="time">961 ms</div>
</em><em class="status">passed</em>test_u_service_upgrade_mixed_selector</span>
<ul>
<li class="text">
<span class="stdout">.<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">1.73 s</div>
</em><em class="status">failed</em>test_u_rollback_sidekicks</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:386 (test_u_rollback_sidekicks)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_u_rollback_sidekicks(context, client, super_client):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        image_uuid = context.image_uuid<br/>        lc1 = {&quot;imageUuid&quot;: image_uuid,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        s11 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary1&quot;,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        s12 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary2&quot;,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    scale=3,<br/>                                    launchConfig=lc1,<br/>                                    secondaryLaunchConfigs=[s11,<br/>                                                            s12])<br/>        svc = client.wait_success(svc)<br/>        svc = client.wait_success(svc.activate())<br/>&gt;       initial_maps = super_client. \<br/>            list_serviceExposeMap(serviceId=svc.id,<br/>                                  state=&#39;active&#39;, upgrade=False)<br/>E       AttributeError: &#39;Client&#39; object has no attribute &#39;list_serviceExposeMap&#39;<br/>test_svc_update.py:405: AttributeError<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">17.06 s</div>
</em><em class="status">failed</em>test_u_rollback_id</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:431 (test_u_rollback_id)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_u_rollback_id(context, client, super_client):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        assert env.state == &#39;active&#39;<br/>        image_uuid = context.image_uuid<br/>        lc1 = {&#39;imageUuid&#39;: image_uuid,<br/>               &#39;networkMode&#39;: None,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    scale=1,<br/>                                    launchConfig=lc1,<br/>                                    image=image_uuid)<br/>        svc = client.wait_success(svc)<br/>&gt;       svc = client.wait_success(svc.activate())<br/>test_svc_update.py:446: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499967951000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: None, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;image&#39;: ...&#39;2017-07-13T17:45:51Z&#39;, &#39;revisionId&#39;: u&#39;1r746&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 1, &#39;instanceIds&#39;: []}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [scalingGroup:1s477] to be done after 16.7500729561 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">16.84 s</div>
</em><em class="status">failed</em>test_u_in_service_upgrade_port_mapping</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:468 (test_u_in_service_upgrade_port_mapping)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>super_client = &lt;cattle.Client object at 0x7f9641613c10&gt;<br/>    def test_u_in_service_upgrade_port_mapping(context, client, super_client):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid, &#39;ports&#39;: [&#39;80&#39;, &#39;82/tcp&#39;]}<br/>        secondary1 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary1&quot;,<br/>                      &#39;ports&#39;: [&#39;90&#39;]}<br/>        secondary2 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary2&quot;,<br/>                      &#39;ports&#39;: [&#39;100&#39;]}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    scale=1,<br/>                                    launchConfig=launch_config,<br/>                                    secondaryLaunchConfigs=[secondary1,<br/>                                                            secondary2])<br/>        svc = client.wait_success(svc)<br/>        svc = client.wait_success(svc.activate())<br/>    <br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &#39;ports&#39;: [&#39;80&#39;, &#39;82/tcp&#39;, &#39;8083:83/udp&#39;],<br/>                         &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        u_svc = _run_insvc_upgrade(client, svc, launchConfig=launch_config,<br/>                                   secondaryLaunchConfigs=[secondary1,<br/>                                                           secondary2],<br/>                                   batchSize=1)<br/>&gt;       u_svc = client.wait_success(u_svc)<br/>test_svc_update.py:494: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499967968000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;3990a8fc-f513-479b...&#39;2017-07-13T17:46:08Z&#39;, &#39;revisionId&#39;: u&#39;1r748&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 6, &#39;instanceIds&#39;: []}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [scalingGroup:1s478] to be done after 15.0241270065 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">20.08 s</div>
</em><em class="status">failed</em>test_u_sidekick_addition</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:505 (test_u_sidekick_addition)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>    def test_u_sidekick_addition(context, client):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        image_uuid = context.image_uuid<br/>        lc1 = {&quot;imageUuid&quot;: image_uuid,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        s11 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary1&quot;,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    scale=1,<br/>                                    launchConfig=lc1,<br/>                                    secondaryLaunchConfigs=[s11])<br/>        svc = client.wait_success(svc)<br/>        svc = client.wait_success(svc.activate())<br/>    <br/>        c2_pre = _validate_compose_instance_start(client, svc, env,<br/>                                                  &quot;1&quot;, &quot;secondary1&quot;)<br/>    <br/>        lc2 = {&quot;imageUuid&quot;: image_uuid,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;,<br/>               &#39;dns&#39;: [&#39;10.1.1.1&#39;]}<br/>        s12 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary2&quot;,<br/>               &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        u_svc = _run_insvc_upgrade(client, svc,<br/>                                   launchConfig=lc2,<br/>                                   secondaryLaunchConfigs=[s12],<br/>                                   batchSize=1)<br/>        u_svc = client.wait_success(u_svc)<br/>        assert u_svc.state == &#39;active&#39;<br/>    <br/>        # validate that all service instances are present, and their version<br/>        c1 = _validate_compose_instance_start(client, svc, env, &quot;1&quot;)<br/>        assert c1.version != &#39;0&#39;<br/>        c2 = _validate_compose_instance_start(client, svc, env, &quot;1&quot;,<br/>                                              &quot;secondary1&quot;)<br/>        assert c2.version == &#39;0&#39;<br/>        assert c2.id == c2_pre.id<br/>        c3 = _validate_compose_instance_start(client, svc, env, &quot;1&quot;,<br/>&gt;                                             &quot;secondary2&quot;)<br/>test_svc_update.py:545: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_update.py:818: in _validate_compose_instance_start<br/>    wait_for(lambda: wait_for_condition(client, service,<br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_update.py:819: in &lt;lambda&gt;<br/>    wait_for_map_count))<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>resource = {&#39;createdTS&#39;: 1499967985000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;vcpu&#39;: 1, &#39;image&#39;: u&#39;random-39...017-07-13T17:46:25Z&#39;, &#39;revisionId&#39;: u&#39;1r750&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 3, &#39;instanceIds&#39;: None}<br/>check_function = &lt;function wait_for_map_count at 0x7f95efc48cf8&gt;<br/>fail_handler = None, timeout = 15<br/>    def wait_for_condition(client, resource, check_function, fail_handler=None,<br/>                           timeout=DEFAULT_TIMEOUT):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        resource = client.reload(resource)<br/>        while not check_function(resource):<br/>            if time.time() - start &gt; timeout:<br/>                exceptionMsg = &#39;Timeout waiting for &#39; + resource.kind + \<br/>                    &#39; to satisfy condition: &#39; + \<br/>                    inspect.getsource(check_function)<br/>                if (fail_handler):<br/>                    exceptionMsg = exceptionMsg + fail_handler(resource)<br/>&gt;               raise Exception(exceptionMsg)<br/>E               Exception: Timeout waiting for scalingGroup to satisfy condition:     def wait_for_map_count(service):<br/>E                       instances = client. \<br/>E                           list_container(name=name,<br/>E                                          state=&quot;running&quot;)<br/>E                       return len(instances) == 1<br/>common_fixtures.py:429: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">18.72 s</div>
</em><em class="status">failed</em>test_u_sidekick_addition_rollback</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:548 (test_u_sidekick_addition_rollback)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>    def test_u_sidekick_addition_rollback(context, client):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        secondary1 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary1&quot;,<br/>                      &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        secondary2 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary2&quot;,<br/>                      &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    scale=2,<br/>                                    launchConfig=launch_config,<br/>                                    secondaryLaunchConfigs=[secondary1])<br/>        svc = client.wait_success(svc)<br/>        svc = client.wait_success(svc.activate())<br/>        c11_pre = _validate_compose_instance_start(client, svc, env, &quot;1&quot;)<br/>        c12_pre = _validate_compose_instance_start(client, svc, env, &quot;2&quot;)<br/>        c21_pre = _validate_compose_instance_start(client, svc, env, &quot;1&quot;,<br/>                                                   &quot;secondary1&quot;)<br/>        c22_pre = _validate_compose_instance_start(client, svc, env, &quot;2&quot;,<br/>                                                   &quot;secondary1&quot;)<br/>    <br/>        u_svc = _run_insvc_upgrade(client, svc,<br/>                                   launchConfig=launch_config,<br/>                                   secondaryLaunchConfigs=[secondary2],<br/>                                   batchSize=1)<br/>&gt;       u_svc = client.wait_success(u_svc)<br/>test_svc_update.py:577: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:15: in wait_success<br/>    obj = self.wait_transitioning(obj, timeout)<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>self = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>obj = {&#39;createdTS&#39;: 1499968005000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;c51cd58c-14c9-48f4...017-07-13T17:46:45Z&#39;, &#39;revisionId&#39;: u&#39;1r752&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 6, &#39;instanceIds&#39;: None}<br/>timeout = 15, sleep = 2<br/>    def wait_transitioning(self, obj, timeout=-1, sleep=0.01):<br/>        timeout = _get_timeout(timeout)<br/>        start = time.time()<br/>        obj = self.reload(obj)<br/>        while obj.transitioning == &#39;yes&#39;:<br/>            time.sleep(sleep)<br/>            sleep *= 2<br/>            if sleep &gt; 2:<br/>                sleep = 2<br/>            obj = self.reload(obj)<br/>            delta = time.time() - start<br/>            if delta &gt; timeout:<br/>                msg = &#39;Timeout waiting for [{}:{}] to be done after {} seconds&#39;.format(obj.type, obj.id, delta)<br/>&gt;               raise Exception(msg)<br/>E               Exception: Timeout waiting for [scalingGroup:1s480] to be done after 16.7332789898 seconds<br/>../../.venv/local/lib/python2.7/site-packages/cattle.py:33: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time">
<div class="time">19.69 s</div>
</em><em class="status">failed</em>test_u_sidekick_addition_wo_primary</span>
<ul>
<li class="text">
<span class="stdout">F<br/></span>
</li>
<li class="text">
<span class="stderr">cattletest/core/test_svc_update.py:597 (test_u_sidekick_addition_wo_primary)<br/>context = &lt;core.common_fixtures.Context object at 0x7f95efefe590&gt;<br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>    def test_u_sidekick_addition_wo_primary(context, client):<br/>        env = client.create_stack(name=random_str())<br/>        env = client.wait_success(env)<br/>        image_uuid = context.image_uuid<br/>        launch_config = {&quot;imageUuid&quot;: image_uuid,<br/>                         &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        secondary1 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary1&quot;,<br/>                      &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        secondary2 = {&quot;imageUuid&quot;: image_uuid, &quot;name&quot;: &quot;secondary2&quot;,<br/>                      &#39;prePullOnUpgrade&#39;: &#39;none&#39;}<br/>        svc = client.create_service(name=random_str(),<br/>                                    stackId=env.id,<br/>                                    scale=1,<br/>                                    launchConfig=launch_config,<br/>                                    secondaryLaunchConfigs=[secondary1])<br/>        svc = client.wait_success(svc)<br/>        svc = client.wait_success(svc.activate())<br/>        c1_pre = _validate_compose_instance_start(client, svc, env, &quot;1&quot;)<br/>        c2_pre = _validate_compose_instance_start(client, svc, env, &quot;1&quot;,<br/>                                                  &quot;secondary1&quot;)<br/>    <br/>        u_svc = _run_insvc_upgrade(client, svc,<br/>                                   secondaryLaunchConfigs=[secondary2],<br/>                                   batchSize=1)<br/>        u_svc = client.wait_success(u_svc)<br/>        assert u_svc.state == &#39;active&#39;<br/>    <br/>        # validate that all service instances are present, and their version<br/>        c1 = _validate_compose_instance_start(client, svc, env, &quot;1&quot;)<br/>        assert c1.version == &#39;0&#39;<br/>        assert c1.id == c1_pre.id<br/>        c2 = _validate_compose_instance_start(client, svc, env, &quot;1&quot;,<br/>                                              &quot;secondary1&quot;)<br/>        assert c2.version == &#39;0&#39;<br/>        assert c2.id == c2_pre.id<br/>        c3 = _validate_compose_instance_start(client, svc, env, &quot;1&quot;,<br/>&gt;                                             &quot;secondary2&quot;)<br/>test_svc_update.py:634: <br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>test_svc_update.py:818: in _validate_compose_instance_start<br/>    wait_for(lambda: wait_for_condition(client, service,<br/>common_fixtures.py:676: in wait_for<br/>    ret = callback()<br/>test_svc_update.py:819: in &lt;lambda&gt;<br/>    wait_for_map_count))<br/>_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ <br/>client = &lt;cattle.Client object at 0x7f95f69e5190&gt;<br/>resource = {&#39;createdTS&#39;: 1499968024000, &#39;launchConfig&#39;: {&#39;tty&#39;: False, &#39;networkMode&#39;: u&#39;managed&#39;, &#39;version&#39;: u&#39;0&#39;, &#39;vcpu&#39;: 1, &#39;im...017-07-13T17:47:04Z&#39;, &#39;revisionId&#39;: u&#39;1r754&#39;, &#39;fqdn&#39;: None, &#39;scaleIncrement&#39;: 1, &#39;createIndex&#39;: 2, &#39;instanceIds&#39;: None}<br/>check_function = &lt;function wait_for_map_count at 0x7f95efa71f50&gt;<br/>fail_handler = None, timeout = 15<br/>    def wait_for_condition(client, resource, check_function, fail_handler=None,<br/>                           timeout=DEFAULT_TIMEOUT):<br/>        sleep_time = _sleep_time()<br/>        start = time.time()<br/>        resource = client.reload(resource)<br/>        while not check_function(resource):<br/>            if time.time() - start &gt; timeout:<br/>                exceptionMsg = &#39;Timeout waiting for &#39; + resource.kind + \<br/>                    &#39; to satisfy condition: &#39; + \<br/>                    inspect.getsource(check_function)<br/>                if (fail_handler):<br/>                    exceptionMsg = exceptionMsg + fail_handler(resource)<br/>&gt;               raise Exception(exceptionMsg)<br/>E               Exception: Timeout waiting for scalingGroup to satisfy condition:     def wait_for_map_count(service):<br/>E                       instances = client. \<br/>E                           list_container(name=name,<br/>E                                          state=&quot;running&quot;)<br/>E                       return len(instances) == 1<br/>common_fixtures.py:429: Exception<br/></span>
</li>
</ul>
</li>
<li class="level test failed open">
<span><em class="time"></em><em class="status">failed</em>test_u_sidekick_addition_two_sidekicks</span>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="footer">
<p>Generated by PyCharm Community Edition on 7/13/17 10:47 AM</p>
</div>
</body>
</html>
